webpackJsonp([45],{"Q1D/":function(e,t){},U1Ic:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("woOf"),s=a.n(r),n=a("mvHQ"),i=a.n(n),o=a("PO8r"),l=a("nQqC"),u=a("BWhR"),c=a("c2Ch"),m={components:{Menu:o.a,basecard:l.a,Usermanagement:u.a},name:"UserManagement",data:function(){var e=this;return{i8n:this.$store.state.i18n,contrForPrioNum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,country:this.$store.state.userInfo.country,delprio:this.$store.state.userInfo.delprio,clogoprio:this.$store.state.userInfo.clogoprio,logoprio:this.$store.state.userInfo.logoprio,loading:!1,tableData:[],tenantidData:[],searchList:{prionum:"",endprio:"",prio:"",username:"",country:"",tenantid:"",superid:"",page:1,count:20},pageCount:20,searchSelectCountry:[],searchSelectPerson:[],projectList:[],currentPage1:1,total:0,addData:{username:"",userkey:"",usertel:"",usermail:"",prio:"",country:"",tenantid:"",customername:"",delprio:"",record:"",cusname:"",accprio:"",logoprio:""},accprioList:[{index:1,value:"Yes"},{index:2,value:"No"}],logoprioList:[{index:1,value:"Yes"},{index:2,value:"No"}],add:!1,add_User:!1,addRules:{realname:[{required:!0,message:this.$t("usermanagement.Realname2"),trigger:"blur"}],username:[{required:!0,message:this.$t("usermanagement.adduserrule"),trigger:"blur"},{pattern:/^\w+$/,message:this.$t("usermanagement.adduserrule1")}],usertel:[{required:!1,pattern:/^1[3|4|5|7|8][0-9]\d{8}$/,message:this.$t("companymanagement.clienttelrule3"),trigger:"blur"}],userkey:[{required:!0,message:this.$t("usermanagement.passwordrules"),trigger:"blur"}],usermail:[{required:!0,message:this.$t("usermanagement.usermailrules"),trigger:"blur"},{validator:function(t,a,r){a?/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/.test(a)?r():r(new Error(e.$t("companymanagement.clientemailrule2"))):r()},trigger:"blur"}],prio:[{required:!0,message:this.$t("usermanagement.priorules"),trigger:"change"}],delprio:[{required:!0,message:this.$t("usermanagement.priorules"),trigger:"change"}],projectid:[{required:!0,message:this.$t("usermanagement.projectid"),trigger:"change"}],tenantid:[{required:!0,message:this.$t("usermanagement.tenantid"),trigger:"change"}]},prioList:[],delprioList:[{index:1,value:"Yes"},{index:2,value:"No"}],editData:{username:"",usertel:"",usermail:"",prio:"",country:"",tenantid:"",customername:"",delprio:"",logintime:"",projectid:"",record:"",cusname:"",accprio:"",logoprio:"",realname:""},editBtnDis:!1,deleBtnDis:!1,edit:!1,deleUser:"",deleTpl:!1,resetKeysUser:"",passwordTpl:!1,passwordData:{managerkey:"",passwordNew:"",passwordAgain:""}}},methods:{handleCurrentChange:function(e){this.searchList.page=e,this.searchList.count=this.pageCount,this.getUserCustomerLists()},handleSizeChange:function(e){this.pageCount=e,this.searchList.count=e,this.searchList.page=1,this.currentPage1=1,this.getUserCustomerLists()},datetimecut:function(e){if(!e)return"-";function t(e){return e>9?e:"0"+e}var a=new Date(e);return a.getFullYear()+"-"+t(a.getMonth()+1)+"-"+t(a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+t(a.getMinutes())+":"+t(a.getSeconds())},formatDate:function(e,t){if(null==e.regtime)return"";var a=new Date(1e3*parseInt(e.regtime)).toUTCString();return this.datetimecut(a)},getUserCustomerLists:function(){var e=this;Object(c._99)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code&&(e.tableData=t.data.list,e.total=t.data.size)})},selectUserCustomerList:function(e){var t=this,a="";this.searchSelectPerson=[],a="1"==this.$store.state.userInfo.prionum||"2"==this.$store.state.userInfo.prionum?{prionum:this.$store.state.userInfo.prionum,tenantid:e}:{prionum:this.$store.state.userInfo.prionum,tenantid:this.$store.state.userInfo.tenantid},Object(c._101)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.searchSelectPerson=e.data)})},searchInfo:function(){var e=this;this.searchList.page=1,this.currentPage1=1;var t=this;Object(c._99)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(a){1001==a.code&&(t.tableData=a.data.list,t.total=a.data.size,t.$message({message:e.$t("usermanagement.searchsuccess"),type:"success"}))})},clearBtn:function(){"1"==this.$store.state.userInfo.prionum||"2"==this.$store.state.userInfo.prionum?this.searchList={prionum:this.$store.state.userInfo.prionum,endprio:5,prio:"",username:"",country:"",tenantid:"",superid:"",page:1,count:20}:"3"==this.$store.state.userInfo.prionum?this.searchList={prionum:3,endprio:6,prio:"",username:"",country:"",tenantid:"",superid:this.$store.state.userInfo.tenantid,page:1,count:20}:"4"==this.$store.state.userInfo.prionum?this.searchList={prionum:4,endprio:6,prio:"",username:"",country:"",tenantid:"",superid:this.$store.state.userInfo.tenantid,page:1,count:20}:"5"==this.$store.state.userInfo.prionum&&(this.searchList={prionum:"",endprio:"",prio:6,username:"",country:"",tenantid:this.$store.state.userInfo.tenantid,superid:"",page:1,count:20}),this.currentPage1=1,this.getUserCustomerLists()},addUsers:function(){switch(this.contrForPrioNum){case 1:this.addData={username:"",userkey:"",usertel:"",usermail:"",prio:"2",country:"",tenantid:"",customername:"",delprio:"",record:"",cusname:"",accprio:"",logoprio:""};break;case 3:this.addData={username:"",userkey:"",usertel:"",usermail:"",prio:"4",country:"",tenantid:"",customername:"",delprio:"",record:"",cusname:"",accprio:"",logoprio:""};break;case 5:this.addData={username:"",userkey:"",usertel:"",usermail:"",prio:6,country:"",tenantid:"",customername:"",delprio:"",record:"",cusname:"",accprio:"",logoprio:"",realname:""}}this.add=!0},addCancel:function(e){this.add=!1,this.loading=!1,this.$refs[e].resetFields()},addTrue:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return!1;t.loading=!0,t.addData.tenantid=t.tenantid_A,t.addData.country=t.country,Object(c._125)(t.addData,t.tenantkey_A,t.tenantid_A,t.userName).then(function(e){1001==e.code?(t.add=!1,t.searchList.page=1,t.currentPage1=1,t.getUserCustomerLists(),t.getCustomerNames(),t.selectUserCustomerList(),a.$message({message:a.$t("usermanagement.addsuccess"),type:"success"}),a.loading=!1):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)}),a.$refs[e].resetFields()})},addUser:function(){this.addData={username:"",userkey:"",usertel:"",usermail:"",prio:5,country:"",tenantid:"",customername:"",delprio:"",record:"",cusname:"",accprio:"",logoprio:"",realname:""},this.getCustomerNames(),this.add_User=!0},addUserCancel:function(e){this.add_User=!1,this.loading=!1,this.$refs[e].resetFields()},addUserTrue:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return!1;t.loading=!0,t.addData.country=t.country,Object(c._125)(t.addData,t.tenantkey_A,t.tenantid_A,t.userName).then(function(e){1001==e.code?(t.add_User=!1,t.searchList.page=1,t.currentPage1=1,t.getUserCustomerLists(),t.getCustomerNames(),t.selectUserCustomerList(),a.$message({message:a.$t("usermanagement.addsuccess"),type:"success"}),a.loading=!1):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)}),a.$refs[e].resetFields()})},userEdit:function(e){(1!=this.contrForPrioNum||2==this.tableData[e].prionum)&&2!=this.contrForPrioNum?(this.editData.username=this.tableData[e].username,this.editData.cusname=this.tableData[e].cusname,this.editData.record=this.tableData[e].record,this.editData.usertel=this.tableData[e].usertel,this.editData.usermail=this.tableData[e].usermail,this.editData.prio=this.tableData[e].prio,this.editData.country=this.tableData[e].country,this.editData.logintime=this.tableData[e].logintime,this.editData.delprio=this.tableData[e].delprio,this.editData.customername=this.tableData[e].customername,this.editData.projectid=this.tableData[e].projectid,this.editData.accprio=this.tableData[e].accprio,this.editData.logoprio=this.tableData[e].logoprio,this.editData.realname=this.tableData[e].realname,this.edit=!0):this.$message({message:this.$t("usermanagement.noprio"),type:"warning"})},editCancel:function(e){this.edit=!1,this.loading=!1,this.$refs[e].resetFields()},editTrue:function(e){var t=this,a=this;this.$refs[e].validate(function(r){if(!r)return!1;switch(a.editData.prio){case"系统管理员":a.editData.prio="1";break;case"系统子管理员":a.editData.prio="2";break;case"企业管理员":a.editData.prio="3";break;case"企业子管理员":a.editData.prio="4";break;case"企业用户":a.editData.prio="5";break;case"企业资产拥有者":a.editData.prio="6"}t.loading=!0,Object(c._195)(t.editData,t.tenantkey_A,t.tenantid_A,t.userName).then(function(r){1001==r.code?(t.edit=!1,t.getUserCustomerLists(),t.getCustomerNames(),t.selectUserCustomerList(),a.$message({message:a.$t("usermanagement.editsuccess"),type:"success"}),a.loading=!1,a.$refs[e].resetFields()):(a.$message({message:"zh"==a.$store.state.i18n?r.msg:r.enMsg,type:"error"}),a.loading=!1)})})},resetUserkeys:function(e){1==this.contrForPrioNum&&3!=this.tableData[e].prionum&&2!=this.tableData[e].prionum||2==this.contrForPrioNum&&3!=this.tableData[e].prionum?this.$message({message:this.$t("usermanagement.noprio"),type:"warning"}):(this.resetKeysUser=this.tableData[e].username,this.passwordData={managerkey:"",passwordNew:"",passwordAgain:""},this.passwordTpl=!0)},passwordTrue:function(){var e=this;if(e.passwordData.managerkey)if(e.passwordData.passwordNew&&e.passwordData.passwordAgain&&e.passwordData.passwordNew==e.passwordData.passwordAgain)if(e.passwordData.passwordNew!=e.passwordData.passwordOld){var t={username:e.resetKeysUser,newkey:e.passwordData.passwordNew,managerkey:e.passwordData.managerkey};e.loading=!0,Object(c._133)(t,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.passwordTpl=!1,e.getUserCustomerLists(),e.getCustomerNames(),e.selectUserCustomerList(),e.$message({message:e.$t("usermanagement.resuccess"),type:"success"}),e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"}),e.loading=!1)})}else e.$message({message:e.$t("usermanagement.newpwdrule4"),type:"error"});else e.$message({message:e.$t("usermanagement.newpwdrule3"),type:"error"});else e.$message({message:e.$t("usermanagement.adminpwdrule"),type:"error"})},userDele:function(e){5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio?this.$message({message:this.$t("warning.permissiondelete"),type:"warning"}):!(1==this.contrForPrioNum&&2!=this.tableData[e].prionum||2==this.contrForPrioNum||4==this.contrForPrioNum&&2==this.tableData[e].delprio)?(this.deleUser=this.tableData[e].username,this.deleTpl=!0):this.$message({message:this.$t("usermanagement.noprio"),type:"warning"})},deleTrue:function(){var e=this;this.$prompt(e.$t("usermanagement.passwordrules"),e.$t("Building.tips"),{confirmButtonText:e.$t("terminal.confirm"),cancelButtonText:e.$t("terminal.cancel"),type:"warning",inputType:"password",beforeClose:function(t,a,r){if("confirm"==t&&!a.inputValue)return void e.$message({message:e.$t("usermanagement.passwordrules"),type:"warning"});r()}}).then(function(t){var a=t.value,r={username:e.deleUser,prioname:e.userName,userkey:a};e.loading=!0,Object(c._8)(i()(r),e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.deleTpl=!1,e.getUserCustomerLists(),e.getCustomerNames(),e.selectUserCustomerList(),e.$message({message:e.$t("usermanagement.deletesuccess"),type:"success"}),e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"}),e.loading=!1)})})},handleLogin:function(e){var t=this;this.$confirm(t.$t("usermanagement.tt")+t.tableData[e].username+t.$t("usermanagement.ttt"),t.$t("terminal.tips"),{confirmButtonText:t.$t("terminal.confirm"),cancelButtonText:t.$t("terminal.cancel"),type:"warning"}).then(function(){var a={username:t.tableData[e].username,supername:t.$store.state.userInfo.username};Object(c._137)(a,t.tenantkey_A,t.tenantid_A,t.userName).then(function(e){if(1001==e.code){if(5==e.data.prionum){if(!(e.data.num>0))return void t.$message({message:t.$t("usermanagement.loginTips"),type:"warning"});t.$message({message:t.$t("usermanagement.tt2"),type:"success"}),sessionStorage.clear(),t.$store.commit("setuserInfo",e.data),sessionStorage.setItem("state",i()(t.$store.state)),t.$store.state.addRoutes=[],t.$store.commit("resetRoutes"),t.$router.push("/dashboard").catch(function(){})}else t.$message({message:t.$t("usermanagement.tt2"),type:"success"}),sessionStorage.clear(),t.$store.commit("setuserInfo",e.data),sessionStorage.setItem("state",i()(t.$store.state)),t.$router.push("/dashboard").catch(function(){});t.$store.state.show=!0}else t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"})})})},getCustomerNames:function(){var e=this,t={beginlevel:1,endlevel:3};3!=this.contrForPrioNum&&4!=this.contrForPrioNum||(t={superid:this.$store.state.userInfo.tenantid,beginlevel:2,endlevel:4}),this.tenantidData=[],this.searchSelectCountry=[],Object(c._33)(t,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){e.tenantidData=t.data;var a=t.data,r={};e.searchSelectCountry=a.reduce(function(e,t){return!r[t.country]&&(r[t.country]=e.push(t)),e},[])})}},beforeMount:function(){this.getCustomerNames(),this.selectUserCustomerList(),"1"==this.$store.state.userInfo.prionum||"2"==this.$store.state.userInfo.prionum?this.searchList={prionum:this.$store.state.userInfo.prionum,endprio:5,prio:"",username:"",country:"",tenantid:"",superid:"",page:1,count:20}:"3"==this.$store.state.userInfo.prionum?this.searchList={prionum:3,endprio:6,prio:"",username:"",country:"",tenantid:"",superid:this.$store.state.userInfo.tenantid,page:1,count:20}:"4"==this.$store.state.userInfo.prionum?this.searchList={prionum:4,endprio:6,prio:"",username:"",country:"",tenantid:"",superid:this.$store.state.userInfo.tenantid,page:1,count:20}:"5"==this.$store.state.userInfo.prionum&&(this.searchList={prionum:"",endprio:"",prio:6,username:"",country:"",tenantid:this.$store.state.userInfo.tenantid,superid:"",page:1,count:20}),this.getUserCustomerLists()},watch:{"$i18n.locale":function(){this.i8n=this.$store.state.i18n,s()(this.$data.addRules,this.$options.data.call(this).addRules)}}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:5!=e.contrForPrioNum?"home":"",staticStyle:{height:"100%"}},[r("div",{staticClass:"menu_header"},[r("Menu")],1),e._v(" "),r("div",{staticClass:"content"},[r("el-container",{staticClass:"asi"},[r("el-aside",[r("Usermanagement")],1),e._v(" "),r("el-main",[r("div",{staticClass:"user_input"},[r("el-form",{staticClass:"demo-form-inline",attrs:{model:e.searchList}},[3==e.contrForPrioNum||4==e.contrForPrioNum?r("el-form-item",{staticStyle:{display:"flex","margin-left":"2%",float:"left","white-space":"nowrap"},attrs:{label:e.$t("usermanagement.company")}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.choose")},on:{change:e.selectUserCustomerList},model:{value:e.searchList.tenantid,callback:function(t){e.$set(e.searchList,"tenantid",t)},expression:"searchList.tenantid"}},e._l(e.tenantidData,function(e){return r("el-option",{key:e.tenantid,attrs:{label:e.username,value:e.tenantid}})}),1)],1):e._e(),e._v(" "),1==e.contrForPrioNum||2==e.contrForPrioNum?r("el-form-item",{staticStyle:{display:"flex","margin-left":"2%",float:"left","white-space":"nowrap"},attrs:{label:e.$t("usermanagement.company")}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.choose")},on:{change:e.selectUserCustomerList},model:{value:e.searchList.tenantid,callback:function(t){e.$set(e.searchList,"tenantid",t)},expression:"searchList.tenantid"}},e._l(e.tenantidData,function(e){return r("el-option",{key:e.tenantid,attrs:{label:e.username,value:e.tenantid}})}),1)],1):e._e(),e._v(" "),1==e.contrForPrioNum||2==e.contrForPrioNum?r("el-form-item",{staticStyle:{display:"flex","margin-left":"2%",float:"left","white-space":"nowrap"},attrs:{label:e.$t("usermanagement.user")}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.tit27")},model:{value:e.searchList.username,callback:function(t){e.$set(e.searchList,"username",t)},expression:"searchList.username"}},e._l(e.searchSelectPerson,function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})}),1)],1):e._e(),e._v(" "),1==e.contrForPrioNum||2==e.contrForPrioNum?r("el-form-item",{staticStyle:{display:"flex","margin-left":"2%",float:"left","white-space":"nowrap"},attrs:{label:e.$t("usermanagement.country")}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.tit27")},model:{value:e.searchList.country,callback:function(t){e.$set(e.searchList,"country",t)},expression:"searchList.country"}},e._l(e.searchSelectCountry,function(e){return r("el-option",{key:e.country,attrs:{label:e.country,value:e.country}})}),1)],1):e._e(),e._v(" "),r("el-form-item",{staticStyle:{"margin-left":"2%",float:"left"}},[1==e.contrForPrioNum||2==e.contrForPrioNum||3==e.contrForPrioNum||4==e.contrForPrioNum?r("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(t){return e.searchInfo()}}},[e._v(e._s(e.$t("usermanagement.search")))]):e._e(),e._v(" "),1==e.contrForPrioNum||2==e.contrForPrioNum||3==e.contrForPrioNum||4==e.contrForPrioNum?r("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(t){return e.clearBtn()}}},[e._v(e._s(e.$t("usermanagement.reset")))]):e._e(),e._v(" "),1==e.contrForPrioNum?r("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(t){return e.addUsers()}}},[e._v(e._s(e.$t("usermanagement.Addsubadministrator")))]):e._e(),e._v(" "),3==e.contrForPrioNum?r("el-popover",[r("div",{staticStyle:{display:"flex"}},[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addUser()}}},[e._v(e._s(e.$t("usermanagement.addUser")))]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.addUsers()}}},[e._v(e._s(e.$t("usermanagement.Addsubadministrator")))])],1),e._v(" "),r("el-button",{staticClass:"del move",attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v(e._s(e.$t("usermanagement.add")))])],1):e._e(),e._v(" "),2!=e.contrForPrioNum&&6!=e.contrForPrioNum&&4!=e.contrForPrioNum?r("el-tooltip",{staticClass:"item",staticStyle:{position:"absolute","font-size":"130%",top:"50%",transform:"translateY(-50%)","margin-left":"5px"},attrs:{effect:"light",placement:"right-start"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[e._v("\n                    "+e._s(e.$t("usermanagement.tlt"))+"\n                  ")])]),e._v(" "),r("i",{staticClass:"el-icon-question"})]):e._e()],1)],1)],1),e._v(" "),r("div",{staticClass:"content_user"},[r("el-table",{ref:"multipleTable",staticStyle:{width:"98%","text-align":"center","margin-left":"2%"},attrs:{data:e.tableData,"max-height":"660",border:"","highlight-current-row":""}},[5==e.contrForPrioNum?r("el-table-column",{attrs:{property:"realname",label:e.$t("usermanagement.Realname"),"show-overflow-tooltip":"",align:"center"}}):e._e(),e._v(" "),r("el-table-column",{attrs:{property:"username",label:e.$t("usermanagement.username"),"show-overflow-tooltip":"",align:"center"}}),e._v(" "),1==e.contrForPrioNum||2==e.contrForPrioNum||3==e.contrForPrioNum||4==e.contrForPrioNum?r("el-table-column",{attrs:{property:"customername",label:e.$t("usermanagement.customername"),"show-overflow-tooltip":"",align:"center"}}):e._e(),e._v(" "),r("el-table-column",{attrs:{property:"usertel",label:e.$t("usermanagement.usertel"),"show-overflow-tooltip":"",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(t.row.usertel)+"\n              ")]}}])}),e._v(" "),r("el-table-column",{attrs:{property:"usermail",label:e.$t("usermanagement.usermail"),"show-overflow-tooltip":"",align:"center"}}),e._v(" "),r("el-table-column",{attrs:{property:"zh"==e.i8n?"prio":"enprio",label:e.$t("usermanagement.prio"),"show-overflow-tooltip":"",align:"center"}}),e._v(" "),3==e.contrForPrioNum?r("el-table-column",{attrs:{property:"delpriostr",label:e.$t("usermanagement.unprio1"),"show-overflow-tooltip":"",align:"center"}}):e._e(),e._v(" "),r("el-table-column",{attrs:{property:"accpriostr",label:e.$t("usermanagement.Accessrights"),"show-overflow-tooltip":"",align:"center"}}),e._v(" "),1==e.contrForPrioNum||2==e.contrForPrioNum?r("el-table-column",{attrs:{property:"country",label:e.$t("usermanagement.country1"),"show-overflow-tooltip":"",align:"center"}}):e._e(),e._v(" "),r("el-table-column",{attrs:{property:"ctime",label:e.$t("usermanagement.ctime"),"show-overflow-tooltip":"",align:"center",formatter:e.formatDate}}),e._v(" "),r("el-table-column",{attrs:{label:e.$t("usermanagement.operate"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-dropdown",{attrs:{size:"mini",type:"primary",trigger:"click"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("staff.operate"),placement:"top"}},[r("el-button",{staticClass:"icon_button",attrs:{type:"primary"}},[r("img",{attrs:{src:a("VJ6t")}})])],1),e._v(" "),r("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[r("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return e.userEdit(t.$index,e.tableData)}}},[e._v(e._s(e.$t("usermanagement.edit")))])],1),e._v(" "),r("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[r("el-button",{staticClass:"dels1",attrs:{size:"mini"},on:{click:function(a){return e.userDele(t.$index)}}},[e._v(e._s(e.$t("usermanagement.delete")))])],1),e._v(" "),r("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[r("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return e.handleLogin(t.$index,e.tableData)}}},[e._v(e._s(e.$t("usermanagement.Login")))])],1),e._v(" "),r("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[r("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.$t("usermanagement.repwd"),placement:"top"}},[r("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(a){return e.resetUserkeys(t.$index)}}},[e._v(e._s(e.$t("usermanagement.repassword")))])],1)],1)],1)],1)]}}])})],1),e._v(" "),r("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[r("el-pagination",{attrs:{"current-page":e.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:e.total,"page-size":20},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage1=t},"update:current-page":function(t){e.currentPage1=t}}})],1)],1),e._v(" "),r("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:e.$t("usermanagement.adduser"),width:"30%",visible:e.add},on:{"update:visible":function(t){e.add=t},close:function(t){return e.addCancel("addData")}}},[r("el-form",{ref:"addData",staticStyle:{"text-align":"left"},attrs:{model:e.addData,"label-width":"140px",rules:e.addRules}},[5==e.contrForPrioNum?r("el-form-item",{attrs:{label:e.$t("usermanagement.Realname1"),prop:"realname"}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.Realname2"),maxlength:"32"},model:{value:e.addData.realname,callback:function(t){e.$set(e.addData,"realname",t)},expression:"addData.realname"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.user"),prop:"username"}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.adduserrule"),maxlength:"32"},model:{value:e.addData.username,callback:function(t){e.$set(e.addData,"username",t)},expression:"addData.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.password"),prop:"userkey"}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.passwordrules")},model:{value:e.addData.userkey,callback:function(t){e.$set(e.addData,"userkey",t)},expression:"addData.userkey"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.usertel1"),prop:"zh"==e.i8n?"usertel":""}},[r("el-input",{attrs:{type:"tel",placeholder:e.$t("usermanagement.usertelrules")},model:{value:e.addData.usertel,callback:function(t){e.$set(e.addData,"usertel",e._n(t))},expression:"addData.usertel"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.usermail1"),prop:"usermail"}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.usermailrules")},model:{value:e.addData.usermail,callback:function(t){e.$set(e.addData,"usermail",t)},expression:"addData.usermail"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.prio1"),prop:""}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("usermanagement.prio11")},model:{value:e.addData.accprio,callback:function(t){e.$set(e.addData,"accprio",t)},expression:"addData.accprio"}},e._l(e.accprioList,function(e){return r("el-option",{key:e.index,attrs:{label:e.value,value:e.index}})}),1),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[e._v("\n                    "+e._s(e.$t("usermanagement.prio12"))+"\n                  ")])]),e._v(" "),r("i",{staticClass:"el-icon-question"})])],1),e._v(" "),1!=e.contrForPrioNum&&2!=e.contrForPrioNum||1!=e.logoprio?e._e():r("el-form-item",{attrs:{label:e.$t("usermanagement.Logopermission"),prop:""}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("usermanagement.Logopermission1")},model:{value:e.addData.logoprio,callback:function(t){e.$set(e.addData,"logoprio",t)},expression:"addData.logoprio"}},e._l(e.logoprioList,function(e){return r("el-option",{key:e.index,attrs:{label:e.value,value:e.index}})}),1)],1),e._v(" "),3==e.contrForPrioNum&&4==e.addData.prio?r("el-form-item",{attrs:{label:e.$t("usermanagement.unprio"),prop:""}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("usermanagement.priorules"),disabled:4!=e.addData.prio},model:{value:e.addData.delprio,callback:function(t){e.$set(e.addData,"delprio",t)},expression:"addData.delprio"}},e._l(e.delprioList,function(e){return r("el-option",{key:e.index,attrs:{label:e.value,value:e.index}})}),1),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[e._v("\n                    "+e._s(e.$t("usermanagement.prio13"))+"\n                  ")])]),e._v(" "),r("i",{staticClass:"el-icon-question"})])],1):e._e()],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.addCancel("addData")}}},[e._v(e._s(e.$t("terminal.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.addTrue("addData")}}},[e._v("\n              "+e._s(e.$t("terminal.confirm")))])],1)],1),e._v(" "),r("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:e.$t("usermanagement.adduser"),width:"30%",visible:e.add_User},on:{"update:visible":function(t){e.add_User=t},close:function(t){return e.addUserCancel("addData")}}},[r("el-form",{ref:"addData",staticStyle:{"text-align":"left"},attrs:{model:e.addData,"label-width":"140px",rules:e.addRules}},[r("el-form-item",{attrs:{label:e.$t("usermanagement.user"),prop:"username"}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.adduserrule"),maxlength:"32"},model:{value:e.addData.username,callback:function(t){e.$set(e.addData,"username",t)},expression:"addData.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.password"),prop:"userkey"}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.passwordrules")},model:{value:e.addData.userkey,callback:function(t){e.$set(e.addData,"userkey",t)},expression:"addData.userkey"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.usertel1"),prop:"zh"==e.i8n?"usertel":""}},[r("el-input",{attrs:{type:"tel",placeholder:e.$t("usermanagement.usertelrules")},model:{value:e.addData.usertel,callback:function(t){e.$set(e.addData,"usertel",e._n(t))},expression:"addData.usertel"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.usermail1"),prop:"usermail"}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.usermailrules")},model:{value:e.addData.usermail,callback:function(t){e.$set(e.addData,"usermail",t)},expression:"addData.usermail"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.company"),prop:"tenantid"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("terminal.choose")},model:{value:e.addData.tenantid,callback:function(t){e.$set(e.addData,"tenantid",t)},expression:"addData.tenantid"}},e._l(e.tenantidData,function(e){return r("el-option",{key:e.tenantid,attrs:{label:e.username,value:e.tenantid}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.prio1"),prop:""}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("usermanagement.prio11")},model:{value:e.addData.accprio,callback:function(t){e.$set(e.addData,"accprio",t)},expression:"addData.accprio"}},e._l(e.accprioList,function(e){return r("el-option",{key:e.index,attrs:{label:e.value,value:e.index}})}),1),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[e._v("\n                    "+e._s(e.$t("usermanagement.prio12"))+"\n                  ")])]),e._v(" "),r("i",{staticClass:"el-icon-question"})])],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.unprio"),prop:""}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("usermanagement.priorules")},model:{value:e.addData.delprio,callback:function(t){e.$set(e.addData,"delprio",t)},expression:"addData.delprio"}},e._l(e.delprioList,function(e){return r("el-option",{key:e.index,attrs:{label:e.value,value:e.index}})}),1),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[e._v("\n                    "+e._s(e.$t("usermanagement.prio13"))+"\n                  ")])]),e._v(" "),r("i",{staticClass:"el-icon-question"})])],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.addUserCancel("addData")}}},[e._v(e._s(e.$t("terminal.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.addUserTrue("addData")}}},[e._v("\n              "+e._s(e.$t("terminal.confirm")))])],1)],1),e._v(" "),r("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:e.$t("usermanagement.edituser"),visible:e.edit,width:"30%"},on:{"update:visible":function(t){e.edit=t},close:function(t){return e.editCancel("editData")}}},[r("el-form",{ref:"editData",staticStyle:{"text-align":"left"},attrs:{model:e.editData,rules:e.addRules,"label-width":"140px"}},[5==e.contrForPrioNum?r("el-form-item",{attrs:{label:e.$t("usermanagement.Realname1"),prop:"realname"}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.Realname2")},model:{value:e.editData.realname,callback:function(t){e.$set(e.editData,"realname",t)},expression:"editData.realname"}})],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.user"),prop:"username"}},[r("el-input",{attrs:{disabled:"",placeholder:e.$t("usermanagement.adduserrule")},model:{value:e.editData.username,callback:function(t){e.$set(e.editData,"username",t)},expression:"editData.username"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.company"),prop:"username"}},[r("el-input",{attrs:{disabled:"",placeholder:e.$t("usermanagement.companyrules")},model:{value:e.editData.customername,callback:function(t){e.$set(e.editData,"customername",t)},expression:"editData.customername"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.usertel1"),prop:"zh"==e.i8n?"usertel":""}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.usertelrules")},model:{value:e.editData.usertel,callback:function(t){e.$set(e.editData,"usertel",t)},expression:"editData.usertel"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.usermail1"),prop:"usermail"}},[r("el-input",{attrs:{placeholder:e.$t("usermanagement.usermailrules")},model:{value:e.editData.usermail,callback:function(t){e.$set(e.editData,"usermail",t)},expression:"editData.usermail"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.prio1"),prop:""}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("usermanagement.prio11")},model:{value:e.editData.accprio,callback:function(t){e.$set(e.editData,"accprio",t)},expression:"editData.accprio"}},e._l(e.accprioList,function(e){return r("el-option",{key:e.index,attrs:{label:e.value,value:e.index}})}),1),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[e._v("\n                    "+e._s(e.$t("usermanagement.prio12"))+"\n                  ")])]),e._v(" "),r("i",{staticClass:"el-icon-question"})])],1),e._v(" "),1!=e.contrForPrioNum&&2!=e.contrForPrioNum&&3!=e.contrForPrioNum&&4!=e.contrForPrioNum||1!=e.clogoprio?e._e():r("el-form-item",{attrs:{label:e.$t("usermanagement.Logopermission"),prop:""}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("usermanagement.Logopermission1")},model:{value:e.editData.logoprio,callback:function(t){e.$set(e.editData,"logoprio",t)},expression:"editData.logoprio"}},e._l(e.logoprioList,function(e){return r("el-option",{key:e.index,attrs:{label:e.value,value:e.index}})}),1)],1),e._v(" "),3!=e.contrForPrioNum||4!=e.editData.prio&&"企业子管理员"!=e.editData.prio&&5!=e.editData.prio&&"企业用户"!=e.editData.prio?e._e():r("el-form-item",{attrs:{label:e.$t("usermanagement.unprio"),prop:"delprio"}},[r("el-select",{attrs:{clearable:"",filterable:"",placeholder:e.$t("usermanagement.priorules")},model:{value:e.editData.delprio,callback:function(t){e.$set(e.editData,"delprio",t)},expression:"editData.delprio"}},e._l(e.delprioList,function(e){return r("el-option",{key:e.index,attrs:{label:e.value,value:e.index}})}),1),e._v(" "),r("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[r("div",{attrs:{slot:"content"},slot:"content"},[r("p",[e._v("\n                    "+e._s(e.$t("usermanagement.prio13"))+"\n                  ")])]),e._v(" "),r("i",{staticClass:"el-icon-question"})])],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){return e.editCancel("editData")}}},[e._v("\n              "+e._s(e.$t("terminal.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.editTrue("editData")}}},[e._v(e._s(e.$t("terminal.confirm")))])],1)],1),e._v(" "),r("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:e.$t("usermanagement.deleteuser"),visible:e.deleTpl,width:"30%"},on:{"update:visible":function(t){e.deleTpl=t}}},[r("el-form",[r("p",{staticStyle:{"line-height":"0px","margin-bottom":"10px",color:"red",fontsize:"20px"}},[e._v("\n              "+e._s(e.$t("usermanagement.deleterules"))+"\n              "+e._s(e.deleUser)+" ?\n            ")])]),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.deleTpl=!1,e.loading=!1}}},[e._v(e._s(e.$t("terminal.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.deleTrue}},[e._v(e._s(e.$t("terminal.confirm")))])],1)],1),e._v(" "),r("el-dialog",{staticClass:"passward",staticStyle:{"text-align":"center"},attrs:{title:e.$t("usermanagement.repwd"),width:"30%",visible:e.passwordTpl},on:{"update:visible":function(t){e.passwordTpl=t}}},[r("el-form",{ref:"passwordData",staticClass:"demo-ruleForm",staticStyle:{"text-align":"left","margin-left":"10px"},attrs:{model:e.passwordData,rules:e.addRules,"label-width":"150px"}},[r("el-form-item",{attrs:{label:e.$t("usermanagement.adminpwd")}},[r("el-input",{attrs:{"show-password":"",placeholder:e.$t("usermanagement.adminpwdrule")},model:{value:e.passwordData.managerkey,callback:function(t){e.$set(e.passwordData,"managerkey",t)},expression:"passwordData.managerkey"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.newpwd")}},[r("el-input",{attrs:{"show-password":"",placeholder:e.$t("usermanagement.newpwdrule")},model:{value:e.passwordData.passwordNew,callback:function(t){e.$set(e.passwordData,"passwordNew",t)},expression:"passwordData.passwordNew"}})],1),e._v(" "),r("el-form-item",{attrs:{label:e.$t("usermanagement.newpwdrule1")}},[r("el-input",{attrs:{"show-password":"",placeholder:e.$t("usermanagement.newpwdrule2")},model:{value:e.passwordData.passwordAgain,callback:function(t){e.$set(e.passwordData,"passwordAgain",t)},expression:"passwordData.passwordAgain"}})],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.passwordTpl=!1,e.loading=!1}}},[e._v(e._s(e.$t("terminal.cancel")))]),e._v(" "),r("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:function(t){return e.passwordTrue()}}},[e._v(e._s(e.$t("terminal.confirm")))])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var p=a("VU/8")(m,d,!1,function(e){a("Q1D/")},"data-v-3bc504c3",null);t.default=p.exports}});