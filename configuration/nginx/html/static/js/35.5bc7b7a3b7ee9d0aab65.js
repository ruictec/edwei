webpackJsonp([35],{"4OTU":function(t,e){},fjaQ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),n=s("PO8r"),r=s("HY7V"),l=s("c2Ch"),o={components:{Menu:n.a,Data:r.a},name:"Test",data:function(){return{contrForPrionum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,delprio:this.$store.state.userInfo.delprio,start:!1,stop:!0,timer:null,tableData:[],tenantidData:[],pageCount:20,currentPage1:1,total:0,tasktime:[],pickerOptions:{shortcuts:[{text:this.$t("terminal.pickeroptions4"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.setHours(0,0,0,0)),t.$emit("pick",[s,e])}},{text:this.$t("terminal.pickeroptions5"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.setHours(0,0,0,0)-1728e5),t.$emit("pick",[s,e])}},{text:this.$t("terminal.pickeroptions6"),onClick:function(t){var e=new Date,s=new Date;s.setTime(s.setHours(0,0,0,0)-5184e5),t.$emit("pick",[s,e])}}]},searchList:{tenantid:this.$store.state.userInfo.tenantid,deveui:"",msgtype:"",begintime:"",endtime:"",page:1,count:20},multipleSelection:[],del:!1,loading:!1,deleteData:[],msgtypeList:[{index:1,value:"HB"},{index:2,value:"Ack"},{index:13,value:"AOA"},{index:3,value:"BLE"},{index:4,value:"GPS"},{index:5,value:"Alarm"},{index:6,value:"Filter"},{index:7,value:"PosUUID"},{index:8,value:"AssetUUID"},{index:14,value:"BLE Sensor"},{index:9,value:"Filter Data"},{index:10,value:"Beacon Config"},{index:11,value:"History Beacon"},{index:12,value:"History GNSS"}]}},methods:{handleCurrentChange:function(t){this.searchList.page=t,this.searchList.count=this.pageCount,this.getTrackerTestLists()},handleSizeChange:function(t){this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.getTrackerTestLists()},datetimecut:function(t){if(!t)return"-";function e(t){return t>9?t:"0"+t}var s=new Date(t);return s.getFullYear()+"-"+e(s.getMonth()+1)+"-"+e(s.getDate())+" "+(s.getHours()<10?"0"+s.getHours():s.getHours())+":"+e(s.getMinutes())+":"+e(s.getSeconds())},formatDate:function(t,e){if(null==t.time||0==t.time)return"";var s=new Date(1e3*parseInt(t.time)).toUTCString();return this.datetimecut(s)},getTrackerTestLists:function(){var t=this;Object(l._97)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=e.data.list,t.total=e.data.size)})},searchInfo:function(){var t=this;this.searchList.page=1,this.currentPage1=1,this.tasktime&&this.tasktime.length>0?(this.searchList.begintime=Date.parse(new Date(t.tasktime[0]))/1e3,this.searchList.endtime=Date.parse(new Date(t.tasktime[1]))/1e3):(this.searchList.begintime="",this.searchList.endtime=""),Object(l._97)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.tableData=e.data.list,t.total=e.data.size,e.data.size>0?t.$message({message:t.$t("test.searchsuccess"),type:"success"}):t.$message({message:t.$t("test.nodata"),type:"success"})):(t.searchList.count=20,t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}))})},searchPrevious:function(){if(this.searchList.deveui){var t=void 0,e=void 0,s=void 0;if(this.searchList.deveui.length>8){var i=this.searchList.deveui.length-8;e=this.searchList.deveui.substring(i),t=this.searchList.deveui.substring(0,i),e=(e=(s=parseInt(e,16)-1).toString(16)).padStart(8,"0"),this.searchList.deveui=t+e}else s=parseInt(this.searchList.deveui,16)-1,this.searchList.deveui=s.toString(16);this.searchInfo()}else this.$message({message:this.$t("test.tet6"),type:"warning"})},searchNext:function(){if(this.searchList.deveui){var t=void 0,e=void 0,s=void 0;if(this.searchList.deveui.length>8){var i=this.searchList.deveui.length-8;e=this.searchList.deveui.substring(i),t=this.searchList.deveui.substring(0,i),e=(e=(s=parseInt(e,16)+1).toString(16)).padStart(8,"0"),this.searchList.deveui=t+e}else s=parseInt(this.searchList.deveui,16)+1,this.searchList.deveui=s.toString(16);this.searchInfo()}else this.$message({message:this.$t("test.tet6"),type:"warning"})},clearBtn:function(){this.tasktime=[],this.searchList={tenantid:this.$store.state.userInfo.tenantid,deveui:"",msgtype:"",begintime:"",endtime:"",page:1,count:this.pageCount},this.currentPage1=1,this.getTrackerTestLists()},delTer:function(t){var e=this;if(5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio)this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"});else{var s=this;4!=this.contrForPrionum||2!=this.delprio?this.$confirm(this.$t("gateway.deletemsg")+this.tableData[t].deveui+this.$t("test.confirmdel3"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var i={tenantid:e.$store.state.userInfo.tenantid,ids:[e.tableData[t].id]};i.ids=a()(i.ids),Object(l._6)(i,s.tenantkey_A,s.tenantid_A,s.userName).then(function(t){1001==t.code?(s.searchList.page=1,s.currentPage1=1,s.getTrackerTestLists(),s.$message({message:s.$t("test.delsuccess"),type:"success"})):s.$message({message:"zh"==s.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:this.$t("usermanagement.noprio"),type:"warning"})}},handleSelectionChange:function(t){this.multipleSelection=t},delTestList:function(){0!=this.multipleSelection.length?(this.deleteData=this.multipleSelection,this.del=!0):this.$message({message:this.$t("downlink.deletedownlink1"),type:"warning"})},startRefresh:function(){var t=this;this.start=!1,this.stop=!0,this.timer=setInterval(function(){t.getTrackerTestLists()},1e4)},deleteTrue:function(){var t=this;if(5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio)this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"});else{for(var e=this,s={tenantid:this.$store.state.userInfo.tenantid,ids:[]},i=0;i<this.deleteData.length;i++)s.ids.push(this.deleteData[i].id);s.ids=a()(s.ids),this.loading=!0,Object(l._6)(s,e.tenantkey_A,e.tenantid_A,e.userName).then(function(s){1001==s.code?(t.del=!1,e.searchList.page=1,e.currentPage1=1,e.getTrackerTestLists(),e.$message({message:e.$t("test.delsuccess"),type:"success"}),e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?s.msg:s.enMsg,type:"error"}),e.loading=!1)})}},stopRefresh:function(){this.start=!0,this.stop=!1,clearInterval(this.timer)}},beforeMount:function(){this.getTrackerTestLists()},mounted:function(){var t=this;this.timer=setInterval(function(){t.getTrackerTestLists()},1e4)},destroyed:function(){clearInterval(this.timer)}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:5!=t.contrForPrionum?"home":"",staticStyle:{height:"100%"}},[i("div",{staticClass:"menu_header"},[i("Menu")],1),t._v(" "),i("div",{staticClass:"content"},[i("el-container",{staticClass:"asi"},[i("el-aside",[i("Data")],1),t._v(" "),i("el-main",[i("div",{staticClass:"ter_input"},[i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap"}},[i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"2%","margin-right":"0"},attrs:{label:t.$t("test.deveui1")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},model:{value:t.searchList.deveui,callback:function(e){t.$set(t.searchList,"deveui",e)},expression:"searchList.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("test.msgtype1")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.msgtype,callback:function(e){t.$set(t.searchList,"msgtype",e)},expression:"searchList.msgtype"}},t._l(t.msgtypeList,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.value}})}),1)],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"27%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("test.chosetime")}},[i("el-date-picker",{staticStyle:{width:"95%",float:"left"},attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":t.$t("test.to"),"start-placeholder":t.$t("test.startdate"),"end-placeholder":t.$t("test.enddate"),align:"right"},model:{value:t.tasktime,callback:function(e){t.tasktime=e},expression:"tasktime"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-left":"0"}},[i("el-button",{staticClass:"search",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("test.search")))]),t._v(" "),i("el-button",{staticClass:"search",attrs:{type:"primary"},on:{click:function(e){return t.searchPrevious()}}},[t._v(t._s(t.$t("test.previous")))]),t._v(" "),i("el-button",{staticClass:"search",attrs:{type:"primary"},on:{click:function(e){return t.searchNext()}}},[t._v(t._s(t.$t("test.next")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("test.reset")))]),t.start?i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.startRefresh()}}},[t._v(t._s(t.$t("test.start")))]):t._e(),t._v(" "),t.stop?i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.stopRefresh()}}},[t._v(t._s(t.$t("test.stop")))]):t._e(),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.delTestList()}}},[t._v(t._s(t.$t("test.Batchdelete")))])],1)],1)],1),t._v(" "),i("div",[i("el-table",{ref:"multipleTable",staticStyle:{width:"97%","text-align":"center","margin-left":"2%"},attrs:{data:t.tableData,"max-height":"660",border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("test.deveui"),"show-overflow-tooltip":"","min-width":"90","header-align":"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"freq",label:t.$t("test.Frequency"),"show-overflow-tooltip":"","min-width":"55",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v(t._s(t.$t("test.Frequency")))]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(t.$t("test.tet")))])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"dr",label:"DR","min-width":"50",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v("DR")]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(t.$t("test.tet1")))])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"gwrssi",label:"RSSI","show-overflow-tooltip":"","min-width":"55",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v("RSSI")]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(t.$t("test.gwrssi")))])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"gwsnr",label:"SNR","show-overflow-tooltip":"","min-width":"55",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v("SNR")]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(t.$t("test.gwsnr")))])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"gwno",label:t.$t("test.gwno"),"show-overflow-tooltip":"","min-width":"55",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v(t._s(t.$t("test.gwno")))]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(t.$t("test.tet2")))])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"framecount",label:t.$t("test.framecount"),"show-overflow-tooltip":"","min-width":"50","header-align":"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"msgtype",label:t.$t("test.msgtype"),"show-overflow-tooltip":"","min-width":"40",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"payload",label:"Payload","show-overflow-tooltip":"","min-width":"200","header-align":"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"reboot",label:t.$t("test.reboot"),"show-overflow-tooltip":"","min-width":"70",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v(t._s(t.$t("test.reboot")))]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(t.$t("test.tet3")))])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"pktlost",label:t.$t("test.pktlost"),"show-overflow-tooltip":"","min-width":"70",align:"center"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v(t._s(t.$t("test.pktlost")))]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v("\n                      "+t._s(t.$t("test.tet4"))+"\n                    ")])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"ratelost",label:t.$t("test.ratelost"),"show-overflow-tooltip":"","min-width":"50",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"time",label:t.$t("test.time"),"show-overflow-tooltip":"",formatter:t.formatDate,"min-width":"100","header-align":"center"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("test.contron"),fixed:"right",align:"center","min-width":"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("warning.delete"),placement:"top"}},[i("el-button",{staticClass:"dels",attrs:{type:"danger"},on:{click:function(s){return t.delTer(e.$index)}}},[i("img",{attrs:{src:s("B32J")}})])],1)]}}])})],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[i("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":20},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("test.tet5"),visible:t.del},on:{"update:visible":function(e){t.del=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.deleteData,"max-height":"660",stripe:""}},[i("el-table-column",{attrs:{property:"deveui",label:t.$t("test.deveui"),"show-overflow-tooltip":"","min-width":"140",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"freq",label:t.$t("test.freq"),"show-overflow-tooltip":"","min-width":"65",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"dr",label:"DR","min-width":"50",align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"gwrssi",label:t.$t("test.gwrssi"),"show-overflow-tooltip":"","min-width":"90",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"gwsnr",label:t.$t("test.gwsnr"),"show-overflow-tooltip":"","min-width":"90",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"gwno",label:t.$t("test.gwno1"),"show-overflow-tooltip":"","min-width":"55",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"framecount",label:t.$t("test.framecount"),"show-overflow-tooltip":"","min-width":"55",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"msgtype",label:t.$t("test.Messagetype"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"payload",label:"Payload","show-overflow-tooltip":"","min-width":"100",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"reboot",label:t.$t("test.Restarttimes"),"show-overflow-tooltip":"","min-width":"70",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"pktlost",label:t.$t("test.Packetlossquantity"),"show-overflow-tooltip":"","min-width":"65",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"ratelost",label:t.$t("test.ratelost"),"show-overflow-tooltip":"","min-width":"75",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"time",label:t.$t("test.time"),"show-overflow-tooltip":"",formatter:t.formatDate,width:"160",align:"center"}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.del=!1,t.loading=!1}}},[t._v(t._s(t.$t("terminal.cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.deleteTrue}},[t._v(t._s(t.$t("terminal.confirm")))])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var h=s("VU/8")(o,c,!1,function(t){s("4OTU")},"data-v-899a0d88",null);e.default=h.exports}});