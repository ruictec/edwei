webpackJsonp([16],{"0FeE":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("WNc4"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:5!=t.contrForPrionum?"home":"",staticStyle:{height:"100%"}},[5!=t.contrForPrionum?i("div",{staticClass:"menu_header"},[i("Menu",{ref:"menu"})],1):t._e(),t._v(" "),i("div",{staticClass:"content"},[i("el-container",{class:5==t.contrForPrionum?"user":"asi"},[5!=t.contrForPrionum?i("el-aside",[i("Asset")],1):t._e(),t._v(" "),i("el-main",[i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"1%"},attrs:{model:t.searchList}},[i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("car.Numberplate")}},[i("el-input",{model:{value:t.searchList.sn,callback:function(e){t.$set(t.searchList,"sn",e)},expression:"searchList.sn"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("car.Tagnumber")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},model:{value:t.searchList.maplabel,callback:function(e){t.$set(t.searchList,"maplabel",e)},expression:"searchList.maplabel"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("car.Department")}},[i("el-select",{attrs:{filterable:"",placeholder:t.$t("car.text")},model:{value:t.searchList.depart,callback:function(e){t.$set(t.searchList,"depart",e)},expression:"searchList.depart"}},t._l(t.DepartList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex","margin-left":"1%","z-index":"1"}},[i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchTBox()}}},[t._v(t._s(t.$t("car.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("car.reset")))]),t._v(" "),i("el-button",{staticClass:"reset",staticStyle:{"margin-left":"0%"},attrs:{type:"primary"},on:{click:function(e){return t.importExcel()}}},[t._v(t._s(t.$t("terminal.import")))]),t._v(" "),i("el-button",{staticClass:"reset",staticStyle:{"margin-left":"0%"},attrs:{type:"primary"},on:{click:function(e){return t.exportExcel()}}},[t._v(t._s(t.$t("terminal.export")))]),t._v(" "),i("el-button",{staticClass:"reset",staticStyle:{"margin-left":"0%"},attrs:{type:"primary"},on:{click:function(e){return t.exportExcelAll()}}},[t._v(t._s(t.$t("terminal.exportAll")))]),t._v(" "),i("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(e){return t.addTBox()}}},[t._v(t._s(t.$t("car.Addvehicle")))]),i("el-button",{staticClass:"add",attrs:{type:"danger"},on:{click:function(e){return t.removeTBoxs()}}},[t._v(t._s(t.$t("car.unbind")))]),t._v(" "),i("el-button",{staticClass:"add add2",attrs:{type:"primary"},on:{click:function(e){return t.goSetTBox()}}},[t._v(t._s(t.$t("car.vehiclesettings")))])],1)],1),t._v(" "),i("div",{staticClass:"content_staff"},[i("div",{staticClass:"exportContent",staticStyle:{display:"flex"}},[i("input",{staticClass:"x_file",attrs:{id:"articleImageFile",name:"excelFile",type:"file",accept:".xls,.xlsx"},on:{change:t.importExcels}})]),t._v(" "),i("el-table",{ref:"multipleTable",staticStyle:{width:"97%","text-align":"center","margin-left":"2%","z-index":"1"},attrs:{data:t.tableData,"max-height":"660",border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{property:"sn",label:t.$t("car.LicensePlate"),align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"type",label:t.$t("car.VehicleType"),align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"maplabel",label:t.$t("car.LabelNumber"),align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"depart",label:t.$t("car.Department1"),align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("car.Remark3"),align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:t.$t("car.Operate"),"min-width":"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-dropdown",{attrs:{size:"mini",type:"primary",trigger:"click"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("car.operate"),placement:"top"}},[i("el-button",{staticClass:"icon_button",attrs:{type:"primary"}},[i("img",{attrs:{src:a("VJ6t")}})])],1),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.staffEdit(e.$index,t.tableData)}}},[t._v(t._s(t.$t("car.edit")))])],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(a){return t.TBoxDele(e.$index)}}},[t._v(t._s(t.$t("car.delete")))])],1)],1)],1),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("car.position"),placement:"top"}},[i("el-button",{staticClass:"edits icon_button",attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.goLocation(e.$index,t.tableData)}}},[i("img",{attrs:{src:a("F5RF")}})])],1),t._v(" "),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("staffmanagement.trajectory"),placement:"top"}},[i("el-button",{staticClass:"edits icon_button",staticStyle:{"margin-left":"0"},attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.staffAction(e.$index,t.tableData)}}},[i("img",{attrs:{src:a("nmTc")}})])],1)]}}])})],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[i("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":20},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1),t._v(" "),i("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:t.$t("car.text1"),width:"30%",visible:t.add},on:{"update:visible":function(e){t.add=e},close:function(e){return t.addCancel("addData")}}},[i("el-upload",{ref:"upload",attrs:{action:t.ImagePath,"list-type":"picture-card","file-list":t.fileListAdd,"on-preview":t.handlePictureCardPreview,accept:".png, .jpg, .jpeg",limit:1,data:t.userIdForPic,"on-success":t.picSuccess,"on-error":t.picError,headers:t.myHeader,"auto-upload":!1,"on-exceed":t.handleExceed,"before-upload":t.beforeAvatarUpload,"on-change":t.handleChange,"on-remove":t.handleRemove}},[i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\n              "+t._s(t.$t("car.text2"))+"\n            ")]),t._v(" "),i("i",{staticClass:"el-icon-plus"})]),t._v(" "),i("el-form",{ref:"addData",staticStyle:{"text-align":"left","margin-top":"2%"},attrs:{model:t.addData,"label-width":"110px",rules:t.editRules}},[i("el-form-item",{attrs:{label:t.$t("car.Carnumber1"),prop:"sn"}},[i("el-input",{model:{value:t.addData.sn,callback:function(e){t.$set(t.addData,"sn",e)},expression:"addData.sn"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("car.Vehicletype1"),prop:""}},[i("el-select",{attrs:{filterable:"",placeholder:t.$t("car.text")},model:{value:t.addData.type,callback:function(e){t.$set(t.addData,"type",e)},expression:"addData.type"}},t._l(t.tboxList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("car.Department2")}},[i("el-select",{attrs:{filterable:"",placeholder:t.$t("car.text")},model:{value:t.addData.depart,callback:function(e){t.$set(t.addData,"depart",e)},expression:"addData.depart"}},t._l(t.DepartList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("car.Tagnumber")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("car.text")},model:{value:t.addData.maplabel,callback:function(e){t.$set(t.addData,"maplabel",e)},expression:"addData.maplabel"}},t._l(t.maplabelList,function(t){return i("el-option",{key:t.deveui,attrs:{label:t.deveui,value:t.deveui}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("car.Remark1")}},[i("el-input",{attrs:{type:"textarea",maxlength:"255","show-word-limit":""},model:{value:t.addData.memo,callback:function(e){t.$set(t.addData,"memo",e)},expression:"addData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.addCancel("addData")}}},[t._v(t._s(t.$t("warning.Cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.addTrue("addData")}}},[t._v(t._s(t.$t("warning.Sure")))])],1)],1),t._v(" "),i("el-dialog",{attrs:{visible:t.dialogVisible,"append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})]),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("car.text3"),visible:t.edit,width:"30%"},on:{"update:visible":function(e){t.edit=e}}},[i("el-upload",{ref:"upload",attrs:{action:t.ImagePathEdit,"list-type":"picture-card","file-list":t.fileListEdit,"on-preview":t.handlePictureCardPreviewEdit,accept:".png, .jpg, .jpeg",limit:1,data:t.userIdForPicEdit,"on-success":t.picSuccessEdit,"on-error":t.picErrorEdit,headers:t.myHeaderEdit,"auto-upload":!1,"on-change":t.handleChange,"on-remove":t.handleRemove,"on-exceed":t.handleExceedEdit,"before-upload":t.beforeAvatarUploadEdit}},[i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("\n              "+t._s(t.$t("car.text2"))+"\n            ")]),t._v(" "),i("i",{staticClass:"el-icon-plus"})]),t._v(" "),i("el-form",{ref:"editData",staticStyle:{"text-align":"left","margin-top":"2%"},attrs:{model:t.editData,"label-width":"110px",rules:t.editRules}},[i("el-form-item",{attrs:{label:t.$t("car.Carnumber1"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.editData.sn,callback:function(e){t.$set(t.editData,"sn",e)},expression:"editData.sn"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("car.Vehicletype1"),prop:""}},[i("el-select",{attrs:{filterable:"",placeholder:t.$t("car.text")},model:{value:t.editData.type,callback:function(e){t.$set(t.editData,"type",e)},expression:"editData.type"}},t._l(t.tboxList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("car.Department2")}},[i("el-select",{attrs:{filterable:"",placeholder:t.$t("car.text")},model:{value:t.editData.depart,callback:function(e){t.$set(t.editData,"depart",e)},expression:"editData.depart"}},t._l(t.DepartList,function(t){return i("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("car.Tagnumber")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("car.text")},model:{value:t.editData.maplabel,callback:function(e){t.$set(t.editData,"maplabel",e)},expression:"editData.maplabel"}},t._l(t.maplabelList,function(t){return i("el-option",{key:t.deveui,attrs:{label:t.deveui,value:t.deveui}})}),1)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("car.Remark1")}},[i("el-input",{attrs:{type:"textarea",maxlength:"64","show-word-limit":""},model:{value:t.editData.memo,callback:function(e){t.$set(t.editData,"memo",e)},expression:"editData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.edit=!1,t.loading=!1}}},[t._v(t._s(t.$t("warning.Cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.editTrue("editData")}}},[t._v(t._s(t.$t("warning.Sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("car.text4"),visible:t.removeTBox,width:"50%"},on:{"update:visible":function(e){t.removeTBox=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.removeDatas,"max-height":"660",stripe:""}},[i("el-table-column",{attrs:{property:"sn",label:t.$t("car.LicensePlate"),align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"type",label:t.$t("car.VehicleType"),align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"maplabel",label:t.$t("car.LabelNumber"),align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("car.Remark3"),align:"center","show-overflow-tooltip":""}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.removeTBox=!1,t.loading=!1}}},[t._v(t._s(t.$t("warning.Cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.removeTrue()}}},[t._v(t._s(t.$t("warning.Sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("car.text5"),visible:t.addAssets,width:"30%","close-on-press-escape":!1,"modal-append-to-body":!1,"append-to-body":!0},on:{"update:visible":function(e){t.addAssets=e}}},[i("el-radio-group",{attrs:{size:"small"}},[i("el-button",{staticClass:"add",staticStyle:{float:"left"},attrs:{type:"primary"},on:{click:t.addTBoxRow}},[t._v(t._s(t.$t("car.add")))])],1),t._v(" "),i("el-form",{staticStyle:{"text-align":"center"}},[i("el-form-item",{staticStyle:{width:"75%","margin-left":"16%","text-align":"left","margin-top":"14px"},attrs:{label:t.$t("car.import")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("car.title6")},on:{change:t.importTBox},model:{value:t.currentProjectid.projectid,callback:function(e){t.$set(t.currentProjectid,"projectid",e)},expression:"currentProjectid.projectid"}},t._l(t.projectList(),function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v("\n                    "+t._s(t.$t("car.title6"))+"\n                  ")])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])],1)],1),t._v(" "),t._l(t.tboxList,function(e,a){return i("el-form",{key:e.id,staticClass:"demo-form-inline",staticStyle:{"margin-top":"20px"},attrs:{"label-width":"80px"}},[i("el-form-item",[i("el-input",{staticStyle:{float:"left",width:"70%"},attrs:{maxlength:"zh"==t.i8n?"12":"30",disabled:void 0!==e.id},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}}),t._v(" "),i("el-button",{staticClass:"del",staticStyle:{float:"left","margin-left":"20px"},attrs:{type:"primary",size:"small"},on:{click:function(i){return t.deleTBoxRow(a,e.id,e.name,e.tenantid,e.projectid)}}},[t._v(t._s(t.$t("car.delete")))])],1)],1)}),t._v(" "),i("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"-10px"},attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.addAssets=!1}}},[t._v(t._s(t.$t("warning.Cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addTBoxRowTrue()}}},[t._v(t._s(t.$t("warning.Sure")))])],1)],2),t._v(" "),i("el-dialog",{staticClass:"action",staticStyle:{"text-align":"center"},attrs:{visible:t.actions,width:"60%","close-on-click-modal":!1},on:{"update:visible":function(e){t.actions=e},close:t.closeAction}},[i("el-dialog",{staticClass:"trajectory",staticStyle:{"text-align":"center"},attrs:{visible:t.trajectory,width:"80%","close-on-click-modal":!1,"append-to-body":""},on:{"update:visible":function(e){t.trajectory=e},close:t.closetrajectoryAction}},[i("Trajectory",{ref:"trajectory",on:{closePopup:t.closePopup}})],1),t._v(" "),i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"1%",width:"100%"},attrs:{model:t.actionData}},[i("el-form-item",{staticStyle:{display:"flex","margin-left":"1%","margin-right":"1%",width:"20%"},attrs:{label:t.$t("car.Numberplate")}},[i("el-input",{model:{value:t.actionData.sn,callback:function(e){t.$set(t.actionData,"sn",e)},expression:"actionData.sn"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex","margin-left":"1%","margin-right":"2%",width:"30%"},attrs:{label:t.$t("car.Workcardnumber")}},[i("el-input",{model:{value:t.actionData.maplabel,callback:function(e){t.$set(t.actionData,"maplabel",e)},expression:"actionData.maplabel"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex","margin-left":"1%","margin-right":"0",width:"40%"},attrs:{label:t.$t("car.time")}},[i("el-date-picker",{attrs:{type:"datetimerange","picker-options":t.pickerOptions,"range-separator":t.$t("car.to"),"start-placeholder":t.$t("car.starttime"),"end-placeholder":t.$t("car.endtime")},model:{value:t.actionTime,callback:function(e){t.actionTime=e},expression:"actionTime"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-left":"1%",width:"20%"}},[i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchAction()}}},[t._v(t._s(t.$t("car.search")))]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.showTrajectory()}}},[t._v(t._s(t.$t("car.Viewtrack")))])],1)],1),t._v(" "),i("div",{staticClass:"actionDetails"},t._l(t.actionTableData,function(e){return i("Timeline",{key:e.id},[1==e.postype?i("TimelineItem",[i("p",{staticClass:"time"},[t._v("\n                  "+t._s(t.$t("LocationIndoorHis.time"))+t._s(e.gpstime)+"\n                ")]),t._v(" "),i("p",{staticClass:"content"},[t._v("\n                  "+t._s(t.$t("LocationIndoorHis.Building"))+t._s(e.building)+"\n                ")]),t._v(" "),i("p",{staticClass:"content"},[t._v("\n                  "+t._s(t.$t("LocationIndoorHis.floor"))+t._s(e.ground)+"\n                ")]),t._v(" "),i("p",{staticClass:"content"},[t._v("\n                  "+t._s(t.$t("warning.area1"))+t._s(e.tranche)+"\n                ")]),t._v(" "),i("p",{staticClass:"content"},[t._v("\n                  "+t._s(t.$t("tet.Residencetime"))+t._s(t.formatSeconds(e.remaintime))+"\n                ")])]):t._e(),t._v(" "),2==e.postype?i("TimelineItem",[i("p",{staticClass:"time"},[t._v("\n                  "+t._s(t.$t("LocationIndoorHis.time"))+t._s(e.gpstime)+"\n                ")]),t._v(" "),i("p",{staticClass:"content"},[t._v("\n                  "+t._s(t.$t("warning.area1"))+t._s(e.tranche)+"\n                ")]),t._v(" "),i("p",{staticClass:"content"},[t._v("\n                  "+t._s(t.$t("tet.Residencetime"))+t._s(t.formatSeconds(e.remaintime))+"\n                ")])]):t._e()],1)}),1)],1)],1)],1)],1)])},staticRenderFns:[]};var n=function(t){a("EVaH")},r=a("VU/8")(i.a,s,!1,n,"data-v-795e468f",null);e.default=r.exports},EVaH:function(t,e){},WNc4:function(t,e,a){"use strict";(function(t){var i=a("woOf"),s=a.n(i),n=a("//Fk"),r=a.n(n),o=a("+6Bu"),l=a.n(o),c=a("mvHQ"),d=a.n(c),m=a("PO8r"),u=a("3zDK"),h=a("s0MJ"),p=a("c2Ch"),g=a("Rj4H"),f=a("LjvF");e.a={components:{Menu:m.a,Asset:g.a,Trajectory:f.a},name:"AssetManagement",data:function(){return{i8n:this.$store.state.i18n,pickerOptions:{shortcuts:[{text:this.$t("staffmanagement.Lasthour1"),onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-36e5),t.$emit("pick",[a,e])}},{text:this.$t("staffmanagement.Lasthour3"),onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-108e5),t.$emit("pick",[a,e])}},{text:this.$t("staffmanagement.Lasthour6"),onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-216e5),t.$emit("pick",[a,e])}}]},contrForPrionum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,intoProjectType:this.$store.state.intoProjectType,projectid:this.$store.state.intoProjectid,loading:!1,searchList:{sn:"",type:"",tenantid:"",projectid:this.$store.state.projectid,maplabel:"",memo:"",page:1,count:20,depart:""},assetUsername:[],maplabelList:[],warningList:[{index:1,value:"disabled"},{index:2,value:"enabled"}],searchSelectPerson:[],tableData:[],pageCount:20,tenantidData:[],currentPage1:1,total:0,add:!1,addData:{sn:"",type:"",tenantid:this.$store.state.userInfo.tenantid,projectid:this.$store.state.projectid,maplabel:"",memo:"",depart:""},ProjectTye:"",edit:!1,editData:{id:"",sn:"",type:"",tenantid:this.$store.state.userInfo.tenantid,projectid:this.$store.state.projectid,maplabel:"",memo:"",filename:"",depart:""},editRules:{sn:[{required:!0,message:this.$t("asset.licenseplatenumber"),trigger:blur}]},deleId:"",deleTenantid:"",multipleSelection:[],removeTBox:!1,removeDatas:[],removeTBoxDatas:{ids:[]},DepartList:[],haveImage:!1,delImage:!1,ImagePath:u.a.host+"user/addTboxMapFile",ImagePathEdit:u.a.host+"user/updateTboxMapFile",fileListAdd:[],fileListEdit:[],dialogImageUrl:"",dialogVisible:!1,userIdForPic:{},userIdForPicEdit:{},myHeader:{tenantkey:this.$store.state.userInfo.tenantkey,ts:(new Date).getTime(),tenantid:this.$store.state.userInfo.tenantid,userName:this.$store.state.userInfo.username},myHeaderEdit:{tenantkey:this.$store.state.userInfo.tenantkey,ts:(new Date).getTime(),tenantid:this.$store.state.userInfo.tenantid,userName:this.$store.state.userInfo.username},projectTable:[],currentProjectid:{projectid:""},trajectory:!1,addAssets:!1,tboxList:[],actions:!1,actionData:{projectid:"",maplabel:"",sn:""},actionTableData:[],actionTableDataArr:[],actionTime:"",isSearchAction:!1,headlistdata:""}},methods:{importExcel:function(){document.getElementById("articleImageFile").click()},importExcels:function(e){var i,s=this,n=event.currentTarget.files[0],r=new FileReader;FileReader.prototype.readAsBinaryString=function(e){var n,r,o="",l=new FileReader;l.onload=function(e){for(var c=new Uint8Array(l.result),m=c.byteLength,u=0;u<m;u++)o+=String.fromCharCode(c[u]);var h=a("uXZL");n=h.read(o,{type:"binary"}),r=h.utils.sheet_to_json(n.Sheets[n.SheetNames[0]]),i=s.dateTransition(r);var g={msg:d()(i),tenantid:s.tenantid_A,projectid:s.$store.state.projectid};Object(p._118)(g,s.tenantkey_A,s.tenantid_A,s.userName).then(function(e){1001==e.code?(s.$message({message:s.$t("terminal.tet2"),type:"warning"}),t("#articleImageFile").val(""),s.getTboxLists()):(s.$message({message:"zh"==s.$store.state.i18n?e.msg:e.enMsg,type:"error"}),t("#articleImageFile").val(""))})},l.readAsArrayBuffer(e)},r.readAsBinaryString(n)},dateTransition:function(t){for(var e=[],a={},i=0;i<t.length;i++){for(var s in a={},t[i])switch(s){case this.$t("car.LicensePlate"):a.sn=t[i][s];break;case this.$t("car.VehicleType"):a.type=t[i][s];break;case this.$t("car.LabelNumber"):a.maplabel=t[i][s];break;case this.$t("car.Department1"):a.depart=t[i][s];break;case this.$t("car.Remark3"):a.memo=t[i][s]}e.push(a)}return e},exportExcel:function(){0!=this.multipleSelection.length?(this.headlistdata=[{msg:this.$t("car.LicensePlate"),value:"sn"},{msg:this.$t("car.VehicleType"),value:"type"},{msg:this.$t("car.LabelNumber"),value:"maplabel"},{msg:this.$t("car.Department1"),value:"depart"},{msg:this.$t("car.Remark3"),value:"memo"}],this.export2Excel(this.multipleSelection)):this.$message({message:this.$t("car.selectCar"),type:"warning"})},export2Excel:function(t){for(var e=this,i=this,s=[],n=["sn","type","maplabel","depart","memo"],r=0;r<n.length;r++){s.push(n[r]);for(var o=0;o<i.headlistdata.length;o++)n[r]==i.headlistdata[o].value&&(n[r]=i.headlistdata[o].msg)}a.e(55).then(function(){var r=a("zWO4").export_json_to_excel,o=s,l=t;r(n,e.formatJson(o,l),i.$t("list.Vehiclemanagement"))}.bind(null,a)).catch(a.oe)},formatJson:function(t,e){return e.map(function(e){return t.map(function(t){return e[t]})})},exportExcelAll:function(){var t=this;this.headlistdata=[{msg:t.$t("car.LicensePlate"),value:"sn"},{msg:t.$t("car.VehicleType"),value:"type"},{msg:t.$t("car.LabelNumber"),value:"maplabel"},{msg:t.$t("car.Department1"),value:"depart"},{msg:t.$t("car.Remark3"),value:"memo"}];var e={sn:"",type:"",tenantid:"",projectid:this.$store.state.projectid,maplabel:"",memo:"",page:"",count:"",depart:""};Object(p._93)(e,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?t.export2Excel(e.data.list):t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"})})},showTrajectory:function(){var t=this;this.isSearchAction=!0;var e=this;if(0!==this.actionTableData.length){this.actionTableDataArr=[];var a=[],i=JSON.parse(d()(this.actionTableData)),s=i[0];if(i.forEach(function(t,n){t.groundid===s.groundid?a.push(t):(e.actionTableDataArr.push(a),s=t,(a=[]).push(t)),n==i.length-1&&e.actionTableDataArr.push(a)}),e.actionTableDataArr.length>0){var n=void 0,r=void 0;if(null==this.actionTime||0==this.actionTime.length){var o=new Date;o.setHours(0,0,0,0),n=o.getTime()/1e3,r=Date.parse(new Date)/1e3}else n=Date.parse(e.actionTime[0])/1e3,r=Date.parse(e.actionTime[1])/1e3;this.trajectory=!0,this.isSearchAction=!1,this.$nextTick(function(){t.$refs.trajectory.search(e.actionTableDataArr,n,r,4)})}}else e.searchAction()},closePopup:function(t){this.trajectory=!1},staffAction:function(t){this.actionData.projectid=this.tableData[t].projectid,this.actionData.maplabel=this.tableData[t].maplabel,this.actionData.sn=this.tableData[t].sn,""!=this.tableData[t].maplabel&&null!=this.tableData[t].maplabel?this.actions=!0:this.$message({message:this.$t("asset.vehiclebindlabel"),type:"warning"})},searchAction:function(){var t=this,e=this,a={projectid:this.actionData.projectid,deveui:this.actionData.maplabel,username:this.actionData.sn,begintime:"",endtime:"",devtype:4,timezone:this.$store.state.intoProjectTimezone};if(this.actionTime){if(this.actionTime[1].getTime()-this.actionTime[0].getTime()>864e5)return void e.$message({message:this.$t("asset.exceedhours"),type:"warning"});var i=e.actionTime[0],s=e.actionTime[1];i=i&&""!=i?h.a.formatDate.format(new Date(i),"yyyy-MM-dd hh:mm:ss"):"",s=s&&""!=s?h.a.formatDate.format(new Date(s),"yyyy-MM-dd hh:mm:ss"):"",i.length>0&&s.length>0&&(i=Date.parse(new Date(i))/1e3,s=Date.parse(new Date(s))/1e3),a.begintime=i,a.endtime=s}else{var n=new Date;n.setHours(0,0,0,0),a.begintime=n.getTime()/1e3,a.endtime=Date.parse(new Date)/1e3}if(""!=this.actionData.maplabel&&null!=this.actionData.maplabel&&""!=this.actionData.sn&&null!=this.actionData.sn){var r=this.$loading({lock:!0,text:this.$t("tet.Loading"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:document.querySelector(".action")});Object(p._41)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(a){if(1001==a.code){if(0==a.data.tranchelist.length)return e.$message({message:e.$t("buildingmanagement.nodata"),type:"warning"}),e.actionTableData=[],void r.close();e.actionTableData=a.data.tranchelist.reverse();for(var i=0;i<e.actionTableData.length;i++)e.actionTableData[i].gpstime=e.formatDatetime(e.actionTableData[i].gpstime);1==t.isSearchAction&&e.showTrajectory()}else e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"});r.close()})}else this.$message({message:this.$t("asset.Licensesametime"),type:"warning"})},closeAction:function(){this.actionTableData=[]},closetrajectoryAction:function(){var t=this;this.$nextTick(function(){t.$refs.trajectory.stop(!0)})},formatDatetime:function(t){if(null==t||0==t)return"";var e=new Date(1e3*parseInt(t)).toUTCString();return this.datetimecut(e)},datetimecut:function(t){if(!t)return"-";function e(t){return t>9?t:"0"+t}var a=new Date(t);return a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},formatSeconds:function(t){var e=parseInt(t),a=0,i=0;e>60&&(a=parseInt(e/60),e=parseInt(e%60),a>60&&(i=parseInt(a/60),a=parseInt(a%60)));var s=parseInt(e)+"秒";return a>0&&(s=parseInt(a)+"分"+s),i>0&&(s=parseInt(i)+"小时"+s),s},projectList:function(){var t=this;return this.projectTable.filter(function(e){return e.projectid!==t.$store.state.projectid})},getProjectLists:function(){var t=this,e={tenantid:this.$store.state.userInfo.tenantid};Object(p._82)(e,this.tenantkey_A,this.tenantid_A,this.username).then(function(e){1001==e.code&&(t.projectTable=e.data.list)})},goSetTBox:function(){this.getProjectLists();var t=this;this.currentProjectid.projectid="";var e={tenantid:this.tenantid_A,projectid:this.$store.state.projectid};Object(p._96)(e,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.tboxList=e.data,t.addAssets=!0):t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"})})},addTBoxRow:function(){this.tboxList.push({})},importTBox:function(t){if(t){var e=this,a={tenantid:this.tenantid_A,projectid:this.currentProjectid.projectid};Object(p._96)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){if(1001==t.code){if(t.data.length>0){var a=t.data;e.tboxList.forEach(function(t){a.forEach(function(e,i){e.name==t.name&&a.splice(i,1)})}),a.forEach(function(t){e.tboxList.push({name:t.name,id:"",tenantid:t.tenantid,projectid:t.projectid})})}}else e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}},deleTBoxRow:function(t,e,a,i,s){if(a&&e){var n=this,r={tenantid:i,projectid:s,name:a};Object(p._4)(d()(r),this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?n.tboxList.splice(t,1):n.$message({message:"zh"==n.$store.state.i18n?e.msg:e.enMsg,type:"error"})})}else this.tboxList.splice(t,1)},addTBoxRowTrue:function(){var e=this,a=this,i=!1,s=!1,n={};if(t.each(this.tboxList,function(t,e){void 0===e.id&&(e.id=""),e.name||(i=!0),n[e.name]&&(s=!0),n[e.name]=!0}),i)return a.$message({message:this.$t("asset.cannotempty"),type:"error"}),void this.tboxList.splice(-1,1);if(s)return a.$message({message:this.$t("asset.alreadyexists"),type:"error"}),void this.tboxList.splice(-1,1);var r={branchs:this.tboxList.filter(function(t){return!t.id}).map(function(t){t.id;return l()(t,["id"])}),tenantid:this.tenantid_A,projectid:this.$store.state.projectid};r.branchs=d()(r.branchs),Object(p.v)(r,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code?(a.$message({message:a.$t("asset.Setsuccessfully"),type:"success"}),a.addAssets=!1,e.getTBoxType()):(a.$message({message:"zh"==a.$store.state.i18n?t.msg:t.enMsg,type:"error"}),i=!1)})},myHeaderd:function(){(new Date).getTime();this.myHeader.tenantkey=this.tenantkey_A,this.myHeader.ts=this.time_A,this.myHeader.tenantid=this.tenantid_A,this.myHeader.userName=this.userName},handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},handlePictureCardPreviewEdit:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},picSuccess:function(t,e,a){this.$refs.upload.clearFiles(),1001==t.code?(this.add=!1,this.searchList.page=1,this.getTboxLists(),this.$message({message:this.$t("beacon.addsuccess"),type:"success"}),this.loading=!1,this.$refs.addData.resetFields()):(this.$message({message:this.$t("beacon.addfaile"),type:"warning"}),this.loading=!1)},picSuccessEdit:function(t,e,a){this.$refs.upload.clearFiles(),1001==t.code?(this.edit=!1,this.searchList.page=1,this.getTboxLists(),this.$message({message:this.$t("beacon.editsuccess"),type:"success"}),this.loading=!1):(this.$message({message:this.$t("beacon.editfaile"),type:"warning"}),this.loading=!1)},picError:function(t){this.loading=!1,this.$refs.upload.clearFiles()},picErrorEdit:function(t){this.loading=!1,this.$refs.upload.clearFiles()},handleExceed:function(t,e){this.$message.warning(this.$t("tet.tet10"))},handleExceedEdit:function(t,e){this.$message.warning(this.$t("tet.tet11"))},beforeAvatarUpload:function(t){var e=t.name.lastIndexOf("."),a=t.name.substr(e+1);if("jpg"!=a&&"jpeg"!=a&&"png"!=a)return this.$message.error(this.$t("tet.tet12")),this.loading=!1,!1;var i=t.size/1024/1024<2;return i||(this.$message.error(this.$t("tet.tet13")),this.loading=!1),i},beforeAvatarUploadEdit:function(t){var e=t.name.lastIndexOf("."),a=t.name.substr(e+1);if("jpg"!=a&&"jpeg"!=a&&"png"!=a)return this.$message.error(this.$t("tet.tet12")),this.loading=!1,!1;var i=t.size/1024/1024<2;return i||(this.$message.error(this.$t("tet.tet13")),this.loading=!1),i},handleChange:function(t){t&&(this.haveImage=!0,this.delImage=!1)},handleRemove:function(t){t&&(this.haveImage=!1,this.delImage=!0)},handleCurrentChange:function(t){if(this.searchList.page=t,this.searchList.count=this.pageCount,this.$route.query.euis){var e=this,a={projectid:this.projectid,euis:this.$store.state.tboxEuis,page:this.searchList.page,count:this.searchList.count,flag:this.$route.query.flag};Object(p._92)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code&&(e.tableData=t.data.list,e.total=t.data.size)})}else this.getTboxLists()},handleSizeChange:function(t){if(this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.$route.query.euis){var e=this,a={projectid:this.projectid,euis:this.$store.state.tboxEuis,page:this.searchList.page,count:this.searchList.count,flag:this.$route.query.flag};Object(p._92)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code&&(e.tableData=t.data.list,e.total=t.data.size)})}else this.getTboxLists()},handleSelectionChange:function(t){this.multipleSelection=t},clearBtn:function(){this.searchList={sn:"",type:"",tenantid:"",projectid:this.$store.state.projectid,maplabel:"",memo:"",page:1,count:20,depart:""},this.currentPage1=1,this.$route.query.euis="",this.$store.commit("changeTBoxEuis",""),this.getTboxLists()},getMemberLists:function(){var t=this,e=this;return new r.a(function(a,i){var s={tenantid:t.$store.state.userInfo.tenantid,projectid:t.$store.state.projectid};Object(p._66)(s,t.tenantkey_A,t.tenantid_A,t.userName).then(function(t){1001==t.code&&(e.assetUsername=t.data.list,a())})})},getDevDeveuis:function(t){var e=this,a=this;return new r.a(function(i,s){var n={projectid:t,devtype:3,workstate:1,inallot:1,inuse:2};Object(p._40)(n,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){if(1001==t.code){a.maplabelList=t.data;for(var e=0;e<t.data.length;e++)a.maplabelList[e]={deveui:a.maplabelList[e]};i()}})})},addTBox:function(){this.fileListAdd=[],this.haveImage=!1,this.getDepart();var t=this;this.assetUsername=[],this.maplabelList=[],this.addData={sn:"",type:"",tenantid:this.$store.state.userInfo.tenantid,projectid:this.$store.state.projectid,maplabel:"",memo:"",depart:""},r.a.all([this.getMemberLists(),this.getDevDeveuis(this.$store.state.projectid),this.getTBoxType()]).then(function(){t.add=!0})},addCancel:function(t){this.add=!1,this.loading=!1,this.$refs[t].resetFields()},addTrue:function(t){var e=this,a=this;this.addData.tenantid=this.tenantid_A,this.$refs[t].validate(function(i){i&&(a.loading=!0,a.haveImage?(a.userIdForPic.sn=a.addData.sn,a.userIdForPic.type=a.addData.type,a.userIdForPic.tenantid=a.addData.tenantid,a.userIdForPic.projectid=a.addData.projectid,a.userIdForPic.maplabel=a.addData.maplabel,a.userIdForPic.memo=a.addData.memo,a.userIdForPic.depart=a.addData.depart,a.$refs.upload.submit()):Object(p.u)(e.addData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(e){1001==e.code?(a.add=!1,a.searchList.page=1,a.getTboxLists(),a.$message({message:a.$t("beacon.addsuccess"),type:"success"}),a.loading=!1,a.$refs[t].resetFields()):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)}))})},staffEdit:function(t){this.haveImage=!1,this.delImage=!1,this.getDepart(),this.tableData[t].filename?this.fileListEdit=[{url:u.a.host+"profile/"+this.tableData[t].filename}]:this.fileListEdit=[];var e=this;this.assetUsername=[],this.maplabelList=[],this.editData.id=this.tableData[t].id,this.editData.sn=this.tableData[t].sn,this.editData.type=this.tableData[t].type,this.editData.tenantid=this.tableData[t].tenantid,this.editData.projectid=this.tableData[t].projectid,this.editData.maplabel=this.tableData[t].maplabel,this.editData.memo=this.tableData[t].memo,this.editData.filename=this.tableData[t].filename,this.editData.depart=this.tableData[t].depart,r.a.all([this.getMemberLists(),this.getDevDeveuis(this.$store.state.projectid),this.getTBoxType()]).then(function(){e.edit=!0})},editTrue:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.loading=!0,e.haveImage?(e.userIdForPicEdit.id=e.editData.id,e.userIdForPicEdit.sn=e.editData.sn,e.userIdForPicEdit.type=e.editData.type,e.userIdForPicEdit.tenantid=e.editData.tenantid,e.userIdForPicEdit.projectid=e.editData.projectid,e.userIdForPicEdit.memo=e.editData.memo,e.userIdForPicEdit.maplabel=e.editData.maplabel,e.userIdForPicEdit.depart=e.editData.depart,e.$refs.upload.submit()):(e.delImage&&(e.editData.filename=""),Object(p._193)(e.editData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.edit=!1,e.searchList.page=1,e.getTboxLists(),e.$message({message:e.$t("beacon.editsuccess"),type:"success"}),e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"warning"}),e.loading=!1)}))})},TBoxDele:function(t){var e=this;5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio?this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"}):this.$confirm(this.$t("test.confirmdel1")+this.tableData[t].sn+this.$t("terminal.carmsg2"),this.$t("terminal.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){e.deleId=e.tableData[t].id,e.deleTrue()})},deleTrue:function(){var t=this,e={id:this.deleId};this.loading=!0,Object(p._3)(e,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.searchList.page=1,t.getTboxLists(),t.$message({message:t.$t("terminal.deletesuccess"),type:"success"}),t.loading=!1):(t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"warning"}),t.loading=!1)})},searchTBox:function(){var t=this;this.searchList.page=1,this.currentPage1=1;var e=this;Object(p._93)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(a){1001==a.code&&(e.tableData=a.data.list,e.total=a.data.size,a.data.list.length>0?e.$message({message:t.$t("terminal.searchsuccess"),type:"success"}):e.$message({message:t.$t("terminal.nodata"),type:"warning"}))})},removeTBoxs:function(){if(this.removeTBoxDatas={ids:[],snlist:[],maplabellist:[],projectid:this.$store.state.projectid},0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(null==this.multipleSelection[t].maplabel||""==this.multipleSelection[t].maplabel)return void this.$message({message:this.$t("beacon.boundvehicle"),type:"warning"});this.removeTBoxDatas.ids+=this.multipleSelection[t].id+",",this.removeTBoxDatas.snlist+=this.multipleSelection[t].sn+",",this.removeTBoxDatas.maplabellist+=this.multipleSelection[t].maplabel+","}this.removeTBoxDatas.ids=this.removeTBoxDatas.ids.slice(0,this.removeTBoxDatas.ids.length-1),this.removeTBoxDatas.snlist=this.removeTBoxDatas.snlist.slice(0,this.removeTBoxDatas.snlist.length-1),this.removeTBoxDatas.maplabellist=this.removeTBoxDatas.maplabellist.slice(0,this.removeTBoxDatas.maplabellist.length-1),this.removeDatas=this.multipleSelection,this.removeTBox=!0}else this.$message({message:this.$t("beacon.Pleaseunbound"),type:"warning"})},removeTrue:function(){var t=this;this.loading=!0,Object(p._194)(this.removeTBoxDatas,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.removeTBox=!1,t.searchList.page=1,t.getTboxLists(),t.$message({message:t.$t("staffmanagement.staffrule2"),type:"success"}),t.loading=!1):(t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"warning"}),t.loading=!1)})},getTboxLists:function(){var t=this;Object(p._93)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=e.data.list,t.total=e.data.size)})},getTBoxType:function(){var t=this,e=this;return new r.a(function(a,i){var s={tenantid:t.tenantid_A,projectid:t.$store.state.projectid};Object(p._96)(s,t.tenantkey_A,t.tenantid_A,t.userName).then(function(t){1001==t.code?(e.tboxList=t.data,a()):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})})},getDepart:function(){var t=this,e={tenantid:this.tenantid_A,projectid:this.$store.state.projectid};Object(p._34)(e,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.DepartList=e.data)})},goLocation:function(t){var e=this;if(""!=this.tableData[t].maplabel&&null!=this.tableData[t].maplabel){var a={deveui:this.tableData[t].maplabel,projectid:this.tableData[t].projectid,devtype:4};Object(p._44)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code?null==t.data.gpstime||""==t.data.gpstime||0==t.data.gpstime?e.$message({message:e.$t("LocationIndoor.tet3"),type:"warning"}):1==t.data.postype?e.$router.push({path:"/location/indoor/locationindoor",query:{tboxDeveui:t.data.deveui}}):2==t.data.postype&&e.$router.push({path:"/location/outdoor/locationoutdoor",query:{tboxDeveui:t.data.deveui}}):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}else this.$message({message:this.$t("asset.vehiclebindlabel"),type:"warning"})}},beforeMount:function(){if(this.$route.query.euis){var t=this,e={projectid:this.projectid,euis:this.$store.state.tboxEuis,page:1,count:20,flag:this.$route.query.flag};Object(p._92)(e,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=e.data.list,t.total=e.data.size)})}else this.getTboxLists();this.getTBoxType(),this.getDepart()},watch:{"$i18n.locale":function(){this.i8n=this.$store.state.i18n,s()(this.$data.editRules,this.$options.data.call(this).editRules)}}}}).call(e,a("7t+N"))},nmTc:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAApRJREFUSEuVlluITnEUxX/rUZ5ESjy4XyIxJkUKJQmJMA9DLoWpKddSLsnlYWqmUJpchjeSkEtuuRQP7rfcy8QbSVIivKilPf7fdHwz3/m+2XU6ndNur/9ee691jqggbE8BlgLLUvoP4DlwVFJLXgmVq297B7A95d0D7gP9gAnpfkfSpFJ1cgEyxU8BeyUFQHvYXg9sAP5IGtAZSEmARMtNoEVSXakT2h4HPC6VlwdwEhgCTJX0LY9K2+uiQ6Ba0pNsbh6AgWZJqyuY0+g09JWSjnQFYL6kMxUAdAN+ATslxVK0R14HX4HN5dYwKtnuDXzuKkCs4ytJKyrooBp4BMyQdLXSDjYBW4Fpkh6UGfIBYBYwStL3SgHGAreBZ8BcSV86A7G9CDgGrJbUXJxTTmhhEaGF98Ae4Lykj4n3UHI9sBi4Lml6l4RWSE6CC6sIsIgXQF+gZ3qulxQUdRp5W7QcWJIK3wA+AJ+AEUAI7ylwRdK71NEcoAp4LSmspS06ANgeDuwCFgIXkgVcLDPkoLHQYaSeklTTAcB2L+ASML4LKi64bV1oxvYq4FBBE/91YPs8EK2G/9wqPrXtiZLuZt/bjgMNkzQ4M7eg7aGk2naALDJwLVvIdvh/DDJseV4RQGOsKDBGUqvtoWm1m8I2sgBhuWG9hWiUtMl2fMUOAi/DLYEGSSHAtrDdBGyM4QKngQXAyLgkvWkDsB0DDXsu5vE4UAucALYAu4HZwMC0pg3ATGBNep6ccLdJCpH+2yLbUbyqEx4HhV1IikKRF/sf3+JWoA/wG5gn6W2uDhIN+0vxWMR5mN9hYJ+ktXnrm+2gezgn8DPDYw9JceIOYbtGUnRdNrJD7p/+HoLjs8A5SZfLViiT8BcSUhwoDH3R5AAAAABJRU5ErkJggg=="}});