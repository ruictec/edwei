webpackJsonp([7],{"+NqS":function(t,e){},"07wO":function(t,e){},"5xDj":function(t,e){},LA7u:function(t,e){},NMAv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("nQqC"),s=a("PO8r"),n=a("k4/M"),o=a("woOf"),r=a.n(o),l=a("mvHQ"),c=a.n(l),d=a("c2Ch"),u={components:{Menu:s.a,Devicemanagement:n.a,basecard:i.a},data:function(){return{i8n:this.$store.state.i18n,show:!1,seen:!0,seen1:!1,intoProjectType:this.$store.state.intoProjectType,contrForPrionum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,delprio:this.$store.state.userInfo.delprio,searchList:{devtype:1,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:"",count:this.pageCount,memo:""},pageCount:20,currentPage1:1,total:0,groundList:[],searchInallotList:[{index:1,value:this.$t("home.Assigned")},{index:2,value:this.$t("home.Unassigned")}],inuseType:[{index:1,value:this.$t("beacon.inusetype4")},{index:2,value:this.$t("beacon.inusetype3")}],workType:[{index:1,value:this.$t("terminal.worktype1")},{index:2,value:this.$t("terminal.worktype2")}],tableData:[],deleteData:[],del:!1,multipleSelection:[],loading:!1,add:!1,addData:{devtype:1,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",memo:""},addRules:{deveui:[{required:!0,pattern:/^[a-zA-Z0-9]{1,16}$/,message:this.$t("terminal.tit30"),trigger:"blur"}],tenantid:[{required:!0,message:this.$t("beacon.tenantidrules"),trigger:"change"}]},edit:!1,editData:{devtype:1,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",memo:""},tenantidData:[],projectList:[],assign:!1,assignData:{deveuis:"",projectid:"",devtype:1},assignRules:{projectid:[{required:!0,message:this.$t("otherDev.mes10"),trigger:"change"}]},assignDatas:{deveuis:"",projectid:"",devtype:1},assigns:!1,removeAoaDatas:{deveuis:"",devtype:1,projectid:""},removeDatas:[],removeAoa:!1}},methods:{search:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:1,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getCustomerNames()),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:1,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getProjectListByTenantids()),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:1,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},clearBtn:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:1,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:1,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:1,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},searchInfo:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.tableData=e.data.list,t.total=e.data.size,e.data.size>0?t.$message({message:t.$t("beacon.searchsuccess"),type:"success"}):t.$message({message:t.$t("beacon.nodata"),type:"success"})):(t.searchList.count=20,t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}))})},handleCurrentChange:function(t){this.searchList.page=t,this.searchList.count=this.pageCount,this.getDevAoaLists()},handleSizeChange:function(t){this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.getDevAoaLists()},selectProject:function(t){this.groundList=[],this.getBuildingLists(t)},getBuildingLists:function(t){var e=this,a={projectid:t};Object(d._23)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code&&t.data.list.forEach(function(t,a){""!==t.mapid&&null!==t.mapid&&(t.labelname=t.building+"/"+t.ground+e.$t("warning.floor"),e.groundList.push(t))})})},recycleAoa:function(t){var e=this;2!=this.tableData[t].inallot?this.$confirm(this.$t("beacon.tet13")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:e.tableData[t].deveui,projectid:e.tableData[t].projectid,devtype:1};Object(d._166)(a,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.noassinsuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:e.$t("otherDev.aoames1"),type:"warning"})},removeAoas:function(){if(this.removeAoaDatas.deveuis="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(2==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.aoames1"),type:"warning"});if(this.multipleSelection.length>1&&t<this.multipleSelection.length-1&&this.multipleSelection[t].projectid!==this.multipleSelection[t+1].projectid)return void this.$message({message:"请选择同一项目的AOA网关！",type:"warning"});this.removeAoaDatas.deveuis+=this.multipleSelection[t].deveui+","}this.removeAoaDatas.projectid=this.multipleSelection[0].projectid,this.removeAoaDatas.devtype=1,this.removeAoaDatas.deveuis=this.removeAoaDatas.deveuis.slice(0,this.removeAoaDatas.deveuis.length-1),this.removeDatas=this.multipleSelection,this.removeAoa=!0}else this.$message({message:this.$t("otherDev.aoames2"),type:"warning"})},removeTrue:function(){var t=this;this.loading=!0,Object(d._166)(t.removeAoaDatas,t.tenantkey_A,t.tenantid_A,t.userName).then(function(e){1001==e.code?(t.removeAoa=!1,t.getDevAoaLists(),t.$message({message:t.$t("beacon.noassinsuccess"),type:"success"}),t.loading=!1):(t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}),t.loading=!1)})},assignAoa:function(t){1!=this.tableData[t].inallot?(this.assignData.deveuis=this.tableData[t].deveui,this.assignData.projectid="",this.assign=!0):this.$message({message:this.$t("otherDev.aoames3"),type:"warning"})},assignCancle:function(t){this.assign=!1,this.loading=!1,this.$refs[t].resetFields()},assignTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.loading=!0,Object(d._164)(e.assignData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.assign=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.assinsuccess"),type:"success"}),e.$refs[t].resetFields(),e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)}))})},assignAoas:function(){if(this.assignDatas.deveuis="",this.assignDatas.projectid="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.aoames3"),type:"warning"});this.assignDatas.deveuis+=this.multipleSelection[t].deveui+","}this.assignDatas.deveuis=this.assignDatas.deveuis.slice(0,this.assignDatas.deveuis.length-1),this.assigns=!0}else this.$message({message:this.$t("otherDev.aoames4"),type:"warning"})},assignsCancle:function(t){this.assigns=!1,this.loading=!1,this.$refs[t].resetFields()},assignsTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.loading=!0,Object(d._164)(e.assignDatas,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.assinsuccess"),type:"success"}),e.$refs[t].resetFields(),e.loading=!1,e.assigns=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)}))})},addAoas:function(){this.add=!0,this.addData={custom:1==this.contrForPrionum||2==this.contrForPrionum?"1":"2",devtype:1,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",memo:""},this.add=!0},addCancel:function(t){this.add=!1,this.loading=!1,this.$refs[t].resetFields()},addTrue:function(t){var e=this,a=this;this.$refs[t].validate(function(i){i&&(1!=a.contrForPrionum&&2!=a.contrForPrionum&&(a.addData.tenantid=a.tenantid_A),e.loading=!0,Object(d.j)(a.addData,a.tenantkey_A,a.tenantid_A,a.userName).then(function(e){1001==e.code?(a.add=!1,a.loading=!1,a.searchList.page=1,a.currentPage1=1,a.$refs[t].resetFields(),a.getDevAoaLists(),a.$message({message:a.$t("beacon.addsuccess"),type:"success"})):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)}))})},editAoa:function(t){this.editData.deveui=this.tableData[t].deveui,this.editData.alias=this.tableData[t].alias,this.editData.tenantid=this.tableData[t].tenantid,this.editData.projectid=this.tableData[t].projectid,this.editData.groundid=this.tableData[t].groundid,this.editData.inallot=this.tableData[t].inallot,this.editData.inuse=this.tableData[t].inuse,this.editData.workstate=this.tableData[t].workstate,this.editData.memo=this.tableData[t].memo,this.edit=!0},editCancle:function(t){this.edit=!1,this.loading=!1,this.$refs[t].resetFields()},editTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&Object(d._163)(e.editData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.edit=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.editsuccess"),type:"success"}),e.loading=!1,e.$refs[t].resetFields()):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})})},delAoa:function(t){var e=this;5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio?this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"}):1!=this.contrForPrionum&&2!=this.contrForPrionum||2!=this.tableData[t].custom?3!=this.contrForPrionum&&4!=this.contrForPrionum||1!=this.tableData[t].custom?1!=this.tableData[t].inallot?1!=this.tableData[t].inuse?this.$confirm(this.$t("beacon.deletemsg1")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:[e.tableData[t].deveui]};Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:this.$t("otherDev.mes6"),type:"warning"}):this.$message({message:this.$t("otherDev.mes5"),type:"warning"}):this.$message({message:this.$t("terminal.tet43"),type:"warning"}):this.$message({message:this.$t("terminal.tet3"),type:"warning"})},deleteAoas:function(){if(0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if((3==this.contrForPrionum||4==this.contrForPrionum)&&1==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet44"),type:"warning"});if((1==this.contrForPrionum||2==this.contrForPrionum)&&2==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet3"),type:"warning"});if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.mes8"),type:"warning"});if(1==this.multipleSelection[t].inuse)return void this.$message({message:this.$t("otherDev.mes9"),type:"warning"})}this.deleteData=this.multipleSelection,this.del=!0}else this.$message({message:this.$t("otherDev.mes7"),type:"warning"})},deleteTrue:function(){var t=this;if(5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio)this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"});else{for(var e=this,a={deveuis:[]},i=0;i<this.deleteData.length;i++)a.deveuis.push(this.deleteData[i].deveui);this.loading=!0,Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"}),t.del=!1,e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})}},datetimecut:function(t){if(!t)return"-";function e(t){return t>9?t:"0"+t}var a=new Date(t);return a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},formatDateDevtime:function(t,e){if(null==t.devtime||0==t.devtime)return"";var a=new Date(1e3*parseInt(t.devtime)).toUTCString();return this.datetimecut(a)},formatDateDregtime:function(t,e){if(null==t.regtime||0==t.regtime)return"";var a=new Date(1e3*parseInt(t.regtime)).toUTCString();return this.datetimecut(a)},getCustomerNames:function(){var t=this;Object(d._33)({beginlevel:1,endlevel:3},this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){t.tenantidData=e.data})},getProjectListByTenantids:function(){var t=this,e=void 0;e=3==this.$store.state.userInfo.prionum||4==this.$store.state.userInfo.prionum?{superid:this.$store.state.userInfo.tenantid}:{tenantid:this.$store.state.userInfo.tenantid},Object(d._82)(e,this.tenantkey_A,this.tenantid_A,this.username).then(function(e){1001==e.code&&(t.projectList=e.data.list)})},getDevAoaLists:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=e.data.list,t.total=e.data.size)})},handleSelectionChange:function(t){this.multipleSelection=t},changeItem:function(){0==this.show&&1==this.seen&&0==this.seen1?(this.show=!0,this.seen=!1,this.seen1=!0):(this.show=!1,this.seen=!0,this.seen1=!1)}},watch:{"$i18n.locale":function(){this.i8n=this.$store.state.i18n,r()(this.$data.addRules,this.$options.data.call(this).addRules),r()(this.$data.searchInallotList,this.$options.data.call(this).searchInallotList),r()(this.$data.inuseType,this.$options.data.call(this).inuseType),r()(this.$data.workType,this.$options.data.call(this).workType),r()(this.$data.assignRules,this.$options.data.call(this).assignRules)}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"content"},[i("el-container",[i("el-main",[i("div",{staticClass:"aoa_input"},[i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0"},attrs:{model:t.searchList}},[i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.deveui,callback:function(e){t.$set(t.searchList,"deveui",e)},expression:"searchList.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.alias,callback:function(e){t.$set(t.searchList,"alias",e)},expression:"searchList.alias"}})],1),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.tenantid,callback:function(e){t.$set(t.searchList,"tenantid",e)},expression:"searchList.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen,expression:"seen"}],staticStyle:{display:"flex","margin-left":"2%"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.more"))+"\n                "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v("\n                "+t._s(t.$t("beacon.search"))+"\n              ")]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v("\n                "+t._s(t.$t("beacon.reset"))+"\n              ")]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("index.add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.project1")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},on:{change:t.selectProject},model:{value:t.searchList.projectid,callback:function(e){t.$set(t.searchList,"projectid",e)},expression:"searchList.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("floormanagement.floor1")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.groundid,callback:function(e){t.$set(t.searchList,"groundid",e)},expression:"searchList.groundid"}},t._l(t.groundList,function(t){return i("el-option",{key:t.id,attrs:{label:t.labelname,value:t.id}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum&&2!=t.contrForPrionum&&1!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.Assignmentstatus")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.inallot,callback:function(e){t.$set(t.searchList,"inallot",e)},expression:"searchList.inallot"}},t._l(t.searchInallotList,function(t){return i("el-option",{key:t.inddex,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.inuse")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("terminal.choose"),clearable:"",filterable:""},model:{value:t.searchList.inuse,callback:function(e){t.$set(t.searchList,"inuse",e)},expression:"searchList.inuse"}},t._l(t.inuseType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1):t._e(),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum&&5!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),5==t.contrForPrionum&&t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0","z-index":"1"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:5==t.contrForPrionum&&t.seen1,expression:"contrForPrionum == 5 && seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0","z-index":"1"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))])],1)],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0"},attrs:{model:t.searchList}},[3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen1,expression:"seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("floormanagement.Add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1)],1):t._e()],1),t._v(" "),i("div",[i("el-table",{ref:"multipleTable",staticStyle:{width:"98%","text-align":"center","margin-left":"0","z-index":"1"},attrs:{data:t.tableData,"max-height":"670",border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},["5"!=t.contrForPrionum?i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}):t._e(),t._v(" "),"1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"customstr","show-overflow-tooltip":"",align:"center","min-width":"90"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v(t._s(t.$t("gateway.customstr")))]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v("\n                      "+t._s(t.$t("terminal.title5"))+"\n                    ")])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}],null,!1,178905683)}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"82",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"60",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"60",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"97",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"97",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-table-column",{attrs:{fixed:"right",label:t.$t("beacon.control"),align:"center","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"mini",type:"primary",trigger:"click"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("staff.operate"),placement:"top"}},[i("el-button",{staticClass:"icon_button",attrs:{type:"primary"}},[i("img",{attrs:{src:a("VJ6t")}})])],1),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.editAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.edit")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.assignAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.recycleAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delss",attrs:{size:"mini"},on:{click:function(a){return t.delAoa(e.$index)}}},[t._v(t._s(t.$t("beacon.delete")))]):t._e()],1)],1)],1):t._e()]}}],null,!1,3435646082)}):t._e()],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[i("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":20},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1),t._v(" "),i("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.addinfoAoa"),width:"30%",visible:t.add},on:{"update:visible":function(e){t.add=e},close:function(e){return t.addCancel("addData")}}},[i("el-form",{ref:"addData",staticStyle:{"text-align":"left"},attrs:{model:t.addData,"label-width":"130px",rules:t.addRules}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui"),prop:"deveui"}},[i("el-input",{model:{value:t.addData.deveui,callback:function(e){t.$set(t.addData,"deveui",e)},expression:"addData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{"show-word-limit":"",maxlength:"20"},model:{value:t.addData.alias,callback:function(e){t.$set(t.addData,"alias",e)},expression:"addData.alias"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company"),prop:"tenantid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.addData.tenantid,callback:function(e){t.$set(t.addData,"tenantid",e)},expression:"addData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"225"},model:{value:t.addData.memo,callback:function(e){t.$set(t.addData,"memo",e)},expression:"addData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.addCancel("addData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.addTrue("addData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.editinfoAoa"),width:"30%",visible:t.edit},on:{"update:visible":function(e){t.edit=e},close:function(e){return t.editCancle("editData")}}},[i("el-form",{ref:"editData",staticStyle:{"text-align":"left"},attrs:{model:t.editData,"label-width":"130px"}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{attrs:{disabled:""},model:{value:t.editData.deveui,callback:function(e){t.$set(t.editData,"deveui",e)},expression:"editData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:t.editData.alias,callback:function(e){t.$set(t.editData,"alias",e)},expression:"editData.alias"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{attrs:{placeholder:t.$t("terminal.choose"),disabled:""},model:{value:t.editData.tenantid,callback:function(e){t.$set(t.editData,"tenantid",e)},expression:"editData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea",maxlength:"225","show-word-limit":""},model:{value:t.editData.memo,callback:function(e){t.$set(t.editData,"memo",e)},expression:"editData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.editCancle("editData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.editTrue("editData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("terminal.deletemsgs"),visible:t.del},on:{"update:visible":function(e){t.del=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.deleteData,"max-height":"660",stripe:""}},["1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"87"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"78"}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.del=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.deleteTrue}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfoAoa"),visible:t.assign,width:"30%"},on:{"update:visible":function(e){t.assign=e},close:function(e){return t.assignCancle("assignData")}}},[i("el-form",{ref:"assignData",staticStyle:{"text-align":"left"},attrs:{model:t.assignData,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignData.deveuis,callback:function(e){t.$set(t.assignData,"deveuis",e)},expression:"assignData.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignData.projectid,callback:function(e){t.$set(t.assignData,"projectid",e)},expression:"assignData.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignCancle("assignData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignTrue("assignData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfosAoa"),visible:t.assigns,width:"30%"},on:{"update:visible":function(e){t.assigns=e},close:function(e){return t.assignsCancle("assignDatas")}}},[i("el-form",{ref:"assignDatas",staticStyle:{"text-align":"left"},attrs:{model:t.assignDatas,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignDatas.deveuis,callback:function(e){t.$set(t.assignDatas,"deveuis",e)},expression:"assignDatas.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignDatas.projectid,callback:function(e){t.$set(t.assignDatas,"projectid",e)},expression:"assignDatas.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignsCancle("assignDatas")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignsTrue("assignDatas")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("beacon.deletemsgs1"),visible:t.removeAoa,width:"30%"},on:{"update:visible":function(e){t.removeAoa=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.removeDatas,"max-height":"660",stripe:""}},[i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.deveui"),"show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("beacon.projectname"),"show-overflow-tooltip":""}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.removeAoa=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.removeTrue()}}},[t._v(t._s(t.$t("change.sure")))])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var h=a("VU/8")(u,m,!1,function(t){a("+NqS")},"data-v-16af7737",null).exports,g={components:{Menu:s.a,Devicemanagement:n.a,basecard:i.a},data:function(){return{i8n:this.$store.state.i18n,show:!1,seen:!0,seen1:!1,intoProjectType:this.$store.state.intoProjectType,contrForPrionum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,delprio:this.$store.state.userInfo.delprio,searchList:{devtype:4,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:"",count:this.pageCount,memo:""},pageCount:20,currentPage1:1,total:0,groundList:[],searchInallotList:[{index:1,value:this.$t("home.Assigned")},{index:2,value:this.$t("home.Unassigned")}],inuseType:[{index:1,value:this.$t("beacon.inusetype4")},{index:2,value:this.$t("beacon.inusetype3")}],workType:[{index:1,value:this.$t("terminal.worktype1")},{index:2,value:this.$t("terminal.worktype2")}],tableData:[],deleteData:[],del:!1,multipleSelection:[],loading:!1,add:!1,addData:{custom:1==this.contrForPrionum||2==this.contrForPrionum?"1":"2",devtype:4,deveui:"",alias:"",tenantid:"",memo:"",mode:"",scheme:""},addRules:{deveui:[{required:!0,pattern:/^[a-zA-Z0-9]{1,16}$/,message:this.$t("terminal.tit30"),trigger:"blur"}],tenantid:[{required:!0,message:this.$t("beacon.tenantidrules"),trigger:"change"}],mode:[{required:!0,pattern:/^[a-zA-Z0-9]{1,16}$/,message:this.$t("terminal.tit30"),trigger:"blur"}],scheme:[{required:!0,pattern:/^[a-zA-Z0-9]{1,16}$/,message:this.$t("terminal.tit30"),trigger:"blur"}]},edit:!1,editData:{devtype:4,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",memo:""},tenantidData:[],projectList:[],assign:!1,assignData:{deveuis:"",projectid:"",devtype:4},assignRules:{projectid:[{required:!0,message:this.$t("otherDev.mes10"),trigger:"change"}]},assignDatas:{deveuis:"",projectid:"",devtype:4},assigns:!1,removeAoaDatas:{deveuis:"",devtype:4,projectid:""},removeDatas:[],removeAoa:!1}},methods:{search:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:4,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getCustomerNames()),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:4,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getProjectListByTenantids()),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:4,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},clearBtn:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:4,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:4,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:4,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},searchInfo:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.tableData=e.data.list,t.total=e.data.size,e.data.size>0?t.$message({message:t.$t("beacon.searchsuccess"),type:"success"}):t.$message({message:t.$t("beacon.nodata"),type:"success"})):(t.searchList.count=20,t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}))})},handleCurrentChange:function(t){this.searchList.page=t,this.searchList.count=this.pageCount,this.getDevAoaLists()},handleSizeChange:function(t){this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.getDevAoaLists()},selectProject:function(t){this.groundList=[],this.getBuildingLists(t)},getBuildingLists:function(t){var e=this,a={projectid:t};Object(d._23)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code&&t.data.list.forEach(function(t,a){""!==t.mapid&&null!==t.mapid&&(t.labelname=t.building+"/"+t.ground+e.$t("warning.floor"),e.groundList.push(t))})})},recycleAoa:function(t){var e=this;2!=this.tableData[t].inallot?this.$confirm(this.$t("beacon.tet13")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:e.tableData[t].deveui,projectid:e.tableData[t].projectid,devtype:4};Object(d._166)(a,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.noassinsuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:e.$t("otherDev.BleMes1"),type:"warning"})},removeAoas:function(){if(this.removeAoaDatas.deveuis="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(2==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.BleMes1"),type:"warning"});if(this.multipleSelection.length>1&&t<this.multipleSelection.length-1&&this.multipleSelection[t].projectid!==this.multipleSelection[t+1].projectid)return void this.$message({message:"请选择同一项目的资产网关！",type:"warning"});this.removeAoaDatas.deveuis+=this.multipleSelection[t].deveui+","}this.removeAoaDatas.projectid=this.multipleSelection[0].projectid,this.removeAoaDatas.devtype=4,this.removeAoaDatas.deveuis=this.removeAoaDatas.deveuis.slice(0,this.removeAoaDatas.deveuis.length-1),this.removeDatas=this.multipleSelection,this.removeAoa=!0}else this.$message({message:this.$t("otherDev.BleMes2"),type:"warning"})},removeTrue:function(){var t=this;this.loading=!0,Object(d._166)(t.removeAoaDatas,t.tenantkey_A,t.tenantid_A,t.userName).then(function(e){1001==e.code?(t.removeAoa=!1,t.getDevAoaLists(),t.$message({message:t.$t("beacon.noassinsuccess"),type:"success"}),t.loading=!1):(t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}),t.loading=!1)})},assignAoa:function(t){1!=this.tableData[t].inallot?(this.assignData.deveuis=this.tableData[t].deveui,this.assignData.projectid="",this.assign=!0):this.$message({message:this.$t("otherDev.BleMes3"),type:"warning"})},assignCancle:function(t){this.assign=!1,this.loading=!1,this.$refs[t].resetFields()},assignTrue:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.loading=!0,Object(d._164)(e.assignData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.assign=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.assinsuccess"),type:"success"}),e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"}),e.loading=!1)}))})},assignAoas:function(){if(this.assignDatas.deveuis="",this.assignDatas.projectid="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.BleMes3"),type:"warning"});this.assignDatas.deveuis+=this.multipleSelection[t].deveui+","}this.assignDatas.deveuis=this.assignDatas.deveuis.slice(0,this.assignDatas.deveuis.length-1),this.assigns=!0}else this.$message({message:this.$t("otherDev.BleMes4"),type:"warning"})},assignsCancle:function(t){this.assigns=!1,this.loading=!1,this.$refs[t].resetFields()},assignsTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.loading=!0,Object(d._164)(e.assignDatas,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.assinsuccess"),type:"success"}),e.$refs[t].resetFields(),e.loading=!1,e.assigns=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)}))})},addAoas:function(){this.add=!0,this.addData={custom:1==this.contrForPrionum||2==this.contrForPrionum?"1":"2",devtype:4,deveui:"",alias:"",tenantid:"",memo:"",mode:"",scheme:""},this.add=!0},addCancel:function(t){this.add=!1,this.loading=!1,this.$refs[t].resetFields()},addTrue:function(t){var e=this,a=this;this.$refs[t].validate(function(i){i&&(1!=a.contrForPrionum&&2!=a.contrForPrionum&&(a.addData.tenantid=a.tenantid_A),e.loading=!0,Object(d.j)(a.addData,a.tenantkey_A,a.tenantid_A,a.userName).then(function(e){1001==e.code?(a.add=!1,a.loading=!1,a.searchList.page=1,a.currentPage1=1,a.$refs[t].resetFields(),a.getDevAoaLists(),a.$message({message:a.$t("beacon.addsuccess"),type:"success"})):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)}))})},editAoa:function(t){this.editData.deveui=this.tableData[t].deveui,this.editData.alias=this.tableData[t].alias,this.editData.tenantid=this.tableData[t].tenantid,this.editData.projectid=this.tableData[t].projectid,this.editData.groundid=this.tableData[t].groundid,this.editData.inallot=this.tableData[t].inallot,this.editData.inuse=this.tableData[t].inuse,this.editData.workstate=this.tableData[t].workstate,this.editData.memo=this.tableData[t].memo,this.edit=!0,this.editData.projectid&&this.getBuildingLists(this.editData.projectid)},editCancle:function(t){this.edit=!1,this.loading=!1,this.$refs[t].resetFields()},editTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&Object(d._163)(e.editData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.edit=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.editsuccess"),type:"success"}),e.loading=!1,e.$refs[t].resetFields()):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})})},delAoa:function(t){var e=this;5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio?this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"}):1!=this.contrForPrionum&&2!=this.contrForPrionum||2!=this.tableData[t].custom?3!=this.contrForPrionum&&4!=this.contrForPrionum||1!=this.tableData[t].custom?1!=this.tableData[t].inallot?1!=this.tableData[t].inuse?this.$confirm(this.$t("beacon.deletemsg1")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:[e.tableData[t].deveui]};Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:this.$t("otherDev.mes6"),type:"warning"}):this.$message({message:this.$t("otherDev.mes5"),type:"warning"}):this.$message({message:this.$t("terminal.tet43"),type:"warning"}):this.$message({message:this.$t("terminal.tet3"),type:"warning"})},deleteAoas:function(){if(0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if((3==this.contrForPrionum||4==this.contrForPrionum)&&1==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet44"),type:"warning"});if((1==this.contrForPrionum||2==this.contrForPrionum)&&2==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet3"),type:"warning"});if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.mes8"),type:"warning"});if(1==this.multipleSelection[t].inuse)return void this.$message({message:this.$t("otherDev.mes9"),type:"warning"})}this.deleteData=this.multipleSelection,this.del=!0}else this.$message({message:this.$t("otherDev.mes7"),type:"warning"})},deleteTrue:function(){var t=this;if(5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio)this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"});else{for(var e=this,a={deveuis:[]},i=0;i<this.deleteData.length;i++)a.deveuis.push(this.deleteData[i].deveui);this.loading=!0,Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"}),t.del=!1,e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})}},datetimecut:function(t){if(!t)return"-";function e(t){return t>9?t:"0"+t}var a=new Date(t);return a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},formatDateDevtime:function(t,e){if(null==t.devtime||0==t.devtime)return"";var a=new Date(1e3*parseInt(t.devtime)).toUTCString();return this.datetimecut(a)},formatDateDregtime:function(t,e){if(null==t.regtime||0==t.regtime)return"";var a=new Date(1e3*parseInt(t.regtime)).toUTCString();return this.datetimecut(a)},getCustomerNames:function(){var t=this;Object(d._33)({beginlevel:1,endlevel:3},this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){t.tenantidData=e.data})},getProjectListByTenantids:function(){var t=this,e=void 0;e=3==this.$store.state.userInfo.prionum||4==this.$store.state.userInfo.prionum?{superid:this.$store.state.userInfo.tenantid}:{tenantid:this.$store.state.userInfo.tenantid},Object(d._82)(e,this.tenantkey_A,this.tenantid_A,this.username).then(function(e){1001==e.code&&(t.projectList=e.data.list)})},getDevAoaLists:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=e.data.list,t.total=e.data.size)})},handleSelectionChange:function(t){this.multipleSelection=t},changeItem:function(){0==this.show&&1==this.seen&&0==this.seen1?(this.show=!0,this.seen=!1,this.seen1=!0):(this.show=!1,this.seen=!0,this.seen1=!1)}},watch:{"$i18n.locale":function(){this.i8n=this.$store.state.i18n,r()(this.$data.addRules,this.$options.data.call(this).addRules),r()(this.$data.searchInallotList,this.$options.data.call(this).searchInallotList),r()(this.$data.inuseType,this.$options.data.call(this).inuseType),r()(this.$data.workType,this.$options.data.call(this).workType),r()(this.$data.assignRules,this.$options.data.call(this).assignRules)}}},p={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"content"},[i("el-container",[i("el-main",[i("div",{staticClass:"aoa_input"},[i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0","z-index":"1"},attrs:{model:t.searchList}},[i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.deveui,callback:function(e){t.$set(t.searchList,"deveui",e)},expression:"searchList.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.alias,callback:function(e){t.$set(t.searchList,"alias",e)},expression:"searchList.alias"}})],1),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.tenantid,callback:function(e){t.$set(t.searchList,"tenantid",e)},expression:"searchList.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen,expression:"seen"}],staticStyle:{display:"flex","margin-left":"2%"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.more"))+"\n                "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v("\n                "+t._s(t.$t("beacon.search"))+"\n              ")]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v("\n                "+t._s(t.$t("beacon.reset"))+"\n              ")]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("index.add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.project1")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},on:{change:t.selectProject},model:{value:t.searchList.projectid,callback:function(e){t.$set(t.searchList,"projectid",e)},expression:"searchList.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("floormanagement.floor1")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.groundid,callback:function(e){t.$set(t.searchList,"groundid",e)},expression:"searchList.groundid"}},t._l(t.groundList,function(t){return i("el-option",{key:t.id,attrs:{label:t.labelname,value:t.id}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum&&2!=t.contrForPrionum&&1!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.Assignmentstatus")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.inallot,callback:function(e){t.$set(t.searchList,"inallot",e)},expression:"searchList.inallot"}},t._l(t.searchInallotList,function(t){return i("el-option",{key:t.inddex,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.inuse")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("terminal.choose"),clearable:"",filterable:""},model:{value:t.searchList.inuse,callback:function(e){t.$set(t.searchList,"inuse",e)},expression:"searchList.inuse"}},t._l(t.inuseType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1):t._e(),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum&&5!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),5==t.contrForPrionum&&t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0","z-index":"1"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:5==t.contrForPrionum&&t.seen1,expression:"contrForPrionum == 5 && seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0","z-index":"1"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))])],1)],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0"},attrs:{model:t.searchList}},[3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen1,expression:"seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("floormanagement.Add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1)],1):t._e()],1),t._v(" "),i("div",[i("el-table",{ref:"multipleTable",staticStyle:{width:"98%","text-align":"center","margin-left":"0","z-index":"1"},attrs:{data:t.tableData,"max-height":"670",border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},["5"!=t.contrForPrionum?i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}):t._e(),t._v(" "),"1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"customstr","show-overflow-tooltip":"",align:"center","min-width":"120"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v(t._s(t.$t("gateway.customstr")))]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v("\n                      "+t._s(t.$t("terminal.title5"))+"\n                    ")])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}],null,!1,178905683)}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"82",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"60",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"60",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"100",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"100",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"80",align:"center"}}),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-table-column",{attrs:{fixed:"right",label:t.$t("beacon.control"),align:"center","min-width":"105"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"mini",type:"primary",trigger:"click"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("staff.operate"),placement:"top"}},[i("el-button",{staticClass:"icon_button",attrs:{type:"primary"}},[i("img",{attrs:{src:a("VJ6t")}})])],1),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.editAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.edit")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.assignAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.recycleAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delss",attrs:{size:"mini"},on:{click:function(a){return t.delAoa(e.$index)}}},[t._v(t._s(t.$t("beacon.delete")))]):t._e()],1)],1)],1):t._e()]}}],null,!1,3435646082)}):t._e()],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[i("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":20},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1),t._v(" "),i("el-dialog",{staticStyle:{"text-aling":"center"},attrs:{title:t.$t("otherDev.addinfoBle"),width:"30%",visible:t.add},on:{"update:visible":function(e){t.add=e},close:function(e){return t.addCancel("addData")}}},[i("el-form",{ref:"addData",staticStyle:{"text-align":"left"},attrs:{model:t.addData,"label-width":"130px",rules:t.addRules}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui"),prop:"deveui"}},[i("el-input",{model:{value:t.addData.deveui,callback:function(e){t.$set(t.addData,"deveui",e)},expression:"addData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:"major：",prop:"mode"}},[i("el-input",{model:{value:t.addData.mode,callback:function(e){t.$set(t.addData,"mode",e)},expression:"addData.mode"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:"minor：",prop:"scheme"}},[i("el-input",{model:{value:t.addData.scheme,callback:function(e){t.$set(t.addData,"scheme",e)},expression:"addData.scheme"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:t.addData.alias,callback:function(e){t.$set(t.addData,"alias",e)},expression:"addData.alias"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company"),prop:"tenantid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.addData.tenantid,callback:function(e){t.$set(t.addData,"tenantid",e)},expression:"addData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"225"},model:{value:t.addData.memo,callback:function(e){t.$set(t.addData,"memo",e)},expression:"addData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.addCancel("addData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.addTrue("addData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-aling":"center"},attrs:{title:t.$t("otherDev.editinfoBle"),width:"30%",visible:t.edit},on:{"update:visible":function(e){t.edit=e},close:function(e){return t.editCancle("editData")}}},[i("el-form",{ref:"editData",staticStyle:{"text-align":"left"},attrs:{model:t.editData,"label-width":"130px"}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{attrs:{disabled:""},model:{value:t.editData.deveui,callback:function(e){t.$set(t.editData,"deveui",e)},expression:"editData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:t.editData.alias,callback:function(e){t.$set(t.editData,"alias",e)},expression:"editData.alias"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{attrs:{placeholder:t.$t("terminal.choose"),disabled:""},model:{value:t.editData.tenantid,callback:function(e){t.$set(t.editData,"tenantid",e)},expression:"editData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea",maxlength:"225","show-word-limit":""},model:{value:t.editData.memo,callback:function(e){t.$set(t.editData,"memo",e)},expression:"editData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.editCancle("editData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.editTrue("editData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("terminal.deletemsgs"),visible:t.del},on:{"update:visible":function(e){t.del=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.deleteData,"max-height":"660",stripe:""}},["1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"87"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"78"}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.del=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.deleteTrue}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfoBle"),visible:t.assign,width:"30%"},on:{"update:visible":function(e){t.assign=e},close:function(e){return t.assignCancle("assignData")}}},[i("el-form",{ref:"assignData",staticStyle:{"text-align":"left"},attrs:{model:t.assignData,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignData.deveuis,callback:function(e){t.$set(t.assignData,"deveuis",e)},expression:"assignData.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignData.projectid,callback:function(e){t.$set(t.assignData,"projectid",e)},expression:"assignData.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignCancle("assignData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignTrue("assignData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfosBle"),visible:t.assigns,width:"30%"},on:{"update:visible":function(e){t.assigns=e},close:function(e){return t.assignsCancle("assignDatas")}}},[i("el-form",{ref:"assignDatas",staticStyle:{"text-align":"left"},attrs:{model:t.assignDatas,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignDatas.deveuis,callback:function(e){t.$set(t.assignDatas,"deveuis",e)},expression:"assignDatas.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignDatas.projectid,callback:function(e){t.$set(t.assignDatas,"projectid",e)},expression:"assignDatas.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignsCancle("assignDatas")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignsTrue("assignDatas")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("beacon.deletemsgs1"),visible:t.removeAoa,width:"30%"},on:{"update:visible":function(e){t.removeAoa=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.removeDatas,"max-height":"660",stripe:""}},[i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.deveui"),"show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("beacon.projectname"),"show-overflow-tooltip":""}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.removeAoa=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.removeTrue()}}},[t._v(t._s(t.$t("change.sure")))])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var v=a("VU/8")(g,p,!1,function(t){a("LA7u")},"data-v-a9e6d7b4",null).exports,f={components:{Menu:s.a,Devicemanagement:n.a,basecard:i.a},data:function(){return{i8n:this.$store.state.i18n,show:!1,seen:!0,seen1:!1,intoProjectType:this.$store.state.intoProjectType,contrForPrionum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,delprio:this.$store.state.userInfo.delprio,searchList:{devtype:3,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:"",count:this.pageCount,memo:""},pageCount:20,currentPage1:1,total:0,groundList:[],searchInallotList:[{index:1,value:this.$t("home.Assigned")},{index:2,value:this.$t("home.Unassigned")}],inuseType:[{index:1,value:this.$t("beacon.inusetype4")},{index:2,value:this.$t("beacon.inusetype3")}],workType:[{index:1,value:this.$t("terminal.worktype1")},{index:2,value:this.$t("terminal.worktype2")}],tableData:[],deleteData:[],del:!1,multipleSelection:[],loading:!1,add:!1,addData:{custom:1==this.contrForPrionum||2==this.contrForPrionum?"1":"2",devtype:3,deveui:"",alias:"",tenantid:"",memo:"",mode:"ABP",scheme:"CN470",origappeui:"",origappkey:""},addRules:{deveui:[{required:!0,pattern:/^[a-zA-Z0-9]{1,16}$/,message:this.$t("terminal.tit30"),trigger:"blur"}],tenantid:[{required:!0,message:this.$t("beacon.tenantidrules"),trigger:"change"}],origappeui:[{required:!0,pattern:/^[a-zA-Z0-9]{32}$/,message:this.$t("otherDev.mes11"),trigger:"blur"}],origappkey:[{required:!0,pattern:/^[a-zA-Z0-9]{32}$/,message:this.$t("otherDev.mes11"),trigger:"blur"}]},edit:!1,editData:{devtype:3,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",memo:""},tenantidData:[],projectList:[],assign:!1,assignData:{deveuis:"",projectid:"",devtype:3,mode:"ABP"},assignRules:{projectid:[{required:!0,message:this.$t("otherDev.mes10"),trigger:"change"}]},assignDatas:{deveuis:"",projectid:"",devtype:3,mode:"ABP"},assigns:!1,removeAoaDatas:{deveuis:"",devtype:3,projectid:""},removeDatas:[],removeAoa:!1}},methods:{search:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:3,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getCustomerNames()),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:3,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getProjectListByTenantids()),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:3,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},clearBtn:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:3,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:3,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:3,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},searchInfo:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.tableData=e.data.list,t.total=e.data.size,e.data.size>0?t.$message({message:t.$t("beacon.searchsuccess"),type:"success"}):t.$message({message:t.$t("beacon.nodata"),type:"success"})):(t.searchList.count=20,t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}))})},handleCurrentChange:function(t){this.searchList.page=t,this.searchList.count=this.pageCount,this.getDevAoaLists()},handleSizeChange:function(t){this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.getDevAoaLists()},selectProject:function(t){this.groundList=[],this.getBuildingLists(t)},getBuildingLists:function(t){var e=this,a={projectid:t};Object(d._23)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code&&t.data.list.forEach(function(t,a){""!==t.mapid&&null!==t.mapid&&(t.labelname=t.building+"/"+t.ground+e.$t("warning.floor"),e.groundList.push(t))})})},sendDevOtherAlarmOnes:function(t,e){var a=this;this.$confirm("yes"==t?this.$t("otherDev.triggerAlarmtrue"):this.$t("otherDev.cancelAlarmtrue"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var i={alarm:t,devtype:a.tableData[e].devtype,deveui:a.tableData[e].deveui,projectid:a.tableData[e].projectid};Object(d._135)(i,a.tenantkey_A,a.tenantid_A,a.userName).then(function(t){1001==t.code?a.$message({message:"zh"==a.$store.state.i18n?t.msg:t.enMsg,type:"success"}):a.$message({message:"zh"==a.$store.state.i18n?t.msg:t.enMsg,type:"error"})})})},recycleAoa:function(t){var e=this;2!=this.tableData[t].inallot?this.$confirm(this.$t("beacon.tet13")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:e.tableData[t].deveui,projectid:e.tableData[t].projectid,devtype:3};Object(d._166)(a,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.noassinsuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:e.$t("otherDev.AlarmMes1"),type:"warning"})},removeAoas:function(){if(this.removeAoaDatas.deveuis="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(2==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.AlarmMes1"),type:"warning"});if(this.multipleSelection.length>1&&t<this.multipleSelection.length-1&&this.multipleSelection[t].projectid!==this.multipleSelection[t+1].projectid)return void this.$message({message:"请选择同一项目的资产网关！",type:"warning"});this.removeAoaDatas.deveuis+=this.multipleSelection[t].deveui+","}this.removeAoaDatas.projectid=this.multipleSelection[0].projectid,this.removeAoaDatas.devtype=3,this.removeAoaDatas.deveuis=this.removeAoaDatas.deveuis.slice(0,this.removeAoaDatas.deveuis.length-1),this.removeDatas=this.multipleSelection,this.removeAoa=!0}else this.$message({message:this.$t("otherDev.AlarmMes2"),type:"warning"})},removeTrue:function(){var t=this;this.loading=!0,Object(d._166)(t.removeAoaDatas,t.tenantkey_A,t.tenantid_A,t.userName).then(function(e){1001==e.code?(t.removeAoa=!1,t.getDevAoaLists(),t.$message({message:t.$t("beacon.noassinsuccess"),type:"success"}),t.loading=!1):(t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}),t.loading=!1)})},assignAoa:function(t){1!=this.tableData[t].inallot?(this.assignData.deveuis=this.tableData[t].deveui,this.assignData.projectid="",this.assign=!0):this.$message({message:this.$t("otherDev.AlarmMes3"),type:"warning"})},assignCancle:function(t){this.assign=!1,this.loading=!1,this.$refs[t].resetFields()},assignTrue:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.loading=!0,Object(d._164)(e.assignData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.assign=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.assinsuccess"),type:"success"}),e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"}),e.loading=!1)}))})},assignAoas:function(){if(this.assignDatas.deveuis="",this.assignDatas.projectid="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.AlarmMes3"),type:"warning"});this.assignDatas.deveuis+=this.multipleSelection[t].deveui+","}this.assignDatas.deveuis=this.assignDatas.deveuis.slice(0,this.assignDatas.deveuis.length-1),this.assigns=!0}else this.$message({message:this.$t("otherDev.AlarmMes4"),type:"warning"})},assignsCancle:function(t){this.assigns=!1,this.loading=!1,this.$refs[t].resetFields()},assignsTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.loading=!0,Object(d._164)(e.assignDatas,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.assinsuccess"),type:"success"}),e.$refs[t].resetFields(),e.loading=!1,e.assigns=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)}))})},addAoas:function(){this.add=!0,this.addData={custom:1==this.contrForPrionum||2==this.contrForPrionum?"1":"2",devtype:3,deveui:"",alias:"",tenantid:"",memo:"",mode:"ABP",scheme:"CN470",origappeui:"",origappkey:""},this.add=!0},addCancel:function(t){this.add=!1,this.loading=!1,this.$refs[t].resetFields()},addTrue:function(t){var e=this,a=this;this.$refs[t].validate(function(i){i&&(1!=a.contrForPrionum&&2!=a.contrForPrionum&&(a.addData.tenantid=a.tenantid_A),e.loading=!0,Object(d.j)(a.addData,a.tenantkey_A,a.tenantid_A,a.userName).then(function(e){1001==e.code?(a.add=!1,a.loading=!1,a.searchList.page=1,a.currentPage1=1,a.$refs[t].resetFields(),a.getDevAoaLists(),a.$message({message:a.$t("beacon.addsuccess"),type:"success"})):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)}))})},editAoa:function(t){this.editData.deveui=this.tableData[t].deveui,this.editData.alias=this.tableData[t].alias,this.editData.tenantid=this.tableData[t].tenantid,this.editData.projectid=this.tableData[t].projectid,this.editData.groundid=this.tableData[t].groundid,this.editData.inallot=this.tableData[t].inallot,this.editData.inuse=this.tableData[t].inuse,this.editData.workstate=this.tableData[t].workstate,this.editData.memo=this.tableData[t].memo,this.edit=!0,this.editData.projectid&&this.getBuildingLists(this.editData.projectid)},editCancle:function(t){this.edit=!1,this.loading=!1,this.$refs[t].resetFields()},editTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&Object(d._163)(e.editData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.edit=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.editsuccess"),type:"success"}),e.loading=!1,e.$refs[t].resetFields()):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})})},delAoa:function(t){var e=this;5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio?this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"}):1!=this.contrForPrionum&&2!=this.contrForPrionum||2!=this.tableData[t].custom?3!=this.contrForPrionum&&4!=this.contrForPrionum||1!=this.tableData[t].custom?1!=this.tableData[t].inallot?1!=this.tableData[t].inuse?this.$confirm(this.$t("beacon.deletemsg1")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:[e.tableData[t].deveui]};Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:this.$t("otherDev.mes6"),type:"warning"}):this.$message({message:this.$t("otherDev.mes5"),type:"warning"}):this.$message({message:this.$t("terminal.tet43"),type:"warning"}):this.$message({message:this.$t("terminal.tet3"),type:"warning"})},deleteAoas:function(){if(0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if((3==this.contrForPrionum||4==this.contrForPrionum)&&1==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet44"),type:"warning"});if((1==this.contrForPrionum||2==this.contrForPrionum)&&2==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet3"),type:"warning"});if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.mes8"),type:"warning"});if(1==this.multipleSelection[t].inuse)return void this.$message({message:this.$t("otherDev.mes9"),type:"warning"})}this.deleteData=this.multipleSelection,this.del=!0}else this.$message({message:this.$t("otherDev.mes7"),type:"warning"})},deleteTrue:function(){var t=this;if(5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio)this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"});else{for(var e=this,a={deveuis:[]},i=0;i<this.deleteData.length;i++)a.deveuis.push(this.deleteData[i].deveui);this.loading=!0,Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"}),t.del=!1,e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})}},datetimecut:function(t){if(!t)return"-";function e(t){return t>9?t:"0"+t}var a=new Date(t);return a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},formatDateDevtime:function(t,e){if(null==t.devtime||0==t.devtime)return"";var a=new Date(1e3*parseInt(t.devtime)).toUTCString();return this.datetimecut(a)},formatDateDregtime:function(t,e){if(null==t.regtime||0==t.regtime)return"";var a=new Date(1e3*parseInt(t.regtime)).toUTCString();return this.datetimecut(a)},getCustomerNames:function(){var t=this;Object(d._33)({beginlevel:1,endlevel:3},this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){t.tenantidData=e.data})},getProjectListByTenantids:function(){var t=this,e=void 0;e=3==this.$store.state.userInfo.prionum||4==this.$store.state.userInfo.prionum?{superid:this.$store.state.userInfo.tenantid}:{tenantid:this.$store.state.userInfo.tenantid},Object(d._82)(e,this.tenantkey_A,this.tenantid_A,this.username).then(function(e){1001==e.code&&(t.projectList=e.data.list)})},getDevAoaLists:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=e.data.list,t.total=e.data.size)})},handleSelectionChange:function(t){this.multipleSelection=t},changeItem:function(){0==this.show&&1==this.seen&&0==this.seen1?(this.show=!0,this.seen=!1,this.seen1=!0):(this.show=!1,this.seen=!0,this.seen1=!1)}},watch:{"$i18n.locale":function(){this.i8n=this.$store.state.i18n,r()(this.$data.addRules,this.$options.data.call(this).addRules),r()(this.$data.searchInallotList,this.$options.data.call(this).searchInallotList),r()(this.$data.inuseType,this.$options.data.call(this).inuseType),r()(this.$data.workType,this.$options.data.call(this).workType),r()(this.$data.assignRules,this.$options.data.call(this).assignRules)}}},b={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"content"},[i("el-container",[i("el-main",[i("div",{staticClass:"aoa_input"},[i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0","z-index":"1"},attrs:{model:t.searchList}},[i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.deveui,callback:function(e){t.$set(t.searchList,"deveui",e)},expression:"searchList.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.alias,callback:function(e){t.$set(t.searchList,"alias",e)},expression:"searchList.alias"}})],1),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.tenantid,callback:function(e){t.$set(t.searchList,"tenantid",e)},expression:"searchList.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen,expression:"seen"}],staticStyle:{display:"flex","margin-left":"2%"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.more"))+"\n                "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v("\n                "+t._s(t.$t("beacon.search"))+"\n              ")]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v("\n                "+t._s(t.$t("beacon.reset"))+"\n              ")]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("index.add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.project1")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},on:{change:t.selectProject},model:{value:t.searchList.projectid,callback:function(e){t.$set(t.searchList,"projectid",e)},expression:"searchList.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("floormanagement.floor1")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.groundid,callback:function(e){t.$set(t.searchList,"groundid",e)},expression:"searchList.groundid"}},t._l(t.groundList,function(t){return i("el-option",{key:t.id,attrs:{label:t.labelname,value:t.id}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum&&2!=t.contrForPrionum&&1!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.Assignmentstatus")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.inallot,callback:function(e){t.$set(t.searchList,"inallot",e)},expression:"searchList.inallot"}},t._l(t.searchInallotList,function(t){return i("el-option",{key:t.inddex,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.inuse")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("terminal.choose"),clearable:"",filterable:""},model:{value:t.searchList.inuse,callback:function(e){t.$set(t.searchList,"inuse",e)},expression:"searchList.inuse"}},t._l(t.inuseType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1):t._e(),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum&&5!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),5==t.contrForPrionum&&t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0","z-index":"1"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:5==t.contrForPrionum&&t.seen1,expression:"contrForPrionum == 5 && seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0","z-index":"1"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))])],1)],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0"},attrs:{model:t.searchList}},[3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen1,expression:"seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("floormanagement.Add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1)],1):t._e()],1),t._v(" "),i("div",[i("el-table",{ref:"multipleTable",staticStyle:{width:"98%","text-align":"center","margin-left":"0","z-index":"1"},attrs:{data:t.tableData,"max-height":"670",border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},["5"!=t.contrForPrionum?i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}):t._e(),t._v(" "),"1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"customstr","show-overflow-tooltip":"",align:"center","min-width":"120"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v(t._s(t.$t("gateway.customstr")))]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v("\n                      "+t._s(t.$t("terminal.title5"))+"\n                    ")])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}],null,!1,178905683)}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"82",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"60",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"50",align:"center"}}),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"mode",label:t.$t("terminal.mode"),"show-overflow-tooltip":"","min-width":"78",align:"center"}}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"scheme",label:t.$t("terminal.Standard"),"show-overflow-tooltip":"","min-width":"78",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"100",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"100",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"80",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{fixed:"right",label:t.$t("beacon.control"),align:"center","min-width":"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-dropdown",{attrs:{size:"mini",type:"primary",trigger:"click"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("staff.operate"),placement:"top"}},[i("el-button",{staticClass:"icon_button",attrs:{type:"primary"}},[i("img",{attrs:{src:a("VJ6t")}})])],1),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.editAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.edit")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.assignAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio&&5!=t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.recycleAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio&&5!=t.contrForPrionum?i("el-button",{staticClass:"delss",attrs:{size:"mini"},on:{click:function(a){return t.delAoa(e.$index)}}},[t._v(t._s(t.$t("beacon.delete")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[i("el-button",{staticClass:"edits",attrs:{size:"mini",disabled:2==e.row.inuse},on:{click:function(a){return t.sendDevOtherAlarmOnes("yes",e.$index)}}},[t._v(t._s(t.$t("otherDev.triggerAlarm")))])],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[i("el-button",{staticClass:"edits",attrs:{size:"mini",disabled:2==e.row.inuse},on:{click:function(a){return t.sendDevOtherAlarmOnes("no",e.$index)}}},[t._v(t._s(t.$t("otherDev.cancelAlarm")))])],1)],1)],1)]}}])})],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[i("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":20},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1),t._v(" "),i("el-dialog",{staticStyle:{"text-aling":"center"},attrs:{title:t.$t("otherDev.addinfoAlarm"),width:"30%",visible:t.add},on:{"update:visible":function(e){t.add=e},close:function(e){return t.addCancel("addData")}}},[i("el-form",{ref:"addData",staticStyle:{"text-align":"left"},attrs:{model:t.addData,"label-width":"130px",rules:t.addRules}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui"),prop:"deveui"}},[i("el-input",{model:{value:t.addData.deveui,callback:function(e){t.$set(t.addData,"deveui",e)},expression:"addData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:t.addData.alias,callback:function(e){t.$set(t.addData,"alias",e)},expression:"addData.alias"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company"),prop:"tenantid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.addData.tenantid,callback:function(e){t.$set(t.addData,"tenantid",e)},expression:"addData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:"origappeui：",prop:"origappeui"}},[i("el-input",{attrs:{maxlength:"32"},model:{value:t.addData.origappeui,callback:function(e){t.$set(t.addData,"origappeui",e)},expression:"addData.origappeui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:"origappkey：",prop:"origappkey"}},[i("el-input",{attrs:{maxlength:"32"},model:{value:t.addData.origappkey,callback:function(e){t.$set(t.addData,"origappkey",e)},expression:"addData.origappkey"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea",maxlength:"225","show-word-limit":""},model:{value:t.addData.memo,callback:function(e){t.$set(t.addData,"memo",e)},expression:"addData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.addCancel("addData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.addTrue("addData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-aling":"center"},attrs:{title:t.$t("otherDev.editinfoAlarm"),width:"30%",visible:t.edit},on:{"update:visible":function(e){t.edit=e},close:function(e){return t.editCancle("editData")}}},[i("el-form",{ref:"editData",staticStyle:{"text-align":"left"},attrs:{model:t.editData,"label-width":"130px"}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{attrs:{disabled:""},model:{value:t.editData.deveui,callback:function(e){t.$set(t.editData,"deveui",e)},expression:"editData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:t.editData.alias,callback:function(e){t.$set(t.editData,"alias",e)},expression:"editData.alias"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{attrs:{placeholder:t.$t("terminal.choose"),disabled:""},model:{value:t.editData.tenantid,callback:function(e){t.$set(t.editData,"tenantid",e)},expression:"editData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea",maxlength:"225","show-word-limit":""},model:{value:t.editData.memo,callback:function(e){t.$set(t.editData,"memo",e)},expression:"editData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.editCancle("editData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.editTrue("editData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("terminal.deletemsgs"),visible:t.del},on:{"update:visible":function(e){t.del=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.deleteData,"max-height":"660",stripe:""}},["1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"87"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"78"}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.del=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.deleteTrue}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfoAlarm"),visible:t.assign,width:"30%"},on:{"update:visible":function(e){t.assign=e},close:function(e){return t.assignCancle("assignData")}}},[i("el-form",{ref:"assignData",staticStyle:{"text-align":"left"},attrs:{model:t.assignData,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignData.deveuis,callback:function(e){t.$set(t.assignData,"deveuis",e)},expression:"assignData.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignData.projectid,callback:function(e){t.$set(t.assignData,"projectid",e)},expression:"assignData.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignCancle("assignData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignTrue("assignData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfosAlarm"),visible:t.assigns,width:"30%"},on:{"update:visible":function(e){t.assigns=e},close:function(e){return t.assignsCancle("assignDatas")}}},[i("el-form",{ref:"assignDatas",staticStyle:{"text-align":"left"},attrs:{model:t.assignDatas,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignDatas.deveuis,callback:function(e){t.$set(t.assignDatas,"deveuis",e)},expression:"assignDatas.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignDatas.projectid,callback:function(e){t.$set(t.assignDatas,"projectid",e)},expression:"assignDatas.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignsCancle("assignDatas")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignsTrue("assignDatas")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("beacon.deletemsgs1"),visible:t.removeAoa,width:"30%"},on:{"update:visible":function(e){t.removeAoa=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.removeDatas,"max-height":"660",stripe:""}},[i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.deveui"),"show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("beacon.projectname"),"show-overflow-tooltip":""}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.removeAoa=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.removeTrue()}}},[t._v(t._s(t.$t("change.sure")))])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var $=a("VU/8")(f,b,!1,function(t){a("tOH7")},"data-v-61da2560",null).exports,y={components:{Menu:s.a,Devicemanagement:n.a,basecard:i.a},data:function(){return{i8n:this.$store.state.i18n,show:!1,seen:!0,seen1:!1,intoProjectType:this.$store.state.intoProjectType,contrForPrionum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,delprio:this.$store.state.userInfo.delprio,searchList:{devtype:5,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:"",count:this.pageCount,memo:""},pageCount:20,currentPage1:1,total:0,groundList:[],searchInallotList:[{index:1,value:this.$t("home.Assigned")},{index:2,value:this.$t("home.Unassigned")}],inuseType:[{index:1,value:this.$t("beacon.inusetype4")},{index:2,value:this.$t("beacon.inusetype3")}],workType:[{index:1,value:this.$t("terminal.worktype1")},{index:2,value:this.$t("terminal.worktype2")}],tableData:[],deleteData:[],del:!1,multipleSelection:[],loading:!1,add:!1,addData:{custom:1==this.contrForPrionum||2==this.contrForPrionum?"1":"2",devtype:5,deveui:"",alias:"",tenantid:"",memo:"",mode:""},addRules:{deveui:[{required:!0,pattern:/^[a-zA-Z0-9]{1,16}$/,message:this.$t("terminal.tit30"),trigger:"blur"}],tenantid:[{required:!0,message:this.$t("beacon.tenantidrules"),trigger:"change"}],mode:[{required:!0,pattern:/^((25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))$/,message:this.$t("otherDev.mes12"),trigger:"blur"}]},edit:!1,editData:{devtype:5,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",memo:""},tenantidData:[],projectList:[],assign:!1,assignData:{deveuis:"",projectid:"",devtype:5},assignRules:{projectid:[{required:!0,message:this.$t("otherDev.mes10"),trigger:"change"}]},assignDatas:{deveuis:"",projectid:"",devtype:5},assigns:!1,removeAoaDatas:{deveuis:"",devtype:5,projectid:""},removeDatas:[],removeAoa:!1}},methods:{search:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:5,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getCustomerNames()),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:5,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getProjectListByTenantids()),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:5,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},clearBtn:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:5,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:5,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:5,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},searchInfo:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.tableData=e.data.list,t.total=e.data.size,e.data.size>0?t.$message({message:t.$t("beacon.searchsuccess"),type:"success"}):t.$message({message:t.$t("beacon.nodata"),type:"success"})):(t.searchList.count=20,t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}))})},handleCurrentChange:function(t){this.searchList.page=t,this.searchList.count=this.pageCount,this.getDevAoaLists()},handleSizeChange:function(t){this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.getDevAoaLists()},selectProject:function(t){this.groundList=[],this.getBuildingLists(t)},getBuildingLists:function(t){var e=this,a={projectid:t};Object(d._23)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code&&t.data.list.forEach(function(t,a){""!==t.mapid&&null!==t.mapid&&(t.labelname=t.building+"/"+t.ground+e.$t("warning.floor"),e.groundList.push(t))})})},recycleAoa:function(t){var e=this;2!=this.tableData[t].inallot?this.$confirm(this.$t("beacon.tet13")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:e.tableData[t].deveui,projectid:e.tableData[t].projectid,devtype:5};Object(d._166)(a,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.noassinsuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:e.$t("otherDev.CameraMes1"),type:"warning"})},removeAoas:function(){if(this.removeAoaDatas.deveuis="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(2==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.CameraMes1"),type:"warning"});if(this.multipleSelection.length>1&&t<this.multipleSelection.length-1&&this.multipleSelection[t].projectid!==this.multipleSelection[t+1].projectid)return void this.$message({message:"请选择同一项目的资产网关！",type:"warning"});this.removeAoaDatas.deveuis+=this.multipleSelection[t].deveui+","}this.removeAoaDatas.projectid=this.multipleSelection[0].projectid,this.removeAoaDatas.devtype=5,this.removeAoaDatas.deveuis=this.removeAoaDatas.deveuis.slice(0,this.removeAoaDatas.deveuis.length-1),this.removeDatas=this.multipleSelection,this.removeAoa=!0}else this.$message({message:this.$t("otherDev.CameraMes2"),type:"warning"})},removeTrue:function(){var t=this;this.loading=!0,Object(d._166)(t.removeAoaDatas,t.tenantkey_A,t.tenantid_A,t.userName).then(function(e){1001==e.code?(t.removeAoa=!1,t.getDevAoaLists(),t.$message({message:t.$t("beacon.noassinsuccess"),type:"success"}),t.loading=!1):(t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}),t.loading=!1)})},assignAoa:function(t){1!=this.tableData[t].inallot?(this.assignData.deveuis=this.tableData[t].deveui,this.assignData.projectid="",this.assign=!0):this.$message({message:this.$t("otherDev.CameraMes3"),type:"warning"})},assignCancle:function(t){this.assign=!1,this.loading=!1,this.$refs[t].resetFields()},assignTrue:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.loading=!0,Object(d._164)(e.assignData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.assign=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.assinsuccess"),type:"success"}),e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"}),e.loading=!1)}))})},assignAoas:function(){if(this.assignDatas.deveuis="",this.assignDatas.projectid="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.CameraMes3"),type:"warning"});this.assignDatas.deveuis+=this.multipleSelection[t].deveui+","}this.assignDatas.deveuis=this.assignDatas.deveuis.slice(0,this.assignDatas.deveuis.length-1),this.assigns=!0}else this.$message({message:this.$t("otherDev.CameraMes4"),type:"warning"})},assignsCancle:function(t){this.assigns=!1,this.loading=!1,this.$refs[t].resetFields()},assignsTrue:function(t){var e=this,a=this;this.$refs[t].validate(function(i){i&&(e.loading=!0,Object(d._164)(a.assignDatas,a.tenantkey_A,a.tenantid_A,a.userName).then(function(e){1001==e.code?(a.getDevAoaLists(),a.$message({message:a.$t("beacon.assinsuccess"),type:"success"}),a.$refs[t].resetFields(),a.loading=!1,a.assigns=!1):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)}))})},addAoas:function(){this.add=!0,this.addData={custom:1==this.contrForPrionum||2==this.contrForPrionum?"1":"2",devtype:5,deveui:"",alias:"",tenantid:"",memo:"",mode:""},this.add=!0},addCancel:function(t){this.add=!1,this.loading=!1,this.$refs[t].resetFields()},addTrue:function(t){var e=this,a=this;this.$refs[t].validate(function(i){i&&(1!=a.contrForPrionum&&2!=a.contrForPrionum&&(a.addData.tenantid=a.tenantid_A),e.loading=!0,Object(d.j)(a.addData,a.tenantkey_A,a.tenantid_A,a.userName).then(function(e){1001==e.code?(a.add=!1,a.loading=!1,a.searchList.page=1,a.currentPage1=1,a.$refs[t].resetFields(),a.getDevAoaLists(),a.$message({message:a.$t("beacon.addsuccess"),type:"success"})):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)}))})},editAoa:function(t){this.editData.deveui=this.tableData[t].deveui,this.editData.alias=this.tableData[t].alias,this.editData.tenantid=this.tableData[t].tenantid,this.editData.projectid=this.tableData[t].projectid,this.editData.groundid=this.tableData[t].groundid,this.editData.inallot=this.tableData[t].inallot,this.editData.inuse=this.tableData[t].inuse,this.editData.workstate=this.tableData[t].workstate,this.editData.memo=this.tableData[t].memo,this.edit=!0,this.editData.projectid&&this.getBuildingLists(this.editData.projectid)},editCancle:function(t){this.edit=!1,this.loading=!1,this.$refs[t].resetFields()},editTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&Object(d._163)(e.editData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.edit=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.editsuccess"),type:"success"}),e.loading=!1,e.$refs[t].resetFields()):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})})},delAoa:function(t){var e=this;5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio?this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"}):1!=this.contrForPrionum&&2!=this.contrForPrionum||2!=this.tableData[t].custom?3!=this.contrForPrionum&&4!=this.contrForPrionum||1!=this.tableData[t].custom?1!=this.tableData[t].inallot?1!=this.tableData[t].inuse?this.$confirm(this.$t("beacon.deletemsg1")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:[e.tableData[t].deveui]};Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:this.$t("otherDev.mes6"),type:"warning"}):this.$message({message:this.$t("otherDev.mes5"),type:"warning"}):this.$message({message:this.$t("terminal.tet43"),type:"warning"}):this.$message({message:this.$t("terminal.tet3"),type:"warning"})},deleteAoas:function(){if(0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if((3==this.contrForPrionum||4==this.contrForPrionum)&&1==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet44"),type:"warning"});if((1==this.contrForPrionum||2==this.contrForPrionum)&&2==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet3"),type:"warning"});if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.mes8"),type:"warning"});if(1==this.multipleSelection[t].inuse)return void this.$message({message:this.$t("otherDev.mes9"),type:"warning"})}this.deleteData=this.multipleSelection,this.del=!0}else this.$message({message:this.$t("otherDev.mes7"),type:"warning"})},deleteTrue:function(){var t=this;if(5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio)this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"});else{for(var e=this,a={deveuis:[]},i=0;i<this.deleteData.length;i++)a.deveuis.push(this.deleteData[i].deveui);this.loading=!0,Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"}),t.del=!1,e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})}},datetimecut:function(t){if(!t)return"-";function e(t){return t>9?t:"0"+t}var a=new Date(t);return a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},formatDateDevtime:function(t,e){if(null==t.devtime||0==t.devtime)return"";var a=new Date(1e3*parseInt(t.devtime)).toUTCString();return this.datetimecut(a)},formatDateDregtime:function(t,e){if(null==t.regtime||0==t.regtime)return"";var a=new Date(1e3*parseInt(t.regtime)).toUTCString();return this.datetimecut(a)},getCustomerNames:function(){var t=this;Object(d._33)({beginlevel:1,endlevel:3},this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){t.tenantidData=e.data})},getProjectListByTenantids:function(){var t=this,e=void 0;e=3==this.$store.state.userInfo.prionum||4==this.$store.state.userInfo.prionum?{superid:this.$store.state.userInfo.tenantid}:{tenantid:this.$store.state.userInfo.tenantid},Object(d._82)(e,this.tenantkey_A,this.tenantid_A,this.username).then(function(e){1001==e.code&&(t.projectList=e.data.list)})},getDevAoaLists:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=e.data.list,t.total=e.data.size)})},handleSelectionChange:function(t){this.multipleSelection=t},changeItem:function(){0==this.show&&1==this.seen&&0==this.seen1?(this.show=!0,this.seen=!1,this.seen1=!0):(this.show=!1,this.seen=!0,this.seen1=!1)}},watch:{"$i18n.locale":function(){this.i8n=this.$store.state.i18n,r()(this.$data.addRules,this.$options.data.call(this).addRules),r()(this.$data.searchInallotList,this.$options.data.call(this).searchInallotList),r()(this.$data.inuseType,this.$options.data.call(this).inuseType),r()(this.$data.workType,this.$options.data.call(this).workType),r()(this.$data.assignRules,this.$options.data.call(this).assignRules)}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"content"},[i("el-container",[i("el-main",[i("div",{staticClass:"aoa_input"},[i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0","z-index":"1"},attrs:{model:t.searchList}},[i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.deveui,callback:function(e){t.$set(t.searchList,"deveui",e)},expression:"searchList.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.alias,callback:function(e){t.$set(t.searchList,"alias",e)},expression:"searchList.alias"}})],1),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.tenantid,callback:function(e){t.$set(t.searchList,"tenantid",e)},expression:"searchList.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen,expression:"seen"}],staticStyle:{display:"flex","margin-left":"2%"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.more"))+"\n                "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v("\n                "+t._s(t.$t("beacon.search"))+"\n              ")]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v("\n                "+t._s(t.$t("beacon.reset"))+"\n              ")]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("index.add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.project1")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},on:{change:t.selectProject},model:{value:t.searchList.projectid,callback:function(e){t.$set(t.searchList,"projectid",e)},expression:"searchList.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("floormanagement.floor1")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.groundid,callback:function(e){t.$set(t.searchList,"groundid",e)},expression:"searchList.groundid"}},t._l(t.groundList,function(t){return i("el-option",{key:t.id,attrs:{label:t.labelname,value:t.id}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum&&2!=t.contrForPrionum&&1!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.Assignmentstatus")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.inallot,callback:function(e){t.$set(t.searchList,"inallot",e)},expression:"searchList.inallot"}},t._l(t.searchInallotList,function(t){return i("el-option",{key:t.inddex,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.inuse")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("terminal.choose"),clearable:"",filterable:""},model:{value:t.searchList.inuse,callback:function(e){t.$set(t.searchList,"inuse",e)},expression:"searchList.inuse"}},t._l(t.inuseType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1):t._e(),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum&&5!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),5==t.contrForPrionum&&t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0","z-index":"1"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:5==t.contrForPrionum&&t.seen1,expression:"contrForPrionum == 5 && seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0","z-index":"1"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))])],1)],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0"},attrs:{model:t.searchList}},[3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen1,expression:"seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("floormanagement.Add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1)],1):t._e()],1),t._v(" "),i("div",[i("el-table",{ref:"multipleTable",staticStyle:{width:"98%","text-align":"center","margin-left":"0","z-index":"1"},attrs:{data:t.tableData,"max-height":"670",border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},["5"!=t.contrForPrionum?i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}):t._e(),t._v(" "),"1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"mode",label:"IP","show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"customstr","show-overflow-tooltip":"",align:"center","min-width":"120"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v(t._s(t.$t("gateway.customstr")))]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v("\n                      "+t._s(t.$t("terminal.title5"))+"\n                    ")])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}],null,!1,178905683)}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"82",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"60",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"65",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"100",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"100",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-table-column",{attrs:{fixed:"right",label:t.$t("beacon.control"),align:"center","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"mini",type:"primary",trigger:"click"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("staff.operate"),placement:"top"}},[i("el-button",{staticClass:"icon_button",attrs:{type:"primary"}},[i("img",{attrs:{src:a("VJ6t")}})])],1),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.editAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.edit")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.assignAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.recycleAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delss",attrs:{size:"mini"},on:{click:function(a){return t.delAoa(e.$index)}}},[t._v(t._s(t.$t("beacon.delete")))]):t._e()],1)],1)],1):t._e()]}}],null,!1,3435646082)}):t._e()],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[i("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":20},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1),t._v(" "),i("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.addinfoCamera"),width:"30%",visible:t.add},on:{"update:visible":function(e){t.add=e},close:function(e){return t.addCancel("addData")}}},[i("el-form",{ref:"addData",staticStyle:{"text-align":"left"},attrs:{model:t.addData,"label-width":"130px",rules:t.addRules}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui"),prop:"deveui"}},[i("el-input",{model:{value:t.addData.deveui,callback:function(e){t.$set(t.addData,"deveui",e)},expression:"addData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:t.addData.alias,callback:function(e){t.$set(t.addData,"alias",e)},expression:"addData.alias"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:"IP：",prop:"mode"}},[i("el-input",{model:{value:t.addData.mode,callback:function(e){t.$set(t.addData,"mode",e)},expression:"addData.mode"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company"),prop:"tenantid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.addData.tenantid,callback:function(e){t.$set(t.addData,"tenantid",e)},expression:"addData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea",maxlength:"225","show-word-limit":""},model:{value:t.addData.memo,callback:function(e){t.$set(t.addData,"memo",e)},expression:"addData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.addCancel("addData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.addTrue("addData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.editinfoCamera"),width:"30%",visible:t.edit},on:{"update:visible":function(e){t.edit=e},close:function(e){return t.editCancle("editData")}}},[i("el-form",{ref:"editData",staticStyle:{"text-align":"left"},attrs:{model:t.editData,"label-width":"130px",rules:t.addRules}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{attrs:{disabled:""},model:{value:t.editData.deveui,callback:function(e){t.$set(t.editData,"deveui",e)},expression:"editData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:t.editData.alias,callback:function(e){t.$set(t.editData,"alias",e)},expression:"editData.alias"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:"IP：",prop:"mode"}},[i("el-input",{model:{value:t.addData.mode,callback:function(e){t.$set(t.addData,"mode",e)},expression:"addData.mode"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{attrs:{placeholder:t.$t("terminal.choose"),disabled:""},model:{value:t.editData.tenantid,callback:function(e){t.$set(t.editData,"tenantid",e)},expression:"editData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea",maxlength:"225","show-word-limit":""},model:{value:t.editData.memo,callback:function(e){t.$set(t.editData,"memo",e)},expression:"editData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.editCancle("editData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.editTrue("editData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("terminal.deletemsgs"),visible:t.del},on:{"update:visible":function(e){t.del=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.deleteData,"max-height":"660",stripe:""}},["1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"87"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"78"}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.del=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.deleteTrue}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfoCamera"),visible:t.assign,width:"30%"},on:{"update:visible":function(e){t.assign=e},close:function(e){return t.assignCancle("assignData")}}},[i("el-form",{ref:"assignData",staticStyle:{"text-align":"left"},attrs:{model:t.assignData,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignData.deveuis,callback:function(e){t.$set(t.assignData,"deveuis",e)},expression:"assignData.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignData.projectid,callback:function(e){t.$set(t.assignData,"projectid",e)},expression:"assignData.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignCancle("assignData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignTrue("assignData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfosCamera"),visible:t.assigns,width:"30%"},on:{"update:visible":function(e){t.assigns=e},close:function(e){return t.assignsCancle("assignDatas")}}},[i("el-form",{ref:"assignDatas",staticStyle:{"text-align":"left"},attrs:{model:t.assignDatas,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignDatas.deveuis,callback:function(e){t.$set(t.assignDatas,"deveuis",e)},expression:"assignDatas.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignDatas.projectid,callback:function(e){t.$set(t.assignDatas,"projectid",e)},expression:"assignDatas.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignsCancle("assignDatas")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignsTrue("assignDatas")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("beacon.deletemsgs1"),visible:t.removeAoa,width:"30%"},on:{"update:visible":function(e){t.removeAoa=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.removeDatas,"max-height":"660",stripe:""}},[i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.deveui"),"show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("beacon.projectname"),"show-overflow-tooltip":""}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.removeAoa=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.removeTrue()}}},[t._v(t._s(t.$t("change.sure")))])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var w=a("VU/8")(y,_,!1,function(t){a("5xDj")},"data-v-6b58538e",null).exports,D={components:{Menu:s.a,Devicemanagement:n.a,basecard:i.a},data:function(){return{i8n:this.$store.state.i18n,show:!1,seen:!0,seen1:!1,intoProjectType:this.$store.state.intoProjectType,contrForPrionum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,delprio:this.$store.state.userInfo.delprio,searchList:{devtype:2,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:"",count:this.pageCount,memo:""},pageCount:20,currentPage1:1,total:0,groundList:[],searchInallotList:[{index:1,value:this.$t("home.Assigned")},{index:2,value:this.$t("home.Unassigned")}],inuseType:[{index:1,value:this.$t("beacon.inusetype4")},{index:2,value:this.$t("beacon.inusetype3")}],workType:[{index:1,value:this.$t("terminal.worktype1")},{index:2,value:this.$t("terminal.worktype2")}],tableData:[],deleteData:[],del:!1,multipleSelection:[],loading:!1,add:!1,addData:{custom:1==this.contrForPrionum||2==this.contrForPrionum?"1":"2",devtype:2,deveui:"",alias:"",tenantid:"",memo:"",mode:"ABP",scheme:"CN470",origappeui:"",origappkey:""},addRules:{deveui:[{required:!0,pattern:/^[a-zA-Z0-9]{1,16}$/,message:this.$t("terminal.tit30"),trigger:"blur"}],tenantid:[{required:!0,message:this.$t("beacon.tenantidrules"),trigger:"change"}],origappeui:[{required:!0,pattern:/^[a-zA-Z0-9]{32}$/,message:this.$t("otherDev.mes11"),trigger:"blur"}],origappkey:[{required:!0,pattern:/^[a-zA-Z0-9]{32}$/,message:this.$t("otherDev.mes11"),trigger:"blur"}]},edit:!1,editData:{devtype:2,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",memo:""},tenantidData:[],projectList:[],assign:!1,assignData:{deveuis:"",projectid:"",devtype:2,mode:"ABP"},assignRules:{projectid:[{required:!0,message:this.$t("otherDev.mes10"),trigger:"change"}]},assignDatas:{deveuis:"",projectid:"",devtype:2,mode:"ABP"},assigns:!1,removeAoaDatas:{deveuis:"",devtype:2,projectid:""},removeDatas:[],removeAoa:!1}},methods:{search:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:2,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getCustomerNames()),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:2,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""},this.getProjectListByTenantids()),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:2,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},clearBtn:function(){1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={devtype:2,deveui:"",alias:"",tenantid:"",projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||(this.searchList={devtype:2,deveui:"",alias:"",tenantid:this.$store.state.userInfo.tenantid,projectid:"",groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),5==this.$store.state.userInfo.prionum&&(this.searchList={devtype:2,deveui:"",alias:"",tenantid:this.$store.state.intoProjectSuperid,projectid:this.$store.state.projectid,groundid:"",inallot:"",inuse:"",workstate:"",page:1,count:this.pageCount,memo:""}),this.getDevAoaLists()},searchInfo:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.tableData=e.data.list,t.total=e.data.size,e.data.size>0?t.$message({message:t.$t("beacon.searchsuccess"),type:"success"}):t.$message({message:t.$t("beacon.nodata"),type:"success"})):(t.searchList.count=20,t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}))})},handleCurrentChange:function(t){this.searchList.page=t,this.searchList.count=this.pageCount,this.getDevAoaLists()},handleSizeChange:function(t){this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.getDevAoaLists()},selectProject:function(t){this.groundList=[],this.getBuildingLists(t)},getBuildingLists:function(t){var e=this,a={projectid:t};Object(d._23)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code&&t.data.list.forEach(function(t,a){""!==t.mapid&&null!==t.mapid&&(t.labelname=t.building+"/"+t.ground+e.$t("warning.floor"),e.groundList.push(t))})})},recycleAoa:function(t){var e=this;2!=this.tableData[t].inallot?this.$confirm(this.$t("beacon.tet13")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:e.tableData[t].deveui,projectid:e.tableData[t].projectid,devtype:2};Object(d._166)(a,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.noassinsuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:e.$t("otherDev.SmokeMes1"),type:"warning"})},removeAoas:function(){if(this.removeAoaDatas.deveuis="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(2==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.SmokeMes1"),type:"warning"});if(this.multipleSelection.length>1&&t<this.multipleSelection.length-1&&this.multipleSelection[t].projectid!==this.multipleSelection[t+1].projectid)return void this.$message({message:"请选择同一项目的资产网关！",type:"warning"});this.removeAoaDatas.deveuis+=this.multipleSelection[t].deveui+","}this.removeAoaDatas.projectid=this.multipleSelection[0].projectid,this.removeAoaDatas.devtype=2,this.removeAoaDatas.deveuis=this.removeAoaDatas.deveuis.slice(0,this.removeAoaDatas.deveuis.length-1),this.removeDatas=this.multipleSelection,this.removeAoa=!0}else this.$message({message:this.$t("otherDev.SmokeMes2"),type:"warning"})},removeTrue:function(){var t=this;this.loading=!0,Object(d._166)(t.removeAoaDatas,t.tenantkey_A,t.tenantid_A,t.userName).then(function(e){1001==e.code?(t.removeAoa=!1,t.getDevAoaLists(),t.$message({message:t.$t("beacon.noassinsuccess"),type:"success"}),t.loading=!1):(t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"}),t.loading=!1)})},assignAoa:function(t){1!=this.tableData[t].inallot?(this.assignData.deveuis=this.tableData[t].deveui,this.assignData.projectid="",this.assign=!0):this.$message({message:this.$t("otherDev.SmokeMes3"),type:"warning"})},assignCancle:function(t){this.assign=!1,this.loading=!1,this.$refs[t].resetFields()},assignTrue:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.loading=!0,Object(d._164)(e.assignData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.assign=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.assinsuccess"),type:"success"}),e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"}),e.loading=!1)}))})},assignAoas:function(){if(this.assignDatas.deveuis="",this.assignDatas.projectid="",0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.SmokeMes3"),type:"warning"});this.assignDatas.deveuis+=this.multipleSelection[t].deveui+","}this.assignDatas.deveuis=this.assignDatas.deveuis.slice(0,this.assignDatas.deveuis.length-1),this.assigns=!0}else this.$message({message:this.$t("otherDev.SmokeMes4"),type:"warning"})},assignsCancle:function(t){this.assigns=!1,this.loading=!1,this.$refs[t].resetFields()},assignsTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&(e.loading=!0,Object(d._164)(e.assignDatas,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.assinsuccess"),type:"success"}),e.$refs[t].resetFields(),e.loading=!1,e.assigns=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)}))})},addAoas:function(){this.add=!0,this.addData={custom:1==this.contrForPrionum||2==this.contrForPrionum?"1":"2",devtype:2,deveui:"",alias:"",tenantid:"",memo:"",mode:"ABP",scheme:"CN470",origappeui:"",origappkey:""},this.add=!0},addCancel:function(t){this.add=!1,this.loading=!1,this.$refs[t].resetFields()},addTrue:function(t){var e=this,a=this;this.$refs[t].validate(function(i){i&&(1!=a.contrForPrionum&&2!=a.contrForPrionum&&(a.addData.tenantid=a.tenantid_A),e.loading=!0,Object(d.j)(a.addData,a.tenantkey_A,a.tenantid_A,a.userName).then(function(e){1001==e.code?(a.add=!1,a.loading=!1,a.searchList.page=1,a.currentPage1=1,a.$refs[t].resetFields(),a.getDevAoaLists(),a.$message({message:a.$t("beacon.addsuccess"),type:"success"})):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)}))})},editAoa:function(t){this.editData.deveui=this.tableData[t].deveui,this.editData.alias=this.tableData[t].alias,this.editData.tenantid=this.tableData[t].tenantid,this.editData.projectid=this.tableData[t].projectid,this.editData.groundid=this.tableData[t].groundid,this.editData.inallot=this.tableData[t].inallot,this.editData.inuse=this.tableData[t].inuse,this.editData.workstate=this.tableData[t].workstate,this.editData.memo=this.tableData[t].memo,this.edit=!0,this.editData.projectid&&this.getBuildingLists(this.editData.projectid)},editCancle:function(t){this.edit=!1,this.loading=!1,this.$refs[t].resetFields()},editTrue:function(t){var e=this;this.$refs[t].validate(function(a){a&&Object(d._163)(e.editData,e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.edit=!1,e.getDevAoaLists(),e.$message({message:e.$t("beacon.editsuccess"),type:"success"}),e.loading=!1,e.$refs[t].resetFields()):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})})},delAoa:function(t){var e=this;5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio?this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"}):1!=this.contrForPrionum&&2!=this.contrForPrionum||2!=this.tableData[t].custom?3!=this.contrForPrionum&&4!=this.contrForPrionum||1!=this.tableData[t].custom?1!=this.tableData[t].inallot?1!=this.tableData[t].inuse?this.$confirm(this.$t("beacon.deletemsg1")+this.tableData[t].deveui+this.$t("terminal.deletetermsg2"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveuis:[e.tableData[t].deveui]};Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"})):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:this.$t("otherDev.mes6"),type:"warning"}):this.$message({message:this.$t("otherDev.mes5"),type:"warning"}):this.$message({message:this.$t("terminal.tet43"),type:"warning"}):this.$message({message:this.$t("terminal.tet3"),type:"warning"})},deleteAoas:function(){if(0!=this.multipleSelection.length){for(var t=0;t<this.multipleSelection.length;t++){if((3==this.contrForPrionum||4==this.contrForPrionum)&&1==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet44"),type:"warning"});if((1==this.contrForPrionum||2==this.contrForPrionum)&&2==this.multipleSelection[t].custom)return void this.$message({message:this.$t("terminal.tet3"),type:"warning"});if(1==this.multipleSelection[t].inallot)return void this.$message({message:this.$t("otherDev.mes8"),type:"warning"});if(1==this.multipleSelection[t].inuse)return void this.$message({message:this.$t("otherDev.mes9"),type:"warning"})}this.deleteData=this.multipleSelection,this.del=!0}else this.$message({message:this.$t("otherDev.mes7"),type:"warning"})},deleteTrue:function(){var t=this;if(5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio)this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"});else{for(var e=this,a={deveuis:[]},i=0;i<this.deleteData.length;i++)a.deveuis.push(this.deleteData[i].deveui);this.loading=!0,Object(d.M)(c()(a),e.tenantkey_A,e.tenantid_A,e.userName).then(function(a){1001==a.code?(e.getDevAoaLists(),e.$message({message:e.$t("beacon.deletesuccess"),type:"success"}),t.del=!1,e.loading=!1):(e.$message({message:"zh"==e.$store.state.i18n?a.msg:a.enMsg,type:"error"}),e.loading=!1)})}},datetimecut:function(t){if(!t)return"-";function e(t){return t>9?t:"0"+t}var a=new Date(t);return a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},formatDateDevtime:function(t,e){if(null==t.devtime||0==t.devtime)return"";var a=new Date(1e3*parseInt(t.devtime)).toUTCString();return this.datetimecut(a)},formatDateDregtime:function(t,e){if(null==t.regtime||0==t.regtime)return"";var a=new Date(1e3*parseInt(t.regtime)).toUTCString();return this.datetimecut(a)},getCustomerNames:function(){var t=this;Object(d._33)({beginlevel:1,endlevel:3},this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){t.tenantidData=e.data})},getProjectListByTenantids:function(){var t=this,e=void 0;e=3==this.$store.state.userInfo.prionum||4==this.$store.state.userInfo.prionum?{superid:this.$store.state.userInfo.tenantid}:{tenantid:this.$store.state.userInfo.tenantid},Object(d._82)(e,this.tenantkey_A,this.tenantid_A,this.username).then(function(e){1001==e.code&&(t.projectList=e.data.list)})},getDevAoaLists:function(){var t=this;Object(d._46)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=e.data.list,t.total=e.data.size)})},handleSelectionChange:function(t){this.multipleSelection=t},changeItem:function(){0==this.show&&1==this.seen&&0==this.seen1?(this.show=!0,this.seen=!1,this.seen1=!0):(this.show=!1,this.seen=!0,this.seen1=!1)}},watch:{"$i18n.locale":function(){this.i8n=this.$store.state.i18n,r()(this.$data.addRules,this.$options.data.call(this).addRules),r()(this.$data.searchInallotList,this.$options.data.call(this).searchInallotList),r()(this.$data.inuseType,this.$options.data.call(this).inuseType),r()(this.$data.workType,this.$options.data.call(this).workType),r()(this.$data.assignRules,this.$options.data.call(this).assignRules)}}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"content"},[i("el-container",[i("el-main",[i("div",{staticClass:"aoa_input"},[i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0","z-index":"1"},attrs:{model:t.searchList}},[i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.deveui,callback:function(e){t.$set(t.searchList,"deveui",e)},expression:"searchList.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.alias,callback:function(e){t.$set(t.searchList,"alias",e)},expression:"searchList.alias"}})],1),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.tenantid,callback:function(e){t.$set(t.searchList,"tenantid",e)},expression:"searchList.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen,expression:"seen"}],staticStyle:{display:"flex","margin-left":"2%"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.more"))+"\n                "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v("\n                "+t._s(t.$t("beacon.search"))+"\n              ")]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v("\n                "+t._s(t.$t("beacon.reset"))+"\n              ")]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("index.add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("beacon.project1")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},on:{change:t.selectProject},model:{value:t.searchList.projectid,callback:function(e){t.$set(t.searchList,"projectid",e)},expression:"searchList.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("floormanagement.floor1")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.groundid,callback:function(e){t.$set(t.searchList,"groundid",e)},expression:"searchList.groundid"}},t._l(t.groundList,function(t){return i("el-option",{key:t.id,attrs:{label:t.labelname,value:t.id}})}),1)],1),t._v(" "),3!=t.contrForPrionum&&4!=t.contrForPrionum&&2!=t.contrForPrionum&&1!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.Assignmentstatus")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.inallot,callback:function(e){t.$set(t.searchList,"inallot",e)},expression:"searchList.inallot"}},t._l(t.searchInallotList,function(t){return i("el-option",{key:t.inddex,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.inuse")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("terminal.choose"),clearable:"",filterable:""},model:{value:t.searchList.inuse,callback:function(e){t.$set(t.searchList,"inuse",e)},expression:"searchList.inuse"}},t._l(t.inuseType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1):t._e(),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum&&5!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),5==t.contrForPrionum&&t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0","z-index":"1"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:5==t.contrForPrionum&&t.seen1,expression:"contrForPrionum == 5 && seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0","z-index":"1"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))])],1)],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0"},attrs:{model:t.searchList}},[3!=t.contrForPrionum&&4!=t.contrForPrionum||!t.show?t._e():i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"0","margin-right":"0"},attrs:{label:t.$t("terminal.workstate")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.workstate,callback:function(e){t.$set(t.searchList,"workstate",e)},expression:"searchList.workstate"}},t._l(t.workType,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),t.show?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{staticStyle:{width:"95%",float:"left"},attrs:{placeholder:t.$t("beacon.please")},model:{value:t.searchList.memo,callback:function(e){t.$set(t.searchList,"memo",e)},expression:"searchList.memo"}})],1):t._e(),t._v(" "),i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.seen1,expression:"seen1"}],staticStyle:{display:"flex","margin-left":"1%","margin-right":"0"}},[i("span",{staticClass:"el-dropdown-link",on:{click:function(e){return t.changeItem()}}},[t._v("\n                "+t._s(t.$t("beacon.putAway"))),i("i",{staticClass:"el-icon-arrow-up el-icon--right"})]),t._v(" "),i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"addBeacon",attrs:{type:"primary"},on:{click:function(e){return t.addAoas()}}},[t._v(t._s(t.$t("floormanagement.Add")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"small ",type:"primary",trigger:"hover"}},[i("el-button",{attrs:{type:"primary",size:"small "}},[t._v("\n                  "+t._s(t.$t("beacon.batch"))),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.assignAoas()}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delBeacons",on:{click:function(e){return t.removeAoas()}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels",attrs:{size:"mini"},on:{click:function(e){return t.deleteAoas()}}},[t._v(t._s(t.$t("terminal.delete")))]):t._e()],1)],1)],1):t._e()],1)],1):t._e()],1),t._v(" "),i("div",[i("el-table",{ref:"multipleTable",staticStyle:{width:"98%","text-align":"center","margin-left":"0","z-index":"1"},attrs:{data:t.tableData,"max-height":"670",border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},["5"!=t.contrForPrionum?i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}):t._e(),t._v(" "),"1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"customstr","show-overflow-tooltip":"",align:"center","min-width":"120"},scopedSlots:t._u([{key:"header",fn:function(e){return[i("span",{staticClass:"cell",staticStyle:{"padding-right":"0"}},[t._v(t._s(t.$t("gateway.customstr")))]),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{"font-size":"130%"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v("\n                      "+t._s(t.$t("terminal.title5"))+"\n                    ")])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])]}}],null,!1,178905683)}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"82",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"60",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"50",align:"center"}}),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"mode",label:t.$t("terminal.mode"),"show-overflow-tooltip":"","min-width":"78",align:"center"}}):t._e(),t._v(" "),5!=t.contrForPrionum?i("el-table-column",{attrs:{property:"scheme",label:t.$t("terminal.Standard"),"show-overflow-tooltip":"","min-width":"78",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"100",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"100",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"97",align:"center"}}),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-table-column",{attrs:{fixed:"right",label:t.$t("beacon.control"),align:"center","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-dropdown",{attrs:{size:"mini",type:"primary",trigger:"click"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("staff.operate"),placement:"top"}},[i("el-button",{staticClass:"icon_button",attrs:{type:"primary"}},[i("img",{attrs:{src:a("VJ6t")}})])],1),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.editAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.edit")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.assignAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("beacon.assign")))]):t._e()],1),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.recycleAoa(e.$index,t.tableData)}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"delss",attrs:{size:"mini"},on:{click:function(a){return t.delAoa(e.$index)}}},[t._v(t._s(t.$t("beacon.delete")))]):t._e()],1)],1)],1):t._e()]}}],null,!1,3435646082)}):t._e()],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[i("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":20},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1),t._v(" "),i("el-dialog",{staticStyle:{"text-aling":"center"},attrs:{title:t.$t("otherDev.addinfoSmoke"),width:"30%",visible:t.add},on:{"update:visible":function(e){t.add=e},close:function(e){return t.addCancel("addData")}}},[i("el-form",{ref:"addData",staticStyle:{"text-align":"left"},attrs:{model:t.addData,"label-width":"130px",rules:t.addRules}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui"),prop:"deveui"}},[i("el-input",{model:{value:t.addData.deveui,callback:function(e){t.$set(t.addData,"deveui",e)},expression:"addData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{"show-word-limit":"",maxlength:"20"},model:{value:t.addData.alias,callback:function(e){t.$set(t.addData,"alias",e)},expression:"addData.alias"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company"),prop:"tenantid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.addData.tenantid,callback:function(e){t.$set(t.addData,"tenantid",e)},expression:"addData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:"origappeui：",prop:"origappeui"}},[i("el-input",{attrs:{maxlength:"32"},model:{value:t.addData.origappeui,callback:function(e){t.$set(t.addData,"origappeui",e)},expression:"addData.origappeui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:"origappkey：",prop:"origappkey"}},[i("el-input",{attrs:{maxlength:"32"},model:{value:t.addData.origappkey,callback:function(e){t.$set(t.addData,"origappkey",e)},expression:"addData.origappkey"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"225"},model:{value:t.addData.memo,callback:function(e){t.$set(t.addData,"memo",e)},expression:"addData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.addCancel("addData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.addTrue("addData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-aling":"center"},attrs:{title:t.$t("otherDev.editinfoSmoke"),width:"30%",visible:t.edit},on:{"update:visible":function(e){t.edit=e},close:function(e){return t.editCancle("editData")}}},[i("el-form",{ref:"editData",staticStyle:{"text-align":"left"},attrs:{model:t.editData,"label-width":"130px"}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.deveui")}},[i("el-input",{attrs:{disabled:""},model:{value:t.editData.deveui,callback:function(e){t.$set(t.editData,"deveui",e)},expression:"editData.deveui"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("terminal.alias")}},[i("el-input",{attrs:{maxlength:"20","show-word-limit":""},model:{value:t.editData.alias,callback:function(e){t.$set(t.editData,"alias",e)},expression:"editData.alias"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.company")}},[i("el-select",{attrs:{placeholder:t.$t("terminal.choose"),disabled:""},model:{value:t.editData.tenantid,callback:function(e){t.$set(t.editData,"tenantid",e)},expression:"editData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("beacon.memo1")}},[i("el-input",{attrs:{type:"textarea",maxlength:"225","show-word-limit":""},model:{value:t.editData.memo,callback:function(e){t.$set(t.editData,"memo",e)},expression:"editData.memo"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.editCancle("editData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.editTrue("editData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("terminal.deletemsgs"),visible:t.del},on:{"update:visible":function(e){t.del=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.deleteData,"max-height":"660",stripe:""}},["1"==t.contrForPrionum||"2"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("beacon.customername"),"show-overflow-tooltip":"","min-width":"150",align:"center"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.DeviceID"),"show-overflow-tooltip":"","min-width":"87"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("terminal.alias1"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("terminal.project"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inallotstr",label:t.$t("terminal.inallotstr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"inusestr",label:t.$t("beacon.inusestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"workstatestr":"enworkstate",label:t.$t("beacon.workstatestr"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"groundid",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"78"}}),t._v(" "),i("el-table-column",{attrs:{property:"regtime",label:t.$t("gateway.firsttime"),"show-overflow-tooltip":"",formatter:t.formatDateDregtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"dectime",label:t.$t("otherDev.updateTime"),"show-overflow-tooltip":"",formatter:t.formatDateDevtime,"min-width":"90"}}),t._v(" "),i("el-table-column",{attrs:{property:"memo",label:t.$t("beacon.memo"),"show-overflow-tooltip":"","min-width":"78"}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.del=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.deleteTrue}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfoSmoke"),visible:t.assign,width:"30%"},on:{"update:visible":function(e){t.assign=e},close:function(e){return t.assignCancle("assignData")}}},[i("el-form",{ref:"assignData",staticStyle:{"text-align":"left"},attrs:{model:t.assignData,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignData.deveuis,callback:function(e){t.$set(t.assignData,"deveuis",e)},expression:"assignData.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignData.projectid,callback:function(e){t.$set(t.assignData,"projectid",e)},expression:"assignData.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignCancle("assignData")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignTrue("assignData")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("otherDev.assigninfosSmoke"),visible:t.assigns,width:"30%"},on:{"update:visible":function(e){t.assigns=e},close:function(e){return t.assignsCancle("assignDatas")}}},[i("el-form",{ref:"assignDatas",staticStyle:{"text-align":"left"},attrs:{model:t.assignDatas,"label-width":"100px",rules:t.assignRules}},[i("el-form-item",{attrs:{label:t.$t("terminal.deveui"),prop:""}},[i("el-input",{attrs:{disabled:""},model:{value:t.assignDatas.deveuis,callback:function(e){t.$set(t.assignDatas,"deveuis",e)},expression:"assignDatas.deveuis"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("beacon.projectname1"),prop:"projectid"}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.assignDatas.projectid,callback:function(e){t.$set(t.assignDatas,"projectid",e)},expression:"assignDatas.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.assignsCancle("assignDatas")}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.assignsTrue("assignDatas")}}},[t._v(t._s(t.$t("change.sure")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("beacon.deletemsgs1"),visible:t.removeAoa,width:"30%"},on:{"update:visible":function(e){t.removeAoa=e}}},[i("el-table",{staticStyle:{width:"100%","text-align":"left"},attrs:{data:t.removeDatas,"max-height":"660",stripe:""}},[i("el-table-column",{attrs:{property:"deveui",label:t.$t("terminal.deveui"),"show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"projectname",label:t.$t("beacon.projectname"),"show-overflow-tooltip":""}})],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.removeAoa=!1,t.loading=!1}}},[t._v(t._s(t.$t("change.cancle")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.removeTrue()}}},[t._v(t._s(t.$t("change.sure")))])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var P=a("VU/8")(D,k,!1,function(t){a("07wO")},"data-v-154083d7",null).exports,x={components:{Menu:s.a,Devicemanagement:n.a,basecard:i.a,AOA:h,Ble:v,BurglarAlarm:$,Camera:w,SmokeSensation:P},data:function(){return{contrForPrionum:this.$store.state.userInfo.prionum,aoagw:this.$store.state.functionParts.aoagw,smoke:this.$store.state.functionParts.smoke,alertor:this.$store.state.functionParts.alertor,blesensor:this.$store.state.functionParts.blesensor,camera:this.$store.state.functionParts.camera}},methods:{changeTab:function(t){switch(t.name){case"0":this.$refs.aoa.search();break;case"1":this.$refs.smokesensation.search();break;case"2":this.$refs.burglaralarm.search();break;case"3":this.$refs.ble.search();break;case"4":this.$refs.camera.search()}}},mounted:function(){this.$refs.aoa.search()}},F={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:5!=t.contrForPrionum?"homes":"",staticStyle:{height:"100%"}},[5!=t.contrForPrionum?a("div",{staticClass:"menu_header"},[a("Menu")],1):t._e(),t._v(" "),a("div",{staticClass:"content"},[a("el-container",{class:5==t.contrForPrionum?"user":"asi"},[5!=t.contrForPrionum?a("el-aside",[a("Devicemanagement")],1):t._e(),t._v(" "),a("el-main",[a("el-tabs",{on:{"tab-click":t.changeTab}},[t.aoagw?a("el-tab-pane",{attrs:{name:"0",label:t.$t("otherDev.aoaGateway")}},[a("AOA",{ref:"aoa"})],1):t._e(),t._v(" "),t.smoke?a("el-tab-pane",{attrs:{name:"1",label:t.$t("otherDev.smokeSensor")}},[a("SmokeSensation",{ref:"smokesensation"})],1):t._e(),t._v(" "),t.alertor?a("el-tab-pane",{attrs:{name:"2",label:t.$t("otherDev.burglarAlarm")}},[a("BurglarAlarm",{ref:"burglaralarm"})],1):t._e(),t._v(" "),t.blesensor?a("el-tab-pane",{attrs:{name:"3",label:t.$t("otherDev.bluetoothSensor")}},[a("Ble",{ref:"ble"})],1):t._e(),t._v(" "),t.camera?a("el-tab-pane",{attrs:{name:"4",label:t.$t("otherDev.camera")}},[a("Camera",{ref:"camera"})],1):t._e()],1)],1)],1)],1)])},staticRenderFns:[]};var S=a("VU/8")(x,F,!1,function(t){a("PYg8")},"data-v-54068356",null);e.default=S.exports},PYg8:function(t,e){},tOH7:function(t,e){}});