webpackJsonp([29],{Pmrl:function(t,e){},TjJ7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("3zDK");var i=n("nQqC"),r=n("PO8r"),a=n("CTnB"),o=n("c2Ch"),l={components:{Menu:r.a,Project:a.a,basecard:i.a},name:"Building3D",data:function(){return{contrForPrionum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,superId:this.$store.state.userInfo.superid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,delprio:this.$store.state.userInfo.delprio,intoProjectName:this.$store.state.intoProjectName,intoProjectid:this.$store.state.intoProjectid,intoProjectType:this.$store.state.intoProjectType,searchList:{projectid:this.$store.state.intoProjectid,mapid:"",buildid:"",ground:"",groundid:"",page:1,count:20},tableData:[],currentPage1:1,total:0,pageCount:20,buildingList:"",groundList:""}},methods:{handleCurrentChange:function(t){this.searchList.page=t,this.searchList.count=this.pageCount,this.getBuildingLists()},handleSizeChange:function(t){this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.getBuildingLists()},searchInfo:function(){},clearBtn:function(){},addBuildings:function(){},projectEdit:function(){},projectDele:function(){},arrangeMap:function(){},getBuildings:function(){var t=this,e={projectid:this.$store.state.intoProjectid};Object(o._26)(e,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.buildingList=e.data)})},selectGround:function(t){var e=this,n={buildid:t};Object(o._57)(n,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){1001==t.code&&(e.groundList=t.data)})},getBuildingLists:function(){var t=this;Object(o._23)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=e.data.list,t.total=e.data.size)})}},beforeMount:function(){this.getBuildingLists(),this.getBuildings()}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:5!=t.contrForPrionum?"home":"",staticStyle:{height:"100%"}},[n("div",{staticClass:"menu_header"},[n("Menu")],1),t._v(" "),n("div",{staticClass:"content"},[n("el-container",{staticClass:"asi"},[n("el-aside",[n("Project")],1),t._v(" "),n("el-main",[n("div",{staticClass:"project_input",staticStyle:{display:"flex"}},[3==t.contrForPrionum||4==t.contrForPrionum?n("el-breadcrumb",{staticStyle:{"margin-left":"0"},attrs:{separator:"/"}},[n("el-breadcrumb-item",{attrs:{to:{path:"/projectmanagement"}}},[t._v(t._s(t.$t("index.projectmanagement")))]),t._v(" "),n("el-breadcrumb-item",[t._v(t._s(t.intoProjectName))]),t._v(" "),n("el-breadcrumb-item",[t._v(t._s(t.$t("Breadcrumb.Floormanagement")))])],1):t._e(),t._v(" "),n("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"0"},attrs:{model:t.searchList}},[n("el-form-item",{staticStyle:{display:"flex","margin-right":"2%"},attrs:{label:t.$t("LocationIndoorHis.Building")}},[n("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},on:{change:t.selectGround},model:{value:t.searchList.buildid,callback:function(e){t.$set(t.searchList,"buildid",e)},expression:"searchList.buildid"}},t._l(t.buildingList,function(t){return n("el-option",{key:t.id,attrs:{label:t.building,value:t.id}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{display:"flex","margin-right":"2%"},attrs:{label:t.$t("LocationIndoorHis.floor")}},[n("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.ground,callback:function(e){t.$set(t.searchList,"ground",e)},expression:"searchList.ground"}},t._l(t.groundList,function(t){return n("el-option",{key:t.id,attrs:{label:t.ground,value:t.ground}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{display:"flex","margin-right":"2%"},attrs:{label:t.$t("floormanagement.Floornumber")}},[n("el-input",{model:{value:t.searchList.groundid,callback:function(e){t.$set(t.searchList,"groundid",e)},expression:"searchList.groundid"}})],1),t._v(" "),n("el-form-item",{staticStyle:{display:"flex","margin-right":"2%"}},[n("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchInfo()}}},[t._v(t._s(t.$t("beacon.search")))]),t._v(" "),n("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("beacon.reset")))]),t._v(" "),n("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(e){return t.addBuildings()}}},[t._v(t._s(t.$t("car.add")))])],1)],1)],1),t._v(" "),n("div",{staticClass:"content_project"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"98%","text-align":"center","margin-left":"2%"},attrs:{data:t.tableData,"max-height":"660",border:"","highlight-current-row":""}},[n("el-table-column",{attrs:{property:"building",label:t.$t("inspection.building"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"ground",label:t.$t("inspection.floor"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"id",label:t.$t("floormanagement.floornumber"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"mapname",label:t.$t("floormanagement.mapname"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}),t._v(" "),1==t.intoProjectType?n("el-table-column",{attrs:{property:"bnum",label:t.$t("floormanagement.EquipmentQuantity"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}):t._e(),t._v(" "),1==t.intoProjectType?n("el-table-column",{attrs:{property:"bclocknum",label:t.$t("floormanagement.Numberofpunchpoints"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}):t._e(),t._v(" "),1==t.intoProjectType?n("el-table-column",{attrs:{property:"balarmnum",label:t.$t("floormanagement.Numberofalarmdevices"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}):t._e(),t._v(" "),2==t.intoProjectType?n("el-table-column",{attrs:{property:"gwnum",label:t.$t("floormanagement.EquipmentQuantity"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}):t._e(),t._v(" "),2==t.intoProjectType?n("el-table-column",{attrs:{property:"gwclocknum",label:t.$t("floormanagement.Numberofpunchpoints"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}):t._e(),t._v(" "),2==t.intoProjectType?n("el-table-column",{attrs:{property:"gwalarmnum",label:t.$t("floormanagement.Numberofalarmdevices"),"show-overflow-tooltip":"","min-width":"77",align:"center"}}):t._e(),t._v(" "),n("el-table-column",{attrs:{property:"memo",label:t.$t("floormanagement.Remark"),"show-overflow-tooltip":"","min-width":"105",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:t.$t("floormanagement.operate"),width:"170",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-dropdown",{attrs:{size:"mini",type:"primary",trigger:"click"}},[n("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("\n                    "+t._s(t.$t("myorder.operate"))),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[n("el-button",{staticClass:"editss",attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.projectEdit(e.$index,t.tableData)}}},[t._v(t._s(t.$t("myorder.edit")))])],1),t._v(" "),n("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[n("el-button",{staticClass:"delss",attrs:{type:"danger",size:"mini"},on:{click:function(n){return t.projectDele(e.$index)}}},[t._v(t._s(t.$t("myorder.delete")))])],1)],1)],1),t._v(" "),n("el-button",{staticClass:"edits",attrs:{type:"primary",size:"mini"},on:{click:function(n){return t.arrangeMap(e.$index,e)}}},[t._v(t._s(t.$t("floormanagement.arrangement")))])]}}])})],1),t._v(" "),n("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[n("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":20},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1)])],1)],1)])},staticRenderFns:[]};var c=n("VU/8")(l,s,!1,function(t){n("Pmrl")},"data-v-fe3fa7d0",null);e.default=c.exports}});