webpackJsonp([18],{Jj6Q:function(t,e){},YgCE:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAc5JREFUSEvFlbFLVlEYh5/f7NJis7hES5hGS4s2BJFBQwa6tLREFIZBn1D42dAg2iCYpKObVlCDQwqVLREGLX3Q2BRY/8MvXrifHC/3w3M/Ec92OYfnuff33vO+4piXUr7tU8BV4Mwh3p+SNspnbA8BQ5JW2nv7AtvDwBYQm3/rCmzfBV4CIe6XdCEYqWApNiV9qpua7QfAPHBR0g/b60BLUjMVWNKByHJEtqeA2QLeKmLaBUbiZY8ksN0AHgOXJLXhX4F77Tp0LbD9FLgPDCfwL8BkpyJnR2S7CdwBriTwj8CjFF4ucpaggN8GriXwD8B0GV5bUMAngBsJfBNoSlqu+imya1DAbwK3Evg7YE7SYqc/LktQAR8E3gKLkl5U3Oix9k0/VGC7D/gGLEmatX0OeAOsSpqrgEdHmJE0klUD2/GGPcBZ4DMQMa1Jel4VS9Fy8gS2I4pt4DzwC/gXvUrSs06Z1xW8B3aAAEZMDUlxUzuubIHtUeAJEJm/kvQwszfl1cD26+gxwHVJ0byyVvYXZNEqDp2oIPr6924GTmnsxuD5I2mhfA8GgMh6DfjdZUS9wGVgPCbbAUE82I4DY8DpLgV7xdjdn+m1R2Rd8X8uVhcox1eDIwAAAABJRU5ErkJggg=="},xT45:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("PO8r"),r=a("c2Ch"),i={components:{Menu:n.a},name:"TerritoryManagement",data:function(){return{contrForPrionum:this.$store.state.userInfo.prionum,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,loading:!1,pageCount:20,searchList:{username:"",page:1,count:20},searchSelectCountry:[],tableData:[],currentPage1:1,total:0,editData:{username:"",gwnumber:"",nodenumber:"",memo:""},edit:!1}},methods:{handleCurrentChange:function(t){this.searchList.page=t,this.searchList.count=this.pageCount,this.getCountryLists()},handleSizeChange:function(t){this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.getCountryLists()},datetimecut:function(t){if(!t)return"-";function e(t){return t>9?t:"0"+t}var a=new Date(t);return a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},formatDate:function(t,e){if(null==t.uptime)return"";var a=new Date(1e3*parseInt(t.uptime)).toUTCString();return this.datetimecut(a)},getCountryLists:function(){var t=this,e=this,a={page:this.searchList.page,count:this.searchList.count};Object(r._30)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(a){1001==a.code&&(t.tableData=a.data.list,e.total=a.data.size)})},seachInfo:function(){this.searchList.page=1,this.currentPage1=1;var t=this;Object(r._29)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code&&(t.tableData=[],t.tableData.push(e.data),t.total=1)})},clearBtn:function(){this.searchList={username:"",page:1,count:this.pageCount},this.currentPage1=1,this.getCountryLists()},teeritoryEdit:function(t){this.editData.username=this.tableData[t].username,this.editData.gwnumber=this.tableData[t].gwnumber,this.editData.nodenumber=this.tableData[t].nodenumber,this.editData.memo=this.tableData[t].memo,this.edit=!0},editTrue:function(t){var e=this,a=this;this.$refs[t].validate(function(t){if(!t)return!1;""==e.editData.memo&&(e.editData.memo=" "),e.loading=!0,Object(r._149)(a.editData,a.tenantkey_A,a.tenantid_A,a.userName).then(function(t){1001==t.code?(e.edit=!1,e.getCountryLists(),e.getCustomerNames(),a.$message({message:a.$t("territorymanagement.editsuccess"),type:"success"}),a.loading=!1):(a.$message({message:"zh"==a.$store.state.i18n?t.msg:t.enMsg,type:"error"}),a.loading=!1)})})},getCustomerNames:function(){var t=this;Object(r._33)({beginlevel:1,endlevel:3},this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){var a=e.data,n={};t.searchSelectCountry=a.reduce(function(t,e){return!n[e.country]&&(n[e.country]=t.push(e)),t},[])})}},beforeMount:function(){this.getCountryLists(),this.getCustomerNames()}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:5!=t.contrForPrionum?"home":"",staticStyle:{height:"100%"}},[n("div",{staticClass:"menu_header"},[n("Menu")],1),t._v(" "),n("div",{staticClass:"content"},[n("el-container",{staticClass:"asi"},[n("el-main",[n("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap"},attrs:{inline:!0,model:t.searchList}},[n("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"2%","margin-right":"0"},attrs:{label:t.$t("territorymanagement.country")}},[n("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{filterable:"",placeholder:t.$t("territorymanagement.Pleaseenter")},model:{value:t.searchList.username,callback:function(e){t.$set(t.searchList,"username",e)},expression:"searchList.username"}},t._l(t.searchSelectCountry,function(t){return n("el-option",{key:t.tenantid,attrs:{label:t.country,value:t.country}})}),1)],1),t._v(" "),n("el-form-item",{staticStyle:{"margin-left":"1%"}},[n("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.seachInfo()}}},[t._v(t._s(t.$t("territorymanagement.search")))]),t._v(" "),n("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearBtn()}}},[t._v(t._s(t.$t("territorymanagement.reset")))])],1)],1),t._v(" "),n("div",{staticClass:"content_country"},[n("el-table",{ref:"multipleTable",staticStyle:{width:"98%","text-align":"center","margin-left":"2%"},attrs:{data:t.tableData,"max-height":"660",border:"","highlight-current-row":""}},[n("el-table-column",{attrs:{property:"username",label:t.$t("territorymanagement.username"),"show-overflow-tooltip":"",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"gwnumber",label:t.$t("territorymanagement.gwnumber"),"show-overflow-tooltip":"",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"nodenumber",label:t.$t("territorymanagement.nodenumber"),"show-overflow-tooltip":"",align:"center"}}),t._v(" "),n("el-table-column",{attrs:{property:"uptime",label:t.$t("territorymanagement.uptime"),"show-overflow-tooltip":"",align:"center",formatter:t.formatDate}}),t._v(" "),n("el-table-column",{attrs:{property:"memo",label:t.$t("territorymanagement.memo"),align:"center"}}),t._v(" "),n("el-table-column",{attrs:{label:t.$t("territorymanagement.contron"),width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("territorymanagement.edit"),placement:"top"}},[n("el-button",{staticClass:"edits",attrs:{type:"primary"},on:{click:function(a){return t.teeritoryEdit(e.$index,t.tableData)}}},[n("img",{attrs:{src:a("YgCE")}})])],1)]}}])})],1),t._v(" "),n("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[n("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total,"page-size":20},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1),t._v(" "),n("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("territorymanagement.editinfor2"),visible:t.edit,width:"30%"},on:{"update:visible":function(e){t.edit=e}}},[n("el-form",{ref:"editData",staticClass:"demo-ruleForm",staticStyle:{"text-align":"left","margin-left":"10px"},attrs:{model:t.editData,"label-width":"130px"}},[n("el-form-item",{attrs:{label:t.$t("territorymanagement.country")}},[n("el-input",{attrs:{disabled:"",placeholder:t.$t("territorymanagement.Pleaseenter")},model:{value:t.editData.username,callback:function(e){t.$set(t.editData,"username",e)},expression:"editData.username"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("territorymanagement.gwnumber1")}},[n("el-input",{attrs:{disabled:"",placeholder:t.$t("territorymanagement.Pleaseenter")},model:{value:t.editData.gwnumber,callback:function(e){t.$set(t.editData,"gwnumber",e)},expression:"editData.gwnumber"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("territorymanagement.nodenumber1")}},[n("el-input",{attrs:{disabled:"",placeholder:t.$t("territorymanagement.Pleaseenter")},model:{value:t.editData.nodenumber,callback:function(e){t.$set(t.editData,"nodenumber",e)},expression:"editData.nodenumber"}})],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("territorymanagement.memo1")}},[n("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"64"},model:{value:t.editData.memo,callback:function(e){t.$set(t.editData,"memo",e)},expression:"editData.memo"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.edit=!1,t.loading=!1}}},[t._v(t._s(t.$t("terminal.cancel")))]),t._v(" "),n("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.editTrue("editData")}}},[t._v(t._s(t.$t("terminal.confirm")))])],1)],1)],1)],1)],1)])},staticRenderFns:[]};var o=a("VU/8")(i,s,!1,function(t){a("Jj6Q")},"data-v-4a8ebbd2",null);e.default=o.exports}});