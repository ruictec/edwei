webpackJsonp([26],{FjsZ:function(t,e,a){"use strict";(function(t){var i=a("woOf"),s=a.n(i),n=a("nQqC"),r=a("PO8r"),o=a("k4/M"),l=a("ktr9"),c=(a.n(l),a("CXX0")),d=a("Mdwg"),u=a("WiOa"),m=a("nq2H"),h=a("T18w"),g=a("WMwB"),p=a("Umvz"),f=a("Mjwz"),y=a("zOBh"),v=a("2YZ9"),w=a("lUmj"),b=a("kZ1N"),_=a("TDso"),$=a("beD/"),D=a("lVyT"),x=a("8cSO"),k=a("ItK/"),P=a("0Fy/"),F=a("c2Ch");e.a={components:{Menu:r.a,Devicemanagement:o.a,basecard:n.a},name:"GateWay",data:function(){return{i8n:this.$store.state.i18n,openlayersSource:"",deveuiNum:"",startAt:"",lastAt:"",projectname:"",customername:"",timestamp1:[],timestamp2:[],rxPacketsReceivedOK:[],txPacketsEmitted:[],contrForPrionum:this.$store.state.userInfo.prionum,country:this.$store.state.userInfo.country,tenantid_A:this.$store.state.userInfo.tenantid,tenantkey_A:this.$store.state.userInfo.tenantkey,userName:this.$store.state.userInfo.username,delprio:this.$store.state.userInfo.delprio,projectList:[],multipleSelection:[],tableData:[],tenantidData:[],loading:!1,searchList:{deveui:"",scheme:"",tenantid:this.$store.state.userInfo.tenantid,page:1,count:10,hbstatus:"",network:""},pageCount:10,currentPage1:1,total:0,add:!1,totalbytes:"",totalbytes1:"",addData:{deveui:"",scheme:"",tenantid:"",country:"",memo:"",sysmemo:"",custom:1,alais:"",projectid:"",network:"",cardid:"",totalbytes:""},addRules:{deveui:[{required:!0,pattern:/^[a-zA-Z0-9]{1,16}$/,message:this.$t("terminal.tit30"),trigger:"blur"}],scheme:[{required:!0,message:this.$t("gateway.schemestrrules"),trigger:"change"}],totalbytes:[{pattern:/^\d+(?:\.\d+)?\s?GG?$/,message:this.$t("gateway.tet6"),trigger:"blur"}]},editRules:{totalbytes:[{pattern:/^\d+(?:\.\d+)?\s?GG?$/,message:this.$t("gateway.tet6"),trigger:"blur"}]},schemeList:[{index:1,value:"CN470"},{index:2,value:"US915_BAND1"},{index:3,value:"US915_BAND2"},{index:4,value:"EU868"},{index:5,value:"AS923"},{index:6,value:"IN865"},{index:7,value:"RU864"},{index:8,value:"AU915_BAND1"},{index:9,value:"AU915_BAND2"},{index:10,value:"KR920"}],hbstatusList:[{index:1,value:"Online"},{index:2,value:"Offline"},{index:3,value:"Unknown"}],typeList:[{index:1,value:this.$t("gateway.Gcard")},{index:2,value:this.$t("gateway.wired")}],selectschemeList:[],edit:!1,editData:{deveui:"",scheme:"",tenantid:"",country:"",memo:"",sysmemo:"",schemestr:"",alias:"",projectid:"",network:"",cardid:"",totalbytes:""},devList:[],map:"",seeLayer:"",view:"",show4G:!0,show4Gdialog:!1,show4GData:{cardid:"",totalbytes:"",totalcount:""},clickTrue:!0,echarts1:!0,echarts2:!0}},methods:{GwToNs:function(){var t=this,e=this;if(0!=this.multipleSelection.length){for(var a=0;a<this.multipleSelection.length;a++)if(this.multipleSelection[0].tenantid!=this.multipleSelection[a].tenantid||this.multipleSelection[0].scheme!=this.multipleSelection[a].scheme)return void e.$message({message:this.$t("terminal.tet9"),type:"warning"});this.$confirm(this.$t("terminal.tet10"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning",callback:function(a){if("confirm"===a){for(var i={deveuis:[]},s=0;s<t.multipleSelection.length;s++)i.deveuis.push(t.multipleSelection[s].deveui);Object(F.m)(i,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?e.$message({message:e.$t("terminal.tet11"),type:"success"}):e.$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}}})}else this.$message({message:this.$t("terminal.tet8"),type:"warning"})},handleSelectionChange:function(t){this.multipleSelection=t},show4Gs:function(t){this.show4G=!1;var e=this,a=this.$loading({lock:!0,text:this.$t("tet.Loading"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:document.querySelector(".action")});Object(F._55)({deveui:e.tableData[t].deveui},e.tenantkey_A,e.tenantid_A,e.userName).then(function(i){e.show4G=!0,1001==i.code?(e.show4GData={cardid:e.tableData[t].cardid,totalbytes:e.tableData[t].totalbytes,totalcount:i.data},a.close(),e.show4Gdialog=!0):(a.close(),e.$message({message:"zh"==e.$store.state.i18n?i.msg:i.enMsg,type:"error"}))})},selectGateway:function(t){var e=this;if(this.show4G){var a=this;this.echarts1&&this.echarts2&&this.clickTrue&&function(){for(var i=e.map.getLayers().getArray(),s=function(t){i[t].getSource().getFeatures()[0].values_.deveui&&(i[t].getSource().getFeatures().forEach(function(e){i[t].getSource().removeFeature(e)}),e.map.removeLayer(i[t]))},n=1;n<i.length;n++)s(n);a.timestamp1=[],a.timestamp2=[],a.rxPacketsReceivedOK=[],a.txPacketsEmitted=[];var r={deveui:t.deveui,tenantid:t.tenantid};1==t.custom&&(a.clickTrue=!1,a.echarts2=!1,a.echarts1=!1,Object(F._59)(r,a.tenantkey_A,a.tenantid_A,a.userName).then(function(t){1001==t.code?(null!=t.data&&JSON.parse(t.data).rxPackets.timestamps.length>0&&(a.timestamp1=JSON.parse(t.data).rxPackets.timestamps,a.rxPacketsReceivedOK=JSON.parse(t.data).rxPackets.datasets[0].data),null!=t.data&&JSON.parse(t.data).txPackets.timestamps.length>0&&(a.timestamp2=JSON.parse(t.data).txPackets.timestamps,a.txPacketsEmitted=JSON.parse(t.data).txPackets.datasets[0].data),a.drawLine1(),a.drawLine2()):a.$message({message:"zh"==a.$store.state.i18n?t.msg:t.enMsg,type:"error"})})),a.map.getView().setCenter([t.lastx,t.lasty],"EPSG:4326"),a.addIconMarker(a.map,t),a.clickTrue=!0}()}},drawLine1:function(){var t=this.$echarts.init(document.getElementById("line1")),e={tooltip:{trigger:"axis"},legend:{data:["上行数据量"]},xAxis:{name:this.$t("gateway.time"),nameTextStyle:{fontWeight:600,fontSize:18},type:"category",boundaryGap:!1,data:this.timestamp1},yAxis:{name:this.$t("gateway.data"),nameTextStyle:{fontWeight:600,fontSize:15},type:"value",scale:!0},series:[{data:this.rxPacketsReceivedOK,type:"line"}]};t.setOption(e),this.echarts1=!0},drawLine2:function(){var t=this.$echarts.init(document.getElementById("line2")),e={tooltip:{trigger:"axis"},legend:{data:["上行数据量"]},xAxis:{name:this.$t("gateway.time"),nameTextStyle:{fontWeight:600,fontSize:18},type:"category",boundaryGap:!1,data:this.timestamp2},yAxis:{name:this.$t("gateway.data1"),nameTextStyle:{fontWeight:600,fontSize:15},type:"value",scale:!0},series:[{data:this.txPacketsEmitted,type:"line"}]};t.setOption(e),this.echarts2=!0},initMap:function(){var t=this;this.seeLayer=new d.a({source:this.openlayersSource}),this.view=new c.b({projection:"EPSG:4326",center:[118.804,32.083],zoom:7}),setTimeout(function(){t.map=new c.a({target:"gatewayMap",layers:[t.seeLayer],view:t.view,interactions:Object(_.e)().extend([new _.a])}),t.map.addControl(new P.a),t.mapClick(),t.addLine(t.map)},0)},mapClick:function(){var e,a=this,i=this;this.map.on("click",function(s){var n=a.map.forEachFeatureAtPixel(s.pixel,function(t){return e=s.coordinate,t});if(n)for(var r=0;r<i.tableData.length;r++)if(i.deveuiNum=i.tableData[r].deveui,i.startAt=i.formatTime(i.tableData[r].firsttime),i.lastAt=i.formatTime(i.tableData[r].statustime),i.projectname=i.tableData[r].projectname,i.customername=i.tableData[r].customername,n.values_.deveui==i.tableData[r].deveui){t("#popup").css("display","block");var o=document.getElementById("popup"),l=new b.a({element:o,autoPan:!0});return l.setPosition(e),i.map.addOverlay(l),void t("#popup-closer").on("click",function(t){t.preventDefault(),l.setPosition(void 0)})}})},addIconMarker:function(t,e){var a=new m.a({tenantid:e.tenantid,longitude:e.lastx,latitude:e.lasty,src:"../../../static/baseon.png",deveui:e.deveui,geometry:new h.a([e.lastx,e.lasty])}),i=new g.a({features:[a]}),s=new f.c({image:new y.a({anchor:[.5,1],src:"../../../static/baseon.png",scale:1}),text:new v.a({text:e.deveui,font:"16px font-size",fill:new w.a({color:"blue"}),offsetY:10})}),n=new p.a({source:i,style:s});this.modifyFeature(t,n.getSource()),t.addLayer(n)},modifyFeature:function(t,e){var a=this,i=new _.b({source:e});i.on("modifyend",function(t){e.getFeatures()[0].values_.longitude=t.mapBrowserEvent.coordinate[0],e.getFeatures()[0].values_.latitude=t.mapBrowserEvent.coordinate[1];var i={deveui:e.getFeatures()[0].values_.deveui,longitude:t.mapBrowserEvent.coordinate[0],latitude:t.mapBrowserEvent.coordinate[1]};Object(F._169)(i,a.tenantkey_A,a.tenantid_A,a.userName).then(function(t){1001!=t.code&&a.$message({message:"zh"==a.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}),t.addInteraction(i)},addLine:function(t){var e=new $.e({stroke:new $.d({color:"#AA8DC6",width:10})}),a=new D.a([[122.9272781486751,23.848426854398152],[122.40150850225844,22.133416341086654],[121.78811058143899,21.35728019637634],[120.18576499235964,19.5296047588327],[119.25521102926318,17.337282710181967],[119.05017371536066,14.734886033725882],[118.98708531108292,12.810689703255191],[118.07230344905598,10.88649337278446],[116.57395384745995,8.96229704231377],[111.37587218970845,3.8613280294327694],[110.27425959721639,2.809788736599442],[107.95320447327722,5.7617448175673145],[107.26213818712276,7.806878264206475],[108.44658415967254,8.693401446500248],[110.07396639858125,11.021809880631187],[110.90017584295029,13.225035065615302],[109.69841665114078,15.428260250599415],[107.99592446274401,17.531338836266087]]),i=new x.a({wrapX:!1}),s=new $.e({stroke:new $.d({color:[170,141,198,1],lineDash:[2,7]})});var n=new m.a({geometry:a,finished:!1,dashOffset:-8});function r(){return[s,new $.e({stroke:new $.d({color:[170,141,198,1],widht:5,lineDash:[2,7],lineDashOffset:n.get("dashOffset")})})]}n.setStyle(r()),i.addFeature(n);var o=new k.b({source:i,style:e});t.addLayer(o),setInterval(function(){var t=n.get("dashOffset");t=0==t?-8:t+1,n.set("dashOffset",t),n.setStyle(r())},100)},handleCurrentChange:function(t){this.searchList.page=t,this.searchList.count=this.pageCount,this.getGatewayLists()},handleSizeChange:function(t){this.pageCount=t,this.searchList.count=t,this.searchList.page=1,this.currentPage1=1,this.getGatewayLists()},datetimecut:function(t){if(!t)return"-";function e(t){return t>9?t:"0"+t}var a=new Date(t);return a.getFullYear()+"-"+e(a.getMonth()+1)+"-"+e(a.getDate())+" "+(a.getHours()<10?"0"+a.getHours():a.getHours())+":"+e(a.getMinutes())+":"+e(a.getSeconds())},formatDateFirsttime:function(t,e){if(null==t.firsttime||0==t.firsttime)return"";var a=new Date(1e3*parseInt(t.firsttime)).toUTCString();return this.datetimecut(a)},formatDateStatustime:function(t,e){if(null==t.statustime||0==t.statustime)return"";var a=new Date(1e3*parseInt(t.statustime)).toUTCString();return this.datetimecut(a)},formatTime:function(t){if(null==t||0==t)return"";var e=new Date(1e3*parseInt(t)).toUTCString();return this.datetimecut(e)},addGateways:function(){this.totalbytes="",this.addData={deveui:"",scheme:"",tenantid:"",country:"",memo:"",sysmemo:"",custom:1,alias:"",projectid:"",network:"",cardid:"",totalbytes:""},1!=this.contrForPrionum&&2!=this.contrForPrionum&&this.selectScheme(this.tenantid_A),this.add=!0},addCancel:function(t){this.add=!1,this.loading=!1,this.$refs[t].resetFields()},addTrue:function(t){var e=this,a=this;this.$refs[t].validate(function(i){if(!i)return!1;if(3==a.contrForPrionum||4==a.contrForPrionum)a.addData.country=a.country,a.addData.tenantid=a.tenantid_A,a.addData.custom=2;else for(var s=0;s<a.tenantidData.length;s++)a.tenantidData[s].tenantid==a.addData.tenantid&&(a.addData.country=a.tenantidData[s].country);e.loading=!0,Object(F.l)(a.addData,a.tenantkey_A,a.tenantid_A,a.userName).then(function(e){1001==e.code?(a.add=!1,a.searchList.page=1,a.currentPage1=1,a.getGatewayLists(),a.getCustomerNames(),a.getSearchGatewayList(),a.$message({message:a.$t("gateway.addsuccess"),type:"success"}),a.loading=!1,a.$refs[t].resetFields()):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)})})},getGatewayLists:function(){var t=this;Object(F._56)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){if(1001==e.code){t.tableData=e.data.list,t.total=e.data.size;for(var a=0;a<t.tableData.length;a++)if(1==t.tableData[a].custom)return void t.selectGateway(t.tableData[a])}})},gatewayEdit:function(t){this.show4G=!1,1!=this.contrForPrionum&&2!=this.contrForPrionum||2!=this.tableData[t].custom?(this.editData.deveui=this.tableData[t].deveui,this.editData.tenantid=this.tableData[t].tenantid,this.editData.country=this.tableData[t].country,this.editData.memo=this.tableData[t].memo,this.editData.sysmemo=this.tableData[t].sysmemo,this.editData.alias=this.tableData[t].alias,this.editData.schemestr=this.tableData[t].schemestr,this.editData.projectid=this.tableData[t].projectid,this.editData.cardid=this.tableData[t].cardid,this.editData.network=this.tableData[t].network,this.totalbytes1=this.tableData[t].totalbytes?this.tableData[t].totalbytes.substr(0,this.tableData[t].totalbytes.length-1):"",this.selectScheme(this.editData.tenantid),this.edit=!0):this.$message({message:this.$t("gateway.editgatewayrules"),type:"warning"})},editCancel:function(t){this.edit=!1,this.loading=!1,this.show4G=!0,this.$refs[t].resetFields()},editTrue:function(t){var e=this,a=this;this.$refs[t].validate(function(i){if(!i)return!1;if(e.editData.scheme=e.editData.schemestr,1==a.contrForPrionum||2==a.contrForPrionum)for(var s=0;s<a.tenantidData.length;s++)a.tenantidData[s].tenantid==a.editData.tenantid&&(a.editData.country=a.tenantidData[s].country);e.loading=!0,Object(F._168)(a.editData,a.tenantkey_A,a.tenantid_A,a.userName).then(function(e){1001==e.code?(a.edit=!1,a.getGatewayLists(),a.getCustomerNames(),a.getSearchGatewayList(),a.$message({message:a.$t("gateway.editsuccess"),type:"success"}),a.loading=!1,a.show4G=!0,a.$refs[t].resetFields()):(a.$message({message:"zh"==a.$store.state.i18n?e.msg:e.enMsg,type:"error"}),a.loading=!1)})})},gatewayDele:function(t){if(5==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio||4==this.$store.state.userInfo.prionum&&2==this.$store.state.userInfo.delprio)this.$message({message:this.$t("staffmanagement.permissiondelete"),type:"warning"});else{var e=this;3==this.contrForPrionum&&1==this.tableData[t].custom||4==this.contrForPrionum&&1==this.tableData[t].custom?this.$message({message:this.$t("gateway.deletegatewayrules"),type:"warning"}):1!=this.contrForPrionum||2!=this.tableData[t].custom?this.$confirm(this.$t("gateway.deletemsg")+this.tableData[t].deveui+this.$t("gateway.deletemsg1"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var a={deveui:e.tableData[t].deveui};Object(F.P)(a,e.tenantkey_A,e.tenantid_A,e.userName).then(function(t){1001==t.code?(e.getGatewayLists(),e.getCustomerNames(),e.getSearchGatewayList(),e.$message({message:e.$t("gateway.deletesuccess"),type:"success"})):$message({message:"zh"==e.$store.state.i18n?t.msg:t.enMsg,type:"error"})})}):this.$message({message:this.$t("gateway.deletegatewayrules1"),type:"warning"})}},gatewayBack:function(t){var e=this,a=this;this.$confirm(this.$t("beacon.tet13")+this.tableData[t].deveui+this.$t("gateway.deletemsg1"),this.$t("Building.tips"),{confirmButtonText:this.$t("terminal.confirm"),cancelButtonText:this.$t("terminal.cancel"),type:"warning"}).then(function(){var i={deveui:e.tableData[t].deveui};Object(F._170)(i,a.tenantkey_A,a.tenantid_A,a.userName).then(function(t){1001==t.code?(a.getGatewayLists(),a.getCustomerNames(),a.getSearchGatewayList(),a.$message({message:a.$t("gateway.Recyclingsucceeded"),type:"success"})):a.$message({message:"zh"==a.$store.state.i18n?t.msg:t.enMsg,type:"error"})})})},searchGateway:function(){this.searchList.page=1,this.currentPage1=1;var t=this;Object(F._56)(this.searchList,this.tenantkey_A,this.tenantid_A,this.userName).then(function(e){1001==e.code?(t.tableData=e.data.list,t.total=e.data.size,e.data.size>0?t.$message({message:t.$t("gateway.searchsuccess"),type:"success"}):t.$message({message:t.$t("gateway.nodata"),type:"success"})):t.$message({message:"zh"==t.$store.state.i18n?e.msg:e.enMsg,type:"error"})})},clearButton:function(){1==this.$store.state.userInfo.prionum||2==this.$store.state.userInfo.prionum?this.searchList={deveui:"",scheme:"",tenantid:"",page:1,count:this.pageCount,hbstatus:""}:this.searchList={deveui:"",scheme:"",tenantid:this.$store.state.userInfo.tenantid,page:1,count:this.pageCount,hbstatus:""},this.currentPage1=1,this.getGatewayLists()},getCustomerNames:function(){var t=this;if(1==t.contrForPrionum||2==t.contrForPrionum){Object(F._33)({beginlevel:1,endlevel:3},t.tenantkey_A,t.tenantid_A,t.userName).then(function(e){t.tenantidData=e.data})}},getSearchGatewayList:function(t){var e=this,a={};a=1==this.$store.state.userInfo.prionum||2==this.$store.state.userInfo.prionum?{tenantid:t}:{tenantid:this.$store.state.userInfo.tenantid},Object(F._56)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){e.devList=t.data.list})},selectScheme:function(t){var e=this;this.selectschemeList=[];var a={tenantid:t};Object(F._85)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){for(var a={},i=t.data.split(","),s=0;s<i.length;s++)a={index:s,value:i[s]},e.selectschemeList.push(a)})},getSearchProjectList:function(t){var e=this,a={superid:t};Object(F._82)(a,this.tenantkey_A,this.tenantid_A,this.userName).then(function(t){e.projectList=t.data.list})}},beforeMount:function(){"zh"==this.$store.state.i18n?this.openlayersSource=new u.b({url:"https://www.edwei.cn:8443/osm/{z}/{x}/{y}.png",crossOrigin:""}):this.openlayersSource=new u.b,1!=this.$store.state.userInfo.prionum&&2!=this.$store.state.userInfo.prionum||(this.searchList={deveui:"",scheme:"",tenantid:"",page:1,count:10,hbstatus:""}),3!=this.$store.state.userInfo.prionum&&4!=this.$store.state.userInfo.prionum||this.getSearchProjectList(this.$store.state.userInfo.tenantid),this.getCustomerNames(),this.getSearchGatewayList(),this.initMap(),this.getGatewayLists()},mounted:function(){this.drawLine1(),this.drawLine2()},watch:{totalbytes:function(t){this.addData.totalbytes=t?t+"G":""},totalbytes1:function(t){this.editData.totalbytes=t?t+"G":""},"$i18n.locale":function(){this.i8n=this.$store.state.i18n,s()(this.$data.addRules,this.$options.data.call(this).addRules),s()(this.$data.editRules,this.$options.data.call(this).editRules),s()(this.$data.typeList,this.$options.data.call(this).typeList),this.drawLine1(),this.drawLine2()}}}}).call(e,a("7t+N"))},ISxq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("FjsZ"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:5!=t.contrForPrionum?"home":"",staticStyle:{height:"100%"}},[i("div",{staticClass:"menu_header"},[i("Menu")],1),t._v(" "),i("div",{staticClass:"content"},[i("el-container",{staticClass:"asi"},[i("el-aside",[i("Devicemanagement")],1),t._v(" "),i("el-main",[i("div",{staticClass:"gateway_input"},[i("el-form",{staticClass:"demo-form-inline",staticStyle:{display:"flex","white-space":"nowrap","margin-left":"1%","z-index":"1"},attrs:{model:t.searchList}},[1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("gateway.company")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},on:{change:t.getSearchGatewayList},model:{value:t.searchList.tenantid,callback:function(e){t.$set(t.searchList,"tenantid",e)},expression:"searchList.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("gateway.deveui")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.deveui,callback:function(e){t.$set(t.searchList,"deveui",e)},expression:"searchList.deveui"}},t._l(t.devList,function(t){return i("el-option",{key:t.deveui,attrs:{label:t.deveui,value:t.deveui}})}),1)],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("gateway.scheme")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.scheme,callback:function(e){t.$set(t.searchList,"scheme",e)},expression:"searchList.scheme"}},t._l(t.schemeList,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),i("el-form-item",{staticStyle:{display:"flex",width:"15%","margin-left":"1%","margin-right":"0"},attrs:{label:t.$t("gateway.Online")}},[i("el-select",{staticStyle:{width:"95%",float:"left"},attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},model:{value:t.searchList.hbstatus,callback:function(e){t.$set(t.searchList,"hbstatus",e)},expression:"searchList.hbstatus"}},t._l(t.hbstatusList,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-left":"2%"}},[i("el-button",{staticClass:"query",attrs:{type:"primary"},on:{click:function(e){return t.searchGateway()}}},[t._v(t._s(t.$t("gateway.search")))]),t._v(" "),i("el-button",{staticClass:"reset",attrs:{type:"primary"},on:{click:function(e){return t.clearButton()}}},[t._v(t._s(t.$t("gateway.reset")))]),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(e){return t.addGateways()}}},[t._v(t._s(t.$t("gateway.addstation")))]):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-button",{staticClass:"add",attrs:{type:"primary"},on:{click:function(e){return t.GwToNs()}}},[t._v(t._s(t.$t("gateway.Batchsynchronization")))]):t._e()],1)],1)],1),t._v(" "),i("div",[i("el-table",{ref:"multipleTable",staticStyle:{width:"98%","text-align":"center","margin-left":"2%"},attrs:{data:t.tableData,"max-height":"300",border:"","highlight-current-row":""},on:{"current-change":t.selectGateway,"selection-change":t.handleSelectionChange}},[1==t.contrForPrionum||2==t.contrForPrionum?i("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}):t._e(),t._v(" "),"1"==t.contrForPrionum?i("el-table-column",{attrs:{property:"customername",label:t.$t("gateway.customername"),"show-overflow-tooltip":"",align:"center","min-width":"150"}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"deveui",label:t.$t("gateway.deveui1"),align:"center","show-overflow-tooltip":"","min-width":"150"}}),t._v(" "),i("el-table-column",{attrs:{property:"alias",label:t.$t("inspection.alias"),align:"center","show-overflow-tooltip":""}}),t._v(" "),3==t.contrForPrionum||4==t.contrForPrionum?i("el-table-column",{attrs:{property:"projectname",label:t.$t("buildingmanagement.projectname"),align:"center","show-overflow-tooltip":""}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"schemestr",label:t.$t("gateway.schemestr"),align:"center","show-overflow-tooltip":""}}),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-table-column",{attrs:{property:"country",label:t.$t("gateway.country"),align:"center","show-overflow-tooltip":""}}):t._e(),t._v(" "),i("el-table-column",{attrs:{property:"customstr",label:t.$t("gateway.customstr"),align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"hbstatustr",label:t.$t("terminal.hbstatusstr"),"min-width":"125",align:"center","show-overflow-tooltip":""}}),t._v(" "),i("el-table-column",{attrs:{property:"zh"==t.i8n?"networkstr":"ennetwork",label:t.$t("gateway.Networkmode"),"min-width":"110",align:"center","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.network&&e.row.cardid?i("el-button",{staticStyle:{width:"60%"},attrs:{type:"text",size:"small"},on:{click:function(a){return t.show4Gs(e.$index)}}},[t._v(t._s("zh"==t.i8n?e.row.networkstr:e.row.ennetwork))]):t._e(),t._v(" "),1!=e.row.network||null==e.row.cardid?i("p",[t._v("\n                  "+t._s("zh"==t.i8n?e.row.networkstr:e.row.ennetwork)+"\n                ")]):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{property:"firsttime",label:t.$t("gateway.firsttime"),align:"center","show-overflow-tooltip":"",formatter:t.formatDateFirsttime,"min-width":"170"}}),t._v(" "),i("el-table-column",{attrs:{property:"statustime",label:t.$t("terminal.statustime"),align:"center","show-overflow-tooltip":"",formatter:t.formatDateStatustime,"min-width":"170"}}),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-table-column",{attrs:{property:"sysmemo",label:t.$t("gateway.sysmemo"),"min-width":"120",align:"center","show-overflow-tooltip":""}}):t._e(),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum?i("el-table-column",{attrs:{property:"memo",label:t.$t("gateway.memo2"),align:"center","show-overflow-tooltip":""}}):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-table-column",{attrs:{fixed:"right",label:t.$t("gateway.operate1"),"min-width":"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-dropdown",{attrs:{size:"mini",type:"primary",trigger:"click"}},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.$t("staff.operate"),placement:"top"}},[i("el-button",{staticClass:"icon_button",attrs:{type:"primary"}},[i("img",{attrs:{src:a("VJ6t")}})])],1),t._v(" "),i("el-dropdown-menu",{staticClass:"selects",staticStyle:{"background-color":"rgb(219, 222, 231)"},attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.gatewayEdit(e.$index,t.tableData)}}},[t._v(t._s(t.$t("gateway.edit")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[3==t.contrForPrionum||4==t.contrForPrionum?i("el-button",{staticClass:"edits",attrs:{size:"mini"},on:{click:function(a){return t.gatewayBack(e.$index)}}},[t._v(t._s(t.$t("terminal.recovery")))]):t._e()],1),t._v(" "),i("el-dropdown-item",{staticStyle:{"margin-top":"4%","background-color":"rgb(219, 222, 231)"}},[1==t.contrForPrionum||3==t.contrForPrionum||1==t.delprio?i("el-button",{staticClass:"dels1",attrs:{size:"mini"},on:{click:function(a){return t.gatewayDele(e.$index)}}},[t._v(t._s(t.$t("gateway.delete")))]):t._e()],1)],1)],1)]}}],null,!1,482636151)}):t._e()],1),t._v(" "),i("div",{staticClass:"block",staticStyle:{"text-align":"center",width:"100%","margin-top":"1%"}},[i("el-pagination",{attrs:{"current-page":t.currentPage1,"page-sizes":[10,20,30,40,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage1=e},"update:current-page":function(e){t.currentPage1=e}}})],1)],1),t._v(" "),i("div",{staticClass:"mapConent"},[i("div",{attrs:{id:"gatewayMap"}},[i("span",{staticClass:"tips"},[t._v("\n              "+t._s(t.$t("gateway.tet"))+"\n            ")])]),t._v(" "),i("div",{attrs:{id:"lineChart"}},[i("div",{staticStyle:{height:"275px"},attrs:{id:"line1"}}),t._v(" "),i("div",{staticStyle:{height:"275px"},attrs:{id:"line2"}})]),t._v(" "),i("div",{staticClass:"ol-popup",attrs:{id:"popup"}},[i("a",{staticClass:"ol-popup-closer",attrs:{href:"#",id:"popup-closer"}},[i("img",{attrs:{src:a("YcdQ"),width:"11",height:"11",alt:""}})]),t._v(" "),i("div",{attrs:{id:"popup-content"}},[i("ul",[i("li",[t._v(t._s(t.$t("home.Gatewaynumber"))+t._s(t.deveuiNum))]),t._v(" "),i("el-divider",{staticClass:"divider"}),t._v(" "),i("li",[t._v(t._s(t.$t("home.Createdon"))+t._s(t.startAt))]),t._v(" "),i("el-divider",{staticClass:"divider"}),t._v(" "),i("li",[t._v(t._s(t.$t("home.Dataupdatetime"))+t._s(t.lastAt))]),t._v(" "),i("el-divider",{staticClass:"divider"}),t._v(" "),i("li",[t._v(t._s(t.$t("home.Company"))+t._s(t.customername))]),t._v(" "),i("el-divider",{staticClass:"divider"}),t._v(" "),i("li",[t._v(t._s(t.$t("home.Project"))+t._s(t.projectname))])],1)])])]),t._v(" "),i("el-dialog",{staticStyle:{"text-align":"center"},attrs:{title:t.$t("gateway.addgateway"),width:"30%",visible:t.add},on:{"update:visible":function(e){t.add=e},close:function(e){return t.addCancel("addData")}}},[i("el-form",{ref:"addData",staticStyle:{"text-align":"left"},attrs:{model:t.addData,"label-width":"130px",rules:t.addRules}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("gateway.deveui"),prop:"deveui"}},[i("el-input",{attrs:{maxlength:"16"},model:{value:t.addData.deveui,callback:function(e){t.$set(t.addData,"deveui",e)},expression:"addData.deveui"}}),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{position:"absolute","font-size":"130%",top:"50%",transform:"translateY(-50%)","margin-left":"5px"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(t.$t("gateway.tet1")))])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("floormanagement.Alias")}},[i("el-input",{model:{value:t.addData.alias,callback:function(e){t.$set(t.addData,"alias",e)},expression:"addData.alias"}}),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{position:"absolute","font-size":"130%",top:"50%",transform:"translateY(-50%)","margin-left":"5px"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(t.$t("gateway.tet2")))])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{attrs:{label:t.$t("gateway.company")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},on:{change:t.selectScheme},model:{value:t.addData.tenantid,callback:function(e){t.$set(t.addData,"tenantid",e)},expression:"addData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:t.$t("gateway.scheme"),prop:"scheme"}},[i("el-select",{attrs:{placeholder:t.$t("gateway.schemerules"),clearable:"",filterable:""},model:{value:t.addData.scheme,callback:function(e){t.$set(t.addData,"scheme",e)},expression:"addData.scheme"}},t._l(t.selectschemeList,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.value}})}),1),t._v(" "),i("el-tooltip",{staticClass:"item",staticStyle:{position:"absolute","font-size":"130%",top:"50%",transform:"translateY(-50%)","margin-left":"5px"},attrs:{effect:"light",placement:"right-start"}},[i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v(t._s(t.$t("gateway.tet3")))])]),t._v(" "),i("i",{staticClass:"el-icon-question"})])],1),t._v(" "),3==t.contrForPrionum||4==t.contrForPrionum?i("el-form-item",{attrs:{label:t.$t("mapmanagement.projectname1")}},[i("el-select",{attrs:{placeholder:t.$t("buildingmanagement.projectname1rule"),clearable:"",filterable:""},model:{value:t.addData.projectid,callback:function(e){t.$set(t.addData,"projectid",e)},expression:"addData.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form-item",{attrs:{label:t.$t("gateway.tet4")}},[i("el-select",{attrs:{placeholder:t.$t("gateway.tet5"),clearable:"",filterable:""},model:{value:t.addData.network,callback:function(e){t.$set(t.addData,"network",e)},expression:"addData.network"}},t._l(t.typeList,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.addData.network,expression:"addData.network == 1"}],staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("gateway.Cardid")}},[i("el-input",{attrs:{maxlength:"32"},model:{value:t.addData.cardid,callback:function(e){t.$set(t.addData,"cardid",e)},expression:"addData.cardid"}})],1):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.addData.network,expression:"addData.network == 1"}],staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("gateway.Totalflow1"),prop:"totalbytes"}},[i("el-input",{attrs:{maxlength:"16"},model:{value:t.totalbytes,callback:function(e){t.totalbytes=e},expression:"totalbytes"}})],1):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("gateway.sysmemo1")}},[i("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"64"},model:{value:t.addData.sysmemo,callback:function(e){t.$set(t.addData,"sysmemo",e)},expression:"addData.sysmemo"}})],1):t._e(),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum?i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("gateway.memo")}},[i("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"64"},model:{value:t.addData.memo,callback:function(e){t.$set(t.addData,"memo",e)},expression:"addData.memo"}})],1):t._e()],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.addCancel("addData")}}},[t._v(" "+t._s(t.$t("terminal.cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.addTrue("addData")}}},[t._v("\n              "+t._s(t.$t("terminal.confirm")))])],1)],1),t._v(" "),i("el-dialog",{staticClass:"edit",staticStyle:{"text-align":"center"},attrs:{title:t.$t("gateway.editgateway"),visible:t.edit,width:"30%"},on:{"update:visible":function(e){t.edit=e},close:function(e){return t.editCancel("editData")}}},[i("el-form",{ref:"editData",staticClass:"demo-ruleForm",staticStyle:{"text-align":"left","margin-left":"10px"},attrs:{model:t.editData,"label-width":"130px",rules:t.editRules}},[i("el-form-item",{attrs:{label:t.$t("gateway.deveui")}},[i("el-input",{attrs:{disabled:""},model:{value:t.editData.deveui,callback:function(e){t.$set(t.editData,"deveui",e)},expression:"editData.deveui"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("floormanagement.Alias")}},[i("el-input",{model:{value:t.editData.alias,callback:function(e){t.$set(t.editData,"alias",e)},expression:"editData.alias"}})],1),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{attrs:{label:t.$t("gateway.company")}},[i("el-select",{attrs:{clearable:"",filterable:"",placeholder:t.$t("terminal.choose")},on:{change:t.selectScheme},model:{value:t.editData.tenantid,callback:function(e){t.$set(t.editData,"tenantid",e)},expression:"editData.tenantid"}},t._l(t.tenantidData,function(t){return i("el-option",{key:t.tenantid,attrs:{label:t.username,value:t.tenantid}})}),1)],1):t._e(),t._v(" "),i("el-form-item",{attrs:{label:t.$t("gateway.scheme")}},[i("el-select",{attrs:{placeholder:t.$t("gateway.schemerules"),clearable:"",filterable:""},model:{value:t.editData.schemestr,callback:function(e){t.$set(t.editData,"schemestr",e)},expression:"editData.schemestr"}},t._l(t.selectschemeList,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.value}})}),1)],1),t._v(" "),3==t.contrForPrionum||4==t.contrForPrionum?i("el-form-item",{attrs:{label:t.$t("beacon.projectname1")}},[i("el-select",{attrs:{placeholder:t.$t("buildingmanagement.projectname1rule"),clearable:"",filterable:""},model:{value:t.editData.projectid,callback:function(e){t.$set(t.editData,"projectid",e)},expression:"editData.projectid"}},t._l(t.projectList,function(t){return i("el-option",{key:t.projectid,attrs:{label:t.name,value:t.projectid}})}),1)],1):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form-item",{attrs:{label:t.$t("gateway.tet4")}},[i("el-select",{attrs:{placeholder:t.$t("gateway.tet5"),clearable:"",filterable:""},model:{value:t.editData.network,callback:function(e){t.$set(t.editData,"network",e)},expression:"editData.network"}},t._l(t.typeList,function(t){return i("el-option",{key:t.index,attrs:{label:t.value,value:t.index}})}),1)],1):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.editData.network,expression:"editData.network == 1"}],attrs:{label:t.$t("gateway.Cardid")}},[i("el-input",{attrs:{maxlength:"32"},model:{value:t.editData.cardid,callback:function(e){t.$set(t.editData,"cardid",e)},expression:"editData.cardid"}})],1):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum||3==t.contrForPrionum||4==t.contrForPrionum?i("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1==t.editData.network,expression:"editData.network == 1"}],attrs:{label:t.$t("gateway.Totalflow1"),prop:"totalbytes"}},[i("el-input",{attrs:{maxlength:"16"},model:{value:t.totalbytes1,callback:function(e){t.totalbytes1=e},expression:"totalbytes1"}})],1):t._e(),t._v(" "),1==t.contrForPrionum||2==t.contrForPrionum?i("el-form-item",{attrs:{label:t.$t("gateway.sysmemo1")}},[i("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"64"},model:{value:t.editData.sysmemo,callback:function(e){t.$set(t.editData,"sysmemo",e)},expression:"editData.sysmemo"}})],1):t._e(),t._v(" "),1!=t.contrForPrionum&&2!=t.contrForPrionum?i("el-form-item",{attrs:{label:t.$t("gateway.memo")}},[i("el-input",{attrs:{type:"textarea","show-word-limit":"",maxlength:"64"},model:{value:t.editData.memo,callback:function(e){t.$set(t.editData,"memo",e)},expression:"editData.memo"}})],1):t._e()],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){return t.editCancel("editData")}}},[t._v(t._s(t.$t("terminal.cancel")))]),t._v(" "),i("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:function(e){return t.editTrue("editData")}}},[t._v(t._s(t.$t("terminal.confirm")))])],1)],1),t._v(" "),i("el-dialog",{staticStyle:{"text-align":"center"},attrs:{width:"30%",visible:t.show4Gdialog},on:{"update:visible":function(e){t.show4Gdialog=e}}},[i("el-form",{staticStyle:{"text-align":"left"},attrs:{model:t.show4GData,"label-width":"110px"}},[i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("gateway.Cardnumber"),prop:"name"}},[i("el-input",{model:{value:t.show4GData.cardid,callback:function(e){t.$set(t.show4GData,"cardid",e)},expression:"show4GData.cardid"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("gateway.Totalflow"),prop:"name"}},[i("el-input",{model:{value:t.show4GData.totalbytes,callback:function(e){t.$set(t.show4GData,"totalbytes",e)},expression:"show4GData.totalbytes"}})],1),t._v(" "),i("el-form-item",{staticStyle:{"margin-right":"2%"},attrs:{label:t.$t("gateway.Usageflow"),prop:"name"}},[i("el-input",{model:{value:t.show4GData.totalcount,callback:function(e){t.$set(t.show4GData,"totalcount",e)},expression:"show4GData.totalcount"}})],1)],1)],1)],1)],1)],1)])},staticRenderFns:[]};var n=function(t){a("yAQm")},r=a("VU/8")(i.a,s,!1,n,"data-v-b7d9cbe0",null);e.default=r.exports},yAQm:function(t,e){}});